diff --git a/dist/cjs/Http/App.js.map b/dist/cjs/Http/App.js.map
index 2c5dd26dbfad9edc6e50b540042056778a1aee76..e322377879ea7a793d18095cc78667366ed7f2c6 100644
--- a/dist/cjs/Http/App.js.map
+++ b/dist/cjs/Http/App.js.map
@@ -1 +1 @@
-{"version":3,"file":"App.js","names":["Cause","_interopRequireWildcard","require","Context","Effect","Exit","FiberRef","_Function","_GlobalValue","Layer","Option","Runtime","Scope","internalMiddleware","ServerError","ServerRequest","ServerResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","toHandled","self","handleResponse","middleware","responded","withFiberRuntime","fiber","request","unsafeGet","getFiberRef","currentContext","handler","currentPreResponseHandlers","preHandled","_tag","flatMap","response","value","exit","dieOption","cause","isServerResponse","succeed","zipRight","withTracer","tracer","uninterruptible","scoped","undefined","exports","globalValue","Symbol","for","unsafeMake","none","appendPreResponseHandler","update","match","onNone","some","onSome","prev","withPreResponseHandler","dual","locallyWith","toWebHandlerRuntime","runtime","run","runFork","resolveSymbol","rejectSymbol","handled","webRequest","source","isSuccess","toWeb","method","isInterruptedOnly","Response","status","signal","aborted","pretty","void","Promise","resolve","reject","req","fromWeb","provideService","addEventListener","unsafeInterruptAsFork","clientAbortFiberId","toWebHandler","defaultRuntime","toWebHandlerLayer","layer","scope","runSync","make","close","runPromise","build","map","toRuntime","_","runner","extend","then"],"sources":["../../../src/Http/App.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,KAAA,gBAAAC,uBAAA,eAAAC,OAAA;AACA,IAAAC,OAAA,gBAAAF,uBAAA,eAAAC,OAAA;AACA,IAAAE,MAAA,gBAAAH,uBAAA,eAAAC,OAAA;AACA,IAAAG,IAAA,gBAAAJ,uBAAA,eAAAC,OAAA;AACA,IAAAI,QAAA,gBAAAL,uBAAA,eAAAC,OAAA;AACA,IAAAK,SAAA,gBAAAL,OAAA;AACA,IAAAM,YAAA,gBAAAN,OAAA;AACA,IAAAO,KAAA,gBAAAR,uBAAA,eAAAC,OAAA;AACA,IAAAQ,MAAA,gBAAAT,uBAAA,eAAAC,OAAA;AACA,IAAAS,OAAA,gBAAAV,uBAAA,eAAAC,OAAA;AACA,IAAAU,KAAA,gBAAAX,uBAAA,eAAAC,OAAA;AACA,IAAAW,kBAAA,gBAAAZ,uBAAA,eAAAC,OAAA;AAEA,IAAAY,WAAA,gBAAAb,uBAAA,eAAAC,OAAA;AACA,IAAAa,aAAA,gBAAAd,uBAAA,eAAAC,OAAA;AACA,IAAAc,cAAA,gBAAAf,uBAAA,eAAAC,OAAA;AAAqD,SAAAe,yBAAAC,CAAA;EAAA,yBAAAC,OAAA;EAAA,IAAAC,CAAA,OAAAD,OAAA;IAAAE,CAAA,OAAAF,OAAA;EAAA,QAAAF,wBAAA,YAAAA,CAAAC,CAAA;IAAA,OAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA;EAAA,GAAAF,CAAA;AAAA;AAAA,SAAAjB,wBAAAiB,CAAA,EAAAE,CAAA;EAAA,KAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA;EAAA,aAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA;IAAAK,OAAA,EAAAL;EAAA;EAAA,IAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA;EAAA,IAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA;EAAA,IAAAQ,CAAA;MAAAC,SAAA;IAAA;IAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA;EAAA,SAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA;IAAA,IAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA;IAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA;EAAA;EAAA,OAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA;AAlBrD;;;;AAkCA;;;;AAIO,MAAMW,SAAS,GAAGA,CACvBC,IAAmB,EACnBC,cAGgC,EAChCC,UAAmC,KACqC;EACxE,MAAMC,SAAS,GAAGrC,MAAM,CAACsC,gBAAgB,CAItCC,KAAK,IAAI;IACV,MAAMC,OAAO,GAAGzC,OAAO,CAAC0C,SAAS,CAACF,KAAK,CAACG,WAAW,CAACxC,QAAQ,CAACyC,cAAc,CAAC,EAAEhC,aAAa,CAACA,aAAa,CAAC;IAC1G,MAAMiC,OAAO,GAAGL,KAAK,CAACG,WAAW,CAACG,0BAA0B,CAAC;IAC7D,MAAMC,UAAU,GAAGF,OAAO,CAACG,IAAI,KAAK,MAAM,GACtC/C,MAAM,CAACgD,OAAO,CAACd,IAAI,EAAGe,QAAQ,IAAKL,OAAO,CAACM,KAAK,CAACV,OAAO,EAAES,QAAQ,CAAC,CAAC,GACpEf,IAAI;IACR,OAAOlC,MAAM,CAACgD,OAAO,CACnBhD,MAAM,CAACmD,IAAI,CAACL,UAAU,CAAC,EACtBK,IAAI,IAAI;MACP,IAAIA,IAAI,CAACJ,IAAI,KAAK,SAAS,EAAE;QAC3B,MAAMK,SAAS,GAAGxD,KAAK,CAACwD,SAAS,CAACD,IAAI,CAACE,KAAK,CAAC;QAC7C,IAAID,SAAS,CAACL,IAAI,KAAK,MAAM,IAAInC,cAAc,CAAC0C,gBAAgB,CAACF,SAAS,CAACF,KAAK,CAAC,EAAE;UACjFC,IAAI,GAAGlD,IAAI,CAACsD,OAAO,CAACH,SAAS,CAACF,KAAK,CAAC;QACtC;MACF;MACA,OAAOlD,MAAM,CAACwD,QAAQ,CAACrB,cAAc,CAACK,OAAO,EAAEW,IAAI,CAAC,EAAEA,IAAI,CAAC;IAC7D,CAAC,CACF;EACH,CAAC,CAAC;EACF,MAAMM,UAAU,GAAGhD,kBAAkB,CAACiD,MAAM,CAACrB,SAAS,CAAC;EACvD,OAAOrC,MAAM,CAAC2D,eAAe,CAAC3D,MAAM,CAAC4D,MAAM,CAACxB,UAAU,KAAKyB,SAAS,GAAGJ,UAAU,GAAGrB,UAAU,CAACqB,UAAU,CAAC,CAAC,CAAC;AAC9G,CAAC;AAWD;;;;AAAAK,OAAA,CAAA7B,SAAA,GAAAA,SAAA;AAIO,MAAMY,0BAA0B,GAAAiB,OAAA,CAAAjB,0BAAA,gBAAyD,IAAAzC,YAAA,CAAA2D,WAAW,gBACzGC,MAAM,CAACC,GAAG,CAAC,+CAA+C,CAAC,EAC3D,MAAM/D,QAAQ,CAACgE,UAAU,CAAoC5D,MAAM,CAAC6D,IAAI,EAAE,CAAC,CAC5E;AAED;;;;AAIO,MAAMC,wBAAwB,GACnCxB,OAA2B,IAE3B1C,QAAQ,CAACmE,MAAM,CACbxB,0BAA0B,EAC1BvC,MAAM,CAACgE,KAAK,CAAC;EACXC,MAAM,EAAEA,CAAA,KAAMjE,MAAM,CAACkE,IAAI,CAAC5B,OAAO,CAAC;EAClC6B,MAAM,EAAGC,IAAI,IACXpE,MAAM,CAACkE,IAAI,CAAC,CAAChC,OAAO,EAAES,QAAQ,KAC5BjD,MAAM,CAACgD,OAAO,CAAC0B,IAAI,CAAClC,OAAO,EAAES,QAAQ,CAAC,EAAGA,QAAQ,IAAKL,OAAO,CAACJ,OAAO,EAAES,QAAQ,CAAC,CAAC;CAEtF,CAAC,CACH;AAEH;;;;AAAAa,OAAA,CAAAM,wBAAA,GAAAA,wBAAA;AAIO,MAAMO,sBAAsB,GAAAb,OAAA,CAAAa,sBAAA,gBAAG,IAAAxE,SAAA,CAAAyE,IAAI,EAGxC,CAAC,EAAE,CAAC1C,IAAI,EAAEU,OAAO,KACjB5C,MAAM,CAAC6E,WAAW,CAChB3C,IAAI,EACJW,0BAA0B,EAC1BvC,MAAM,CAACgE,KAAK,CAAC;EACXC,MAAM,EAAEA,CAAA,KAAMjE,MAAM,CAACkE,IAAI,CAAC5B,OAAO,CAAC;EAClC6B,MAAM,EAAGC,IAAI,IACXpE,MAAM,CAACkE,IAAI,CAAC,CAAChC,OAAO,EAAES,QAAQ,KAC5BjD,MAAM,CAACgD,OAAO,CAAC0B,IAAI,CAAClC,OAAO,EAAES,QAAQ,CAAC,EAAGA,QAAQ,IAAKL,OAAO,CAACJ,OAAO,EAAES,QAAQ,CAAC,CAAC;CAEtF,CAAC,CACH,CAAC;AAEJ;;;;AAIO,MAAM6B,mBAAmB,GAAOC,OAA2B,IAAI;EACpE,MAAMC,GAAG,GAAGzE,OAAO,CAAC0E,OAAO,CAACF,OAAO,CAAC;EACpC,MAAMG,aAAa,GAAGlB,MAAM,EAAE;EAC9B,MAAMmB,YAAY,GAAGnB,MAAM,EAAE;EAC7B,OAAW9B,IAAiC,IAAI;IAC9C,MAAMkD,OAAO,GAAGpF,MAAM,CAAC4D,MAAM,CAAC3B,SAAS,CAACC,IAAI,EAAE,CAACM,OAAO,EAAEW,IAAI,KAAI;MAC9D,MAAMkC,UAAU,GAAG7C,OAAO,CAAC8C,MAAiB;MAC5C,IAAIrF,IAAI,CAACsF,SAAS,CAACpC,IAAI,CAAC,EAAE;QACxB;QAAEX,OAAe,CAAC0C,aAAa,CAAC,CAACtE,cAAc,CAAC4E,KAAK,CAACrC,IAAI,CAACD,KAAK,EAAEV,OAAO,CAACiD,MAAM,KAAK,MAAM,CAAC,CAAC;MAC/F,CAAC,MAAM,IAAI7F,KAAK,CAAC8F,iBAAiB,CAACvC,IAAI,CAACE,KAAK,CAAC,EAAE;QAC9C;QAAEb,OAAe,CAAC0C,aAAa,CAAC,CAAC,IAAIS,QAAQ,CAAC,IAAI,EAAE;UAAEC,MAAM,EAAEP,UAAU,CAACQ,MAAM,CAACC,OAAO,GAAG,GAAG,GAAG;QAAG,CAAE,CAAC,CAAC;MACzG,CAAC,MAAM;QACL;QAAEtD,OAAe,CAAC2C,YAAY,CAAC,CAACvF,KAAK,CAACmG,MAAM,CAAC5C,IAAI,CAACE,KAAK,CAAC,CAAC;MAC3D;MACA,OAAOrD,MAAM,CAACgG,IAAI;IACpB,CAAC,CAAC,CAAC;IACH,OAAQxD,OAAgB,IACtB,IAAIyD,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;MAC9B,MAAMC,GAAG,GAAGzF,aAAa,CAAC0F,OAAO,CAAC7D,OAAO,CAAC;MACxC4D,GAAW,CAAClB,aAAa,CAAC,GAAGgB,OAAO;MACpCE,GAAW,CAACjB,YAAY,CAAC,GAAGgB,MAAM;MACpC,MAAM5D,KAAK,GAAGyC,GAAG,CACfhF,MAAM,CAACsG,cAAc,CAAClB,OAAO,EAAEzE,aAAa,CAACA,aAAa,EAAEyF,GAAG,CAAC,CACjE;MACD5D,OAAO,CAACqD,MAAM,CAACU,gBAAgB,CAAC,OAAO,EAAE,MAAK;QAC5ChE,KAAK,CAACiE,qBAAqB,CAAC9F,WAAW,CAAC+F,kBAAkB,CAAC;MAC7D,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC;AACH,CAAC;AAED;;;;AAAA3C,OAAA,CAAAgB,mBAAA,GAAAA,mBAAA;AAIO,MAAM4B,YAAY,GAAA5C,OAAA,CAAA4C,YAAA,gBACvB5B,mBAAmB,CAACvE,OAAO,CAACoG,cAAc,CAAC;AAE7C;;;;AAIO,MAAMC,iBAAiB,GAAGA,CAC/B1E,IAAiC,EACjC2E,KAAyB,KAIvB;EACF,MAAMC,KAAK,GAAG9G,MAAM,CAAC+G,OAAO,CAACvG,KAAK,CAACwG,IAAI,EAAE,CAAC;EAC1C,MAAMC,KAAK,GAAGA,CAAA,KAAMjH,MAAM,CAACkH,UAAU,CAAC1G,KAAK,CAACyG,KAAK,CAACH,KAAK,EAAE7G,IAAI,CAAC+F,IAAI,CAAC,CAAC;EACpE,MAAMmB,KAAK,GAAGnH,MAAM,CAACoH,GAAG,CAAC/G,KAAK,CAACgH,SAAS,CAACR,KAAK,CAAC,EAAGS,CAAC,IAAKxC,mBAAmB,CAACwC,CAAC,CAAC,CAACpF,IAAI,CAAC,CAAC;EACrF,MAAMqF,MAAM,GAAGvH,MAAM,CAACkH,UAAU,CAAC1G,KAAK,CAACgH,MAAM,CAACL,KAAK,EAAEL,KAAK,CAAC,CAAC;EAC5D,MAAMlE,OAAO,GAAIJ,OAAgB,IAAwB+E,MAAM,CAACE,IAAI,CAAE7E,OAAO,IAAKA,OAAO,CAACJ,OAAO,CAAC,CAAC;EACnG,OAAO;IAAEyE,KAAK;IAAErE;EAAO,CAAW;AACpC,CAAC;AAAAkB,OAAA,CAAA8C,iBAAA,GAAAA,iBAAA","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"App.js","names":["Cause","_interopRequireWildcard","require","Context","Effect","Exit","FiberRef","_Function","_GlobalValue","Layer","Option","Runtime","Scope","internalMiddleware","ServerError","ServerRequest","ServerResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","toHandled","self","handleResponse","middleware","responded","withFiberRuntime","fiber","request","unsafeGet","getFiberRef","currentContext","handler","currentPreResponseHandlers","preHandled","_tag","flatMap","response","value","exit","dieOption","cause","isServerResponse","succeed","zipRight","withTracer","tracer","uninterruptible","scoped","undefined","exports","globalValue","Symbol","for","unsafeMake","none","appendPreResponseHandler","update","match","onNone","some","onSome","prev","withPreResponseHandler","dual","locallyWith","toWebHandlerRuntime","runtime","run","runFork","resolveSymbol","rejectSymbol","handled","webRequest","source","isSuccess","toWeb","method","isInterruptedOnly","Response","status","signal","aborted","pretty","void","Promise","resolve","reject","req","fromWeb","provideService","addEventListener","unsafeInterruptAsFork","clientAbortFiberId","toWebHandler","defaultRuntime","toWebHandlerLayer","layer","scope","runSync","make","close","runPromise","build","map","toRuntime","_","runner","extend","then"],"sources":["../../../src/Http/App.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/Http/Client.js b/dist/cjs/Http/Client.js
index 7a42d403a2c8a93b408a8c2a3030bd54b799eb09..aa606b8b587e5f219b18011247928106c3282462 100644
--- a/dist/cjs/Http/Client.js
+++ b/dist/cjs/Http/Client.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.withTracerDisabledWhen = exports.withFetchOptions = exports.withCookiesRef = exports.transformResponse = exports.transform = exports.tapRequest = exports.tap = exports.scoped = exports.schemaFunction = exports.retry = exports.mapRequestEffect = exports.mapRequest = exports.mapInputRequestEffect = exports.mapInputRequest = exports.mapEffectScoped = exports.mapEffect = exports.map = exports.makeDefault = exports.make = exports.layer = exports.filterStatusOk = exports.filterStatus = exports.filterOrFail = exports.filterOrElse = exports.fetchOk = exports.fetch = exports.currentTracerDisabledWhen = exports.currentFetchOptions = exports.catchTags = exports.catchTag = exports.catchAll = exports.TypeId = exports.Fetch = exports.Client = void 0;
+exports.withTracerPropagation = exports.withTracerDisabledWhen = exports.withFetchOptions = exports.withCookiesRef = exports.transformResponse = exports.transform = exports.tapRequest = exports.tap = exports.scoped = exports.schemaFunction = exports.retry = exports.mapRequestEffect = exports.mapRequest = exports.mapInputRequestEffect = exports.mapInputRequest = exports.mapEffectScoped = exports.mapEffect = exports.map = exports.makeDefault = exports.make = exports.layer = exports.filterStatusOk = exports.filterStatus = exports.filterOrFail = exports.filterOrElse = exports.fetchOk = exports.fetch = exports.currentTracerPropagation = exports.currentTracerDisabledWhen = exports.currentFetchOptions = exports.catchTags = exports.catchTag = exports.catchAll = exports.TypeId = exports.Fetch = exports.Client = void 0;
 var internal = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("../internal/http/client.js"));
 function _getRequireWildcardCache(e) {
   if ("function" != typeof WeakMap) return null;
@@ -190,6 +190,16 @@ const currentTracerDisabledWhen = exports.currentTracerDisabledWhen = internal.c
  * @category fiber refs
  */
 const withTracerDisabledWhen = exports.withTracerDisabledWhen = internal.withTracerDisabledWhen;
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+const currentTracerPropagation = exports.currentTracerPropagation = internal.currentTracerPropagation;
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+const withTracerPropagation = exports.withTracerPropagation = internal.withTracerPropagation;
 /**
  * @since 1.0.0
  * @category fiber refs
diff --git a/dist/cjs/Http/Client.js.map b/dist/cjs/Http/Client.js.map
index 69ea3e03ec625b29fb8b55b0a5de589acd8b8c96..273fd635b06012cce7becc7cd7d7187ebd41ce06 100644
--- a/dist/cjs/Http/Client.js.map
+++ b/dist/cjs/Http/Client.js.map
@@ -1 +1 @@
-{"version":3,"file":"Client.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Client","tag","Fetch","layer","fetch","fetchOk","catchAll","catchTag","catchTags","filterOrElse","filterOrFail","filterStatus","filterStatusOk","make","makeDefault","transform","transformResponse","map","mapEffect","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","scoped","schemaFunction","tap","tapRequest","withCookiesRef","currentTracerDisabledWhen","withTracerDisabledWhen","currentFetchOptions","withFetchOptions"],"sources":["../../../src/Http/Client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Client.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Client","tag","Fetch","layer","fetch","fetchOk","catchAll","catchTag","catchTags","filterOrElse","filterOrFail","filterStatus","filterStatusOk","make","makeDefault","transform","transformResponse","map","mapEffect","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","scoped","schemaFunction","tap","tapRequest","withCookiesRef","currentTracerDisabledWhen","withTracerDisabledWhen","currentTracerPropagation","withTracerPropagation","currentFetchOptions","withFetchOptions"],"sources":["../../../src/Http/Client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/Http/Middleware.js b/dist/cjs/Http/Middleware.js
index 42d346dc982c1989680f2b36c5b0c7365d34c9b3..ef05f6a17249c3c84e78e9f1cdce417d51f2c488 100644
--- a/dist/cjs/Http/Middleware.js
+++ b/dist/cjs/Http/Middleware.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.xForwardedHeaders = exports.withTracerDisabledWhenEffect = exports.withTracerDisabledWhen = exports.withTracerDisabledForUrls = exports.withLoggerDisabled = exports.make = exports.loggerDisabled = exports.logger = exports.currentTracerDisabledWhen = void 0;
+exports.xForwardedHeaders = exports.withTracerDisabledWhenEffect = exports.withTracerDisabledWhen = exports.withTracerDisabledForUrls = exports.withLoggerDisabled = exports.searchParamsParser = exports.make = exports.loggerDisabled = exports.logger = exports.currentTracerDisabledWhen = void 0;
 var internal = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("../internal/http/middleware.js"));
 function _getRequireWildcardCache(e) {
   if ("function" != typeof WeakMap) return null;
@@ -75,4 +75,9 @@ const withTracerDisabledForUrls = exports.withTracerDisabledForUrls = internal.w
  * @category constructors
  */
 const xForwardedHeaders = exports.xForwardedHeaders = internal.xForwardedHeaders;
+/**
+ * @since 1.0.0
+ * @category constructors
+ */
+const searchParamsParser = exports.searchParamsParser = internal.searchParamsParser;
 //# sourceMappingURL=Middleware.js.map
\ No newline at end of file
diff --git a/dist/cjs/Http/Middleware.js.map b/dist/cjs/Http/Middleware.js.map
index abb18158957bd009a0ada5fe48eaefcaf5fb60de..ef42835534bf22a266673a436bfeb1c2f1e8a193 100644
--- a/dist/cjs/Http/Middleware.js.map
+++ b/dist/cjs/Http/Middleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"Middleware.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","exports","logger","loggerDisabled","withLoggerDisabled","currentTracerDisabledWhen","withTracerDisabledWhen","withTracerDisabledWhenEffect","withTracerDisabledForUrls","xForwardedHeaders"],"sources":["../../../src/Http/Middleware.ts"],"sourcesContent":[null],"mappings":";;;;;;AAOA,IAAAA,QAAA,gBAAAC,uBAAA,eAAAC,OAAA;AAA0D,SAAAC,yBAAAC,CAAA;EAAA,yBAAAC,OAAA;EAAA,IAAAC,CAAA,OAAAD,OAAA;IAAAE,CAAA,OAAAF,OAAA;EAAA,QAAAF,wBAAA,YAAAA,CAAAC,CAAA;IAAA,OAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA;EAAA,GAAAF,CAAA;AAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA;EAAA,KAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA;EAAA,aAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA;IAAAK,OAAA,EAAAL;EAAA;EAAA,IAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA;EAAA,IAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA;EAAA,IAAAQ,CAAA;MAAAC,SAAA;IAAA;IAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA;EAAA,SAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA;IAAA,IAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA;IAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA;EAAA;EAAA,OAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA;AAwB1D;;;;AAIO,MAAMW,IAAI,GAAAC,OAAA,CAAAD,IAAA,GAA+CvB,QAAQ,CAACuB,IAAI;AAE7E;;;;AAIO,MAAME,MAAM,GAAAD,OAAA,CAAAC,MAAA,GAA4DzB,QAAQ,CAACyB,MAAM;AAE9F;;;;AAIO,MAAMC,cAAc,GAAAF,OAAA,CAAAE,cAAA,GAA+B1B,QAAQ,CAAC0B,cAAc;AAEjF;;;;AAIO,MAAMC,kBAAkB,GAAAH,OAAA,CAAAG,kBAAA,GAC7B3B,QAAQ,CAAC2B,kBAAkB;AAE7B;;;;AAIO,MAAMC,yBAAyB,GAAAJ,OAAA,CAAAI,yBAAA,GACpC5B,QAAQ,CAAC4B,yBAAyB;AAEpC;;;;AAIO,MAAMC,sBAAsB,GAAAL,OAAA,CAAAK,sBAAA,GAQ/B7B,QAAQ,CAAC6B,sBAAsB;AAEnC;;;;AAIO,MAAMC,4BAA4B,GAAAN,OAAA,CAAAM,4BAAA,GAQrC9B,QAAQ,CAAC8B,4BAA4B;AAEzC;;;;AAIO,MAAMC,yBAAyB,GAAAP,OAAA,CAAAO,yBAAA,GAGlC/B,QAAQ,CAAC+B,yBAAyB;AAEtC;;;;AAIO,MAAMC,iBAAiB,GAAAR,OAAA,CAAAQ,iBAAA,GAA4DhC,QAAQ,CAACgC,iBAAiB","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Middleware.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","exports","logger","loggerDisabled","withLoggerDisabled","currentTracerDisabledWhen","withTracerDisabledWhen","withTracerDisabledWhenEffect","withTracerDisabledForUrls","xForwardedHeaders","searchParamsParser"],"sources":["../../../src/Http/Middleware.ts"],"sourcesContent":[null],"mappings":";;;;;;AAOA,IAAAA,QAAA,gBAAAC,uBAAA,eAAAC,OAAA;AAA0D,SAAAC,yBAAAC,CAAA;EAAA,yBAAAC,OAAA;EAAA,IAAAC,CAAA,OAAAD,OAAA;IAAAE,CAAA,OAAAF,OAAA;EAAA,QAAAF,wBAAA,YAAAA,CAAAC,CAAA;IAAA,OAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA;EAAA,GAAAF,CAAA;AAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA;EAAA,KAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA;EAAA,aAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA;IAAAK,OAAA,EAAAL;EAAA;EAAA,IAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA;EAAA,IAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA;EAAA,IAAAQ,CAAA;MAAAC,SAAA;IAAA;IAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA;EAAA,SAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA;IAAA,IAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA;IAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA;EAAA;EAAA,OAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA;AAwB1D;;;;AAIO,MAAMW,IAAI,GAAAC,OAAA,CAAAD,IAAA,GAA+CvB,QAAQ,CAACuB,IAAI;AAE7E;;;;AAIO,MAAME,MAAM,GAAAD,OAAA,CAAAC,MAAA,GAA4DzB,QAAQ,CAACyB,MAAM;AAE9F;;;;AAIO,MAAMC,cAAc,GAAAF,OAAA,CAAAE,cAAA,GAA+B1B,QAAQ,CAAC0B,cAAc;AAEjF;;;;AAIO,MAAMC,kBAAkB,GAAAH,OAAA,CAAAG,kBAAA,GAC7B3B,QAAQ,CAAC2B,kBAAkB;AAE7B;;;;AAIO,MAAMC,yBAAyB,GAAAJ,OAAA,CAAAI,yBAAA,GACpC5B,QAAQ,CAAC4B,yBAAyB;AAEpC;;;;AAIO,MAAMC,sBAAsB,GAAAL,OAAA,CAAAK,sBAAA,GAQ/B7B,QAAQ,CAAC6B,sBAAsB;AAEnC;;;;AAIO,MAAMC,4BAA4B,GAAAN,OAAA,CAAAM,4BAAA,GAQrC9B,QAAQ,CAAC8B,4BAA4B;AAEzC;;;;AAIO,MAAMC,yBAAyB,GAAAP,OAAA,CAAAO,yBAAA,GAGlC/B,QAAQ,CAAC+B,yBAAyB;AAEtC;;;;AAIO,MAAMC,iBAAiB,GAAAR,OAAA,CAAAQ,iBAAA,GAA4DhC,QAAQ,CAACgC,iBAAiB;AAEpH;;;;AAIO,MAAMC,kBAAkB,GAAAT,OAAA,CAAAS,kBAAA,GAK3BjC,QAAQ,CAACiC,kBAAkB","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/Http/Router.js b/dist/cjs/Http/Router.js
index d166b3db409f195af4986984018581d0efd4b747..e1743eb1a7b262c92e58a9bae71ff40d09c136ef 100644
--- a/dist/cjs/Http/Router.js
+++ b/dist/cjs/Http/Router.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.use = exports.searchParams = exports.schemaSearchParams = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.all = exports.TypeId = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = void 0;
+exports.use = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.all = exports.TypeId = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = void 0;
 var internal = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("../internal/http/router.js"));
 function _getRequireWildcardCache(e) {
   if ("function" != typeof WeakMap) return null;
@@ -55,11 +55,6 @@ const RouteContext = exports.RouteContext = internal.RouteContext;
  * @category route context
  */
 const params = exports.params = internal.params;
-/**
- * @since 1.0.0
- * @category route context
- */
-const searchParams = exports.searchParams = internal.searchParams;
 /**
  * @since 1.0.0
  * @category route context
@@ -80,11 +75,6 @@ const schemaParams = exports.schemaParams = internal.schemaParams;
  * @category route context
  */
 const schemaPathParams = exports.schemaPathParams = internal.schemaPathParams;
-/**
- * @since 1.0.0
- * @category route context
- */
-const schemaSearchParams = exports.schemaSearchParams = internal.schemaSearchParams;
 /**
  * @since 1.0.0
  * @category constructors
diff --git a/dist/cjs/Http/Router.js.map b/dist/cjs/Http/Router.js.map
index cee8efc3055747e479a1fb1b6ccdf35e00872bfa..2f592d6739c42d407591609f701a4aaadb54fb65 100644
--- a/dist/cjs/Http/Router.js.map
+++ b/dist/cjs/Http/Router.js.map
@@ -1 +1 @@
-{"version":3,"file":"Router.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","RouteTypeId","RouteContextTypeId","RouteContext","params","searchParams","schemaJson","schemaNoBody","schemaParams","schemaPathParams","schemaSearchParams","empty","fromIterable","makeRoute","prefixAll","concat","mount","mountApp","route","all","post","patch","put","del","head","options","use","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect"],"sources":["../../../src/Http/Router.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Router.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","RouteTypeId","RouteContextTypeId","RouteContext","params","schemaJson","schemaNoBody","schemaParams","schemaPathParams","empty","fromIterable","makeRoute","prefixAll","concat","mount","mountApp","route","all","post","patch","put","del","head","options","use","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect"],"sources":["../../../src/Http/Router.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/Http/ServerRequest.js b/dist/cjs/Http/ServerRequest.js
index fca508ee7f13c69536a63324fae62b1bb34c6c7e..5995e8f072c0571c8f28090ca19e53b27f6a06bb 100644
--- a/dist/cjs/Http/ServerRequest.js
+++ b/dist/cjs/Http/ServerRequest.js
@@ -3,14 +3,14 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.fromWeb = exports.TypeId = exports.ServerRequest = void 0;
+exports.fromWeb = exports.TypeId = exports.ServerRequest = exports.ParsedSearchParams = void 0;
 Object.defineProperty(exports, "maxBodySize", {
   enumerable: true,
   get: function () {
     return _IncomingMessage.maxBodySize;
   }
 });
-exports.upgradeChannel = exports.upgrade = exports.schemaHeaders = exports.schemaCookies = exports.schemaBodyUrlParams = exports.schemaBodyMultipart = exports.schemaBodyJson = exports.schemaBodyFormJson = exports.schemaBodyForm = exports.persistedMultipart = void 0;
+exports.upgradeChannel = exports.upgrade = exports.searchParamsFromURL = exports.schemaSearchParams = exports.schemaHeaders = exports.schemaCookies = exports.schemaBodyUrlParams = exports.schemaBodyMultipart = exports.schemaBodyJson = exports.schemaBodyFormJson = exports.schemaBodyForm = exports.persistedMultipart = void 0;
 var internal = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("../internal/http/serverRequest.js"));
 var _IncomingMessage = /*#__PURE__*/require("./IncomingMessage.js");
 function _getRequireWildcardCache(e) {
@@ -48,6 +48,16 @@ const TypeId = exports.TypeId = internal.TypeId;
  * @category context
  */
 const ServerRequest = exports.ServerRequest = internal.serverRequestTag;
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+const ParsedSearchParams = exports.ParsedSearchParams = internal.parsedSearchParamsTag;
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+const searchParamsFromURL = exports.searchParamsFromURL = internal.searchParamsFromURL;
 /**
  * @since 1.0.0
  * @category accessors
@@ -73,6 +83,11 @@ const schemaCookies = exports.schemaCookies = internal.schemaCookies;
  * @category schema
  */
 const schemaHeaders = exports.schemaHeaders = internal.schemaHeaders;
+/**
+ * @since 1.0.0
+ * @category schema
+ */
+const schemaSearchParams = exports.schemaSearchParams = internal.schemaSearchParams;
 /**
  * @since 1.0.0
  * @category schema
diff --git a/dist/cjs/Http/ServerRequest.js.map b/dist/cjs/Http/ServerRequest.js.map
index a61c766bd0df72df289afcf89fdc10448d3fd8f1..bf92ec731b6a129edfc0d62f21c795f8aa5cebc4 100644
--- a/dist/cjs/Http/ServerRequest.js.map
+++ b/dist/cjs/Http/ServerRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"ServerRequest.js","names":["internal","_interopRequireWildcard","require","_IncomingMessage","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","ServerRequest","serverRequestTag","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb"],"sources":["../../../src/Http/ServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"ServerRequest.js","names":["internal","_interopRequireWildcard","require","_IncomingMessage","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","ServerRequest","serverRequestTag","ParsedSearchParams","parsedSearchParamsTag","searchParamsFromURL","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaSearchParams","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb"],"sources":["../../../src/Http/ServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/Http/UrlParams.js b/dist/cjs/Http/UrlParams.js
index 0afad28a56f8a56c423d4799fdd1a75298421b4b..dfb8e4662569c1c075e0b8fd8a2e53720b502c25 100644
--- a/dist/cjs/Http/UrlParams.js
+++ b/dist/cjs/Http/UrlParams.js
@@ -42,7 +42,17 @@ const fromInput = input => {
   if (Symbol.iterator in input) {
     return Arr.fromIterable(input);
   }
-  return Arr.fromIterable(Object.entries(input));
+  const out = [];
+  for (const [key, value] of Object.entries(input)) {
+    if (Array.isArray(value)) {
+      for (let i = 0; i < value.length; i++) {
+        out.push([key, value[i]]);
+      }
+    } else {
+      out.push([key, value]);
+    }
+  }
+  return out;
 };
 /**
  * @since 1.0.0
diff --git a/dist/cjs/Http/UrlParams.js.map b/dist/cjs/Http/UrlParams.js.map
index af53774cda009b34582cdaa8a6dcbd60178a5c06..56ecd1799ba23c5cc9161da4131eb19ff041f6dd 100644
--- a/dist/cjs/Http/UrlParams.js.map
+++ b/dist/cjs/Http/UrlParams.js.map
@@ -1 +1 @@
-{"version":3,"file":"UrlParams.js","names":["Schema","_interopRequireWildcard","require","Arr","Either","_Function","Option","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","fromInput","input","Symbol","iterator","fromIterable","entries","exports","schema","Array","Tuple","String","pipe","identifier","empty","getAll","dual","self","key","reduce","acc","k","value","push","getFirst","map","findFirst","getLast","findLast","append","filter","setAll","toSet","keys","appendAll","includes","remove","toString","URLSearchParams","makeUrl","url","params","urlInstance","URL","baseUrl","length","undefined","searchParams","right","left","globalThis","location","origin","pathname","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse"],"sources":["../../../src/Http/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"UrlParams.js","names":["Schema","_interopRequireWildcard","require","Arr","Either","_Function","Option","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","fromInput","input","Symbol","iterator","fromIterable","out","key","value","entries","Array","isArray","length","push","exports","schema","Tuple","String","pipe","identifier","empty","getAll","dual","self","reduce","acc","k","getFirst","map","findFirst","getLast","findLast","append","filter","setAll","toSet","keys","appendAll","includes","remove","toString","URLSearchParams","makeUrl","url","params","urlInstance","URL","baseUrl","undefined","searchParams","right","left","globalThis","location","origin","pathname","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse"],"sources":["../../../src/Http/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/http/client.js b/dist/cjs/internal/http/client.js
index 069b54bafbabfe3eba934df18c15235df272543f..7ef55a2505b803c0b2896dc6de87ed2e90f1f6d1 100644
--- a/dist/cjs/internal/http/client.js
+++ b/dist/cjs/internal/http/client.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.withTracerDisabledWhen = exports.withFetchOptions = exports.withCookiesRef = exports.transformResponse = exports.transform = exports.tapRequest = exports.tap = exports.tag = exports.scoped = exports.schemaFunction = exports.retry = exports.mapRequestEffect = exports.mapRequest = exports.mapInputRequestEffect = exports.mapInputRequest = exports.mapEffectScoped = exports.mapEffect = exports.map = exports.makeDefault = exports.make = exports.layer = exports.filterStatusOk = exports.filterStatus = exports.filterOrFail = exports.filterOrElse = exports.fetchOk = exports.fetch = exports.currentTracerDisabledWhen = exports.currentFetchOptions = exports.catchTags = exports.catchTag = exports.catchAll = exports.TypeId = exports.Fetch = void 0;
+exports.withTracerPropagation = exports.withTracerDisabledWhen = exports.withFetchOptions = exports.withCookiesRef = exports.transformResponse = exports.transform = exports.tapRequest = exports.tap = exports.tag = exports.scoped = exports.schemaFunction = exports.retry = exports.mapRequestEffect = exports.mapRequest = exports.mapInputRequestEffect = exports.mapInputRequest = exports.mapEffectScoped = exports.mapEffect = exports.map = exports.makeDefault = exports.make = exports.layer = exports.filterStatusOk = exports.filterStatus = exports.filterOrFail = exports.filterOrElse = exports.fetchOk = exports.fetch = exports.currentTracerPropagation = exports.currentTracerDisabledWhen = exports.currentFetchOptions = exports.catchTags = exports.catchTag = exports.catchAll = exports.TypeId = exports.Fetch = void 0;
 var Schema = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("@effect/schema/Schema"));
 var Context = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Context"));
 var Effect = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Effect"));
@@ -59,6 +59,10 @@ const currentTracerDisabledWhen = exports.currentTracerDisabledWhen = /*#__PURE_
 /** @internal */
 const withTracerDisabledWhen = exports.withTracerDisabledWhen = /*#__PURE__*/(0, _Function.dual)(2, (self, pred) => Effect.locally(self, currentTracerDisabledWhen, pred));
 /** @internal */
+const currentTracerPropagation = exports.currentTracerPropagation = /*#__PURE__*/(0, _GlobalValue.globalValue)( /*#__PURE__*/Symbol.for("@effect/platform/Http/Client/currentTracerPropagation"), () => FiberRef.unsafeMake(true));
+/** @internal */
+const withTracerPropagation = exports.withTracerPropagation = /*#__PURE__*/(0, _Function.dual)(2, (self, enabled) => Effect.locally(self, currentTracerPropagation, enabled));
+/** @internal */
 const currentFetchOptions = exports.currentFetchOptions = /*#__PURE__*/(0, _GlobalValue.globalValue)( /*#__PURE__*/Symbol.for("@effect/platform/Http/Client/currentFetchOptions"), () => FiberRef.unsafeMake({}));
 /** @internal */
 const withFetchOptions = exports.withFetchOptions = /*#__PURE__*/(0, _Function.dual)(2, (self, options) => Effect.locally(self, currentFetchOptions, options));
@@ -94,18 +98,20 @@ const makeDefault = f => make(effect => Effect.flatMap(effect, request => Effect
     }));
   }
   const url = urlResult.right;
-  const tracerDisabled = fiber.getFiberRef(currentTracerDisabledWhen)(request);
+  const tracerDisabled = !fiber.getFiberRef(FiberRef.currentTracerEnabled) || fiber.getFiberRef(currentTracerDisabledWhen)(request);
   if (tracerDisabled) {
     return Effect.zipRight(addAbort, f(request, url, controller.signal, fiber));
   }
   return Effect.zipRight(addAbort, Effect.useSpan(`http.client ${request.method}`, {
     kind: "client"
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     span.attribute("server.address", url.origin);
     if (url.port !== "") {
       span.attribute("server.port", +url.port);
     }
+    span.attribute("http.url", url.toString());
     span.attribute("url.full", url.toString());
     span.attribute("url.path", url.pathname);
     span.attribute("url.scheme", url.protocol.slice(0, -1));
@@ -118,8 +124,10 @@ const makeDefault = f => make(effect => Effect.flatMap(effect, request => Effect
     for (const name in redactedHeaders) {
       span.attribute(`http.request.header.${name}`, String(redactedHeaders[name]));
     }
-    return Effect.tap(Effect.withParentSpan(f(internalRequest.setHeaders(request, TraceContext.toHeaders(span)), url, controller.signal, fiber), span), response => {
+    request = fiber.getFiberRef(currentTracerPropagation) ? internalRequest.setHeaders(request, TraceContext.toHeaders(span)) : request;
+    return Effect.tap(Effect.withParentSpan(f(request, url, controller.signal, fiber), span), response => {
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/cjs/internal/http/client.js.map b/dist/cjs/internal/http/client.js.map
index 862f5e28e64da1669e8786e476564455cf222006..3dc7ef18821f1fee68c73afb9e46fc8e80d4b816 100644
--- a/dist/cjs/internal/http/client.js.map
+++ b/dist/cjs/internal/http/client.js.map
@@ -1 +1 @@
-{"version":3,"file":"client.js","names":["Schema","_interopRequireWildcard","require","Context","Effect","FiberRef","_Function","_GlobalValue","Layer","_Pipeable","Predicate","Ref","Scope","Stream","Error","Cookies","Headers","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","globalValue","unsafeMake","constFalse","withTracerDisabledWhen","dual","self","pred","locally","currentFetchOptions","withFetchOptions","options","clientProto","pipe","pipeArguments","arguments","isClient","hasProperty","make","execute","preprocess","client","request","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","_tag","fail","RequestError","reason","error","left","right","tracerDisabled","zipRight","signal","useSpan","method","kind","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","tap","withParentSpan","setHeaders","toHeaders","response","status","succeed","Fetch","fetch","context","unsafeMap","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","convertBody","formData","toReadableStream","stream","transform","filterStatus","filterOrFail","ResponseError","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader"],"sources":["../../../../src/internal/http/client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"client.js","names":["Schema","_interopRequireWildcard","require","Context","Effect","FiberRef","_Function","_GlobalValue","Layer","_Pipeable","Predicate","Ref","Scope","Stream","Error","Cookies","Headers","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","globalValue","unsafeMake","constFalse","withTracerDisabledWhen","dual","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","currentFetchOptions","withFetchOptions","options","clientProto","pipe","pipeArguments","arguments","isClient","hasProperty","make","execute","preprocess","client","request","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","_tag","fail","RequestError","reason","error","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","Fetch","fetch","context","unsafeMap","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","convertBody","formData","toReadableStream","stream","transform","filterStatus","filterOrFail","ResponseError","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader"],"sources":["../../../../src/internal/http/client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/http/middleware.js b/dist/cjs/internal/http/middleware.js
index 182dc771da1e4285ba029b1e7ea62a815af4c21c..6452dcd75f6065aecefdbb1eaa7e98ef3bb8136e 100644
--- a/dist/cjs/internal/http/middleware.js
+++ b/dist/cjs/internal/http/middleware.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.xForwardedHeaders = exports.withTracerDisabledWhenEffect = exports.withTracerDisabledWhen = exports.withTracerDisabledForUrls = exports.withLoggerDisabled = exports.tracer = exports.make = exports.loggerDisabled = exports.logger = exports.currentTracerDisabledWhen = void 0;
+exports.xForwardedHeaders = exports.withTracerDisabledWhenEffect = exports.withTracerDisabledWhen = exports.withTracerDisabledForUrls = exports.withLoggerDisabled = exports.tracer = exports.searchParamsParser = exports.make = exports.loggerDisabled = exports.logger = exports.currentTracerDisabledWhen = void 0;
 var Context = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Context"));
 var Effect = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Effect"));
 var FiberRef = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/FiberRef"));
@@ -104,8 +104,10 @@ const tracer = exports.tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRun
     parent: Option.getOrUndefined(TraceContext.fromHeaders(request.headers)),
     kind: "server"
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     if (url !== undefined) {
+      span.attribute("http.url", url.toString());
       span.attribute("url.full", url.toString());
       span.attribute("url.path", url.pathname);
       const query = url.search.slice(1);
@@ -126,9 +128,11 @@ const tracer = exports.tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRun
     return Effect.flatMap(Effect.exit(Effect.withParentSpan(httpApp, span)), exit => {
       if (exit._tag === "Failure") {
         span.attribute("http.response.status_code", ServerError.causeStatusCode(exit.cause));
+        span.attribute("http.status_code", ServerError.causeStatusCode(exit.cause));
       } else {
         const response = exit.value;
         span.attribute("http.response.status_code", response.status);
+        span.attribute("http.status_code", response.status);
         const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
         for (const name in redactedHeaders) {
           span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
@@ -143,4 +147,12 @@ const xForwardedHeaders = exports.xForwardedHeaders = /*#__PURE__*/make(httpApp
   headers: Headers.set(request.headers, "host", request.headers["x-forwarded-host"]),
   remoteAddress: request.headers["x-forwarded-for"]?.split(",")[0].trim()
 }) : request));
+/** @internal */
+const searchParamsParser = httpApp => Effect.withFiberRuntime(fiber => {
+  const context = fiber.getFiberRef(FiberRef.currentContext);
+  const request = Context.unsafeGet(context, ServerRequest.ServerRequest);
+  const params = ServerRequest.searchParamsFromURL(new URL(request.url));
+  return Effect.locally(httpApp, FiberRef.currentContext, Context.add(context, ServerRequest.ParsedSearchParams, params));
+});
+exports.searchParamsParser = searchParamsParser;
 //# sourceMappingURL=middleware.js.map
\ No newline at end of file
diff --git a/dist/cjs/internal/http/middleware.js.map b/dist/cjs/internal/http/middleware.js.map
index eb5295ff646c9f7069996107d10e51d556be54c6..4f471c3be9ebdade9c33a7031908de60976a9f96 100644
--- a/dist/cjs/internal/http/middleware.js.map
+++ b/dist/cjs/internal/http/middleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"middleware.js","names":["Context","_interopRequireWildcard","require","Effect","FiberRef","_Function","_GlobalValue","Layer","Option","Headers","ServerError","ServerRequest","TraceContext","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","middleware","exports","loggerDisabled","globalValue","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","currentTracerDisabledWhen","constFalse","withTracerDisabledWhen","dual","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","withLogSpan","flatMap","exit","_tag","annotateLogs","log","cause","method","causeStatusCode","value","status","tracer","disabled","host","headers","protocol","undefined","URL","username","password","_","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","useSpan","parent","getOrUndefined","fromHeaders","kind","span","attribute","toString","pathname","query","search","slice","name","String","remoteAddress","withParentSpan","response","xForwardedHeaders","updateService","modify","split","trim"],"sources":["../../../../src/internal/http/middleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"middleware.js","names":["Context","_interopRequireWildcard","require","Effect","FiberRef","_Function","_GlobalValue","Layer","Option","Headers","ServerError","ServerRequest","TraceContext","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","middleware","exports","loggerDisabled","globalValue","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","currentTracerDisabledWhen","constFalse","withTracerDisabledWhen","dual","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","withLogSpan","flatMap","exit","_tag","annotateLogs","log","cause","method","causeStatusCode","value","status","tracer","disabled","host","headers","protocol","undefined","URL","username","password","_","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","useSpan","parent","getOrUndefined","fromHeaders","kind","span","attribute","toString","pathname","query","search","slice","name","String","remoteAddress","withParentSpan","response","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","params","searchParamsFromURL","add","ParsedSearchParams"],"sources":["../../../../src/internal/http/middleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/http/router.js b/dist/cjs/internal/http/router.js
index 6e2e447e7f6f710c3fd15509f7b2262083b1b044..4c973198c36f60504198893c9223a500bf2be79b 100644
--- a/dist/cjs/internal/http/router.js
+++ b/dist/cjs/internal/http/router.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.use = exports.searchParams = exports.schemaSearchParams = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.all = exports.TypeId = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = void 0;
+exports.use = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.all = exports.TypeId = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = void 0;
 var Schema = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("@effect/schema/Schema"));
 var Chunk = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Chunk"));
 var Context = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Context"));
@@ -55,41 +55,53 @@ const isRouter = u => Predicate.hasProperty(u, TypeId);
 /** @internal */
 const params = exports.params = /*#__PURE__*/Effect.map(RouteContext, _ => _.params);
 /** @internal */
-const searchParams = exports.searchParams = /*#__PURE__*/Effect.map(RouteContext, _ => _.searchParams);
-/** @internal */
 const schemaJson = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(ServerRequest.ServerRequest, request => Effect.flatMap(Effect.zip(request.json, RouteContext), ([body, context]) => parse({
-    method: request.method,
-    url: request.url,
-    headers: request.headers,
-    cookies: request.cookies,
-    pathParams: context.params,
-    searchParams: context.searchParams,
-    body
-  })));
+  return Effect.flatMap(Effect.context(), context => {
+    const request = Context.get(context, ServerRequest.ServerRequest);
+    const searchParams = Context.get(context, ServerRequest.ParsedSearchParams);
+    const routeContext = Context.get(context, RouteContext);
+    return Effect.flatMap(request.json, body => parse({
+      method: request.method,
+      url: request.url,
+      headers: request.headers,
+      cookies: request.cookies,
+      pathParams: routeContext.params,
+      searchParams,
+      body
+    }));
+  });
 };
 /** @internal */
 exports.schemaJson = schemaJson;
 const schemaNoBody = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(ServerRequest.ServerRequest, request => Effect.flatMap(RouteContext, context => parse({
-    method: request.method,
-    url: request.url,
-    headers: request.headers,
-    cookies: request.cookies,
-    pathParams: context.params,
-    searchParams: context.searchParams
-  })));
+  return Effect.flatMap(Effect.context(), context => {
+    const request = Context.get(context, ServerRequest.ServerRequest);
+    const searchParams = Context.get(context, ServerRequest.ParsedSearchParams);
+    const routeContext = Context.get(context, RouteContext);
+    return parse({
+      method: request.method,
+      url: request.url,
+      headers: request.headers,
+      cookies: request.cookies,
+      pathParams: routeContext.params,
+      searchParams
+    });
+  });
 };
 /** @internal */
 exports.schemaNoBody = schemaNoBody;
 const schemaParams = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(RouteContext, _ => parse({
-    ..._.searchParams,
-    ..._.params
-  }));
+  return Effect.flatMap(Effect.context(), context => {
+    const searchParams = Context.get(context, ServerRequest.ParsedSearchParams);
+    const routeContext = Context.get(context, RouteContext);
+    return parse({
+      ...searchParams,
+      ...routeContext.params
+    });
+  });
 };
 /** @internal */
 exports.schemaParams = schemaParams;
@@ -97,13 +109,7 @@ const schemaPathParams = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
   return Effect.flatMap(RouteContext, _ => parse(_.params));
 };
-/** @internal */
 exports.schemaPathParams = schemaPathParams;
-const schemaSearchParams = (schema, options) => {
-  const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(RouteContext, _ => parse(_.searchParams));
-};
-exports.schemaSearchParams = schemaSearchParams;
 class RouterImpl extends Effectable.StructuralClass {
   routes;
   mounts;
@@ -136,7 +142,7 @@ class RouterImpl extends Effectable.StructuralClass {
 }
 const toHttpApp = self => {
   const router = FindMyWay.make();
-  const mounts = Chunk.toReadonlyArray(self.mounts).map(([path, app, options]) => [path, new RouteContextImpl(new RouteImpl("*", options?.includePrefix ? `${path}/*` : "/*", app, options?.includePrefix ? Option.none() : Option.some(path), false), {}, {}), options]);
+  const mounts = Chunk.toReadonlyArray(self.mounts).map(([path, app, options]) => [path, new RouteContextImpl(new RouteImpl("*", options?.includePrefix ? `${path}/*` : "/*", app, options?.includePrefix ? Option.none() : Option.some(path), false), {}), options]);
   const mountsLen = mounts.length;
   Chunk.forEach(self.routes, route => {
     if (route.method === "*") {
@@ -146,15 +152,15 @@ const toHttpApp = self => {
     }
   });
   return Effect.withFiberRuntime(fiber => {
-    let context = fiber.getFiberRef(FiberRef.currentContext);
+    const context = Context.unsafeMake(new Map(fiber.getFiberRef(FiberRef.currentContext).unsafeMap));
     const request = Context.unsafeGet(context, ServerRequest.ServerRequest);
     if (mountsLen > 0) {
       for (let i = 0; i < mountsLen; i++) {
         const [path, routeContext, options] = mounts[i];
         if (request.url.startsWith(path)) {
-          context = Context.add(context, RouteContext, routeContext);
+          context.unsafeMap.set(RouteContext.key, routeContext);
           if (options?.includePrefix !== true) {
-            context = Context.add(context, ServerRequest.ServerRequest, sliceRequestUrl(request, path));
+            context.unsafeMap.set(ServerRequest.ServerRequest.key, sliceRequestUrl(request, path));
           }
           return Effect.locally(routeContext.route.handler, FiberRef.currentContext, context);
         }
@@ -171,9 +177,10 @@ const toHttpApp = self => {
     }
     const route = result.handler;
     if (route.prefix._tag === "Some") {
-      context = Context.add(context, ServerRequest.ServerRequest, sliceRequestUrl(request, route.prefix.value));
+      context.unsafeMap.set(ServerRequest.ServerRequest.key, sliceRequestUrl(request, route.prefix.value));
     }
-    context = Context.add(context, RouteContext, new RouteContextImpl(route, result.params, result.searchParams));
+    context.unsafeMap.set(ServerRequest.ParsedSearchParams.key, result.searchParams);
+    context.unsafeMap.set(RouteContext.key, new RouteContextImpl(route, result.params));
     const span = Context.getOption(context, Tracer.ParentSpan);
     if (span._tag === "Some" && span.value._tag === "Span") {
       span.value.attribute("http.route", route.path);
@@ -215,12 +222,10 @@ class RouteImpl extends Inspectable.Class {
 class RouteContextImpl {
   route;
   params;
-  searchParams;
   [RouteContextTypeId];
-  constructor(route, params, searchParams) {
+  constructor(route, params) {
     this.route = route;
     this.params = params;
-    this.searchParams = searchParams;
     this[RouteContextTypeId] = RouteContextTypeId;
   }
 }
diff --git a/dist/cjs/internal/http/router.js.map b/dist/cjs/internal/http/router.js.map
index 636942e4f72d6b9742b77e4292882f8ab4f7bf8b..9419fd178f98ff2d78adec5c23e083631d3848f8 100644
--- a/dist/cjs/internal/http/router.js.map
+++ b/dist/cjs/internal/http/router.js.map
@@ -1 +1 @@
-{"version":3,"file":"router.js","names":["Schema","_interopRequireWildcard","require","Chunk","Context","Effect","Effectable","FiberRef","_Function","Inspectable","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","hasProperty","params","map","_","searchParams","schemaJson","schema","options","parse","decodeUnknown","flatMap","request","zip","json","body","context","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","schemaSearchParams","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","getFiberRef","currentContext","unsafeGet","routeContext","startsWith","add","sliceRequestUrl","locally","handler","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","concat","dual","that","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","append","post","put","patch","del","head","use","f","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","effect"],"sources":["../../../../src/internal/http/router.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"router.js","names":["Schema","_interopRequireWildcard","require","Chunk","Context","Effect","Effectable","FiberRef","_Function","Inspectable","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","unsafeMake","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","startsWith","key","sliceRequestUrl","locally","handler","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","concat","dual","that","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","append","post","put","patch","del","head","use","f","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","effect"],"sources":["../../../../src/internal/http/router.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/http/serverRequest.js b/dist/cjs/internal/http/serverRequest.js
index 5078cd6dbf3e1b7d9812a92e6ed1b06a822fd9e8..4a243a45bde6f54d8beff448df376529a47bfc7c 100644
--- a/dist/cjs/internal/http/serverRequest.js
+++ b/dist/cjs/internal/http/serverRequest.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.upgradeChannel = exports.upgrade = exports.serverRequestTag = exports.schemaHeaders = exports.schemaCookies = exports.schemaBodyUrlParams = exports.schemaBodyMultipart = exports.schemaBodyJson = exports.schemaBodyFormJson = exports.schemaBodyForm = exports.multipartPersisted = exports.fromWeb = exports.TypeId = void 0;
+exports.upgradeChannel = exports.upgrade = exports.serverRequestTag = exports.searchParamsFromURL = exports.schemaSearchParams = exports.schemaHeaders = exports.schemaCookies = exports.schemaBodyUrlParams = exports.schemaBodyMultipart = exports.schemaBodyJson = exports.schemaBodyFormJson = exports.schemaBodyForm = exports.parsedSearchParamsTag = exports.multipartPersisted = exports.fromWeb = exports.TypeId = void 0;
 var Schema = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("@effect/schema/Schema"));
 var Channel = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Channel"));
 var Context = /*#__PURE__*/_interopRequireWildcard( /*#__PURE__*/require("effect/Context"));
@@ -48,6 +48,8 @@ const TypeId = exports.TypeId = /*#__PURE__*/Symbol.for("@effect/platform/Http/S
 /** @internal */
 const serverRequestTag = exports.serverRequestTag = /*#__PURE__*/Context.GenericTag("@effect/platform/Http/ServerRequest");
 /** @internal */
+const parsedSearchParamsTag = exports.parsedSearchParamsTag = /*#__PURE__*/Context.GenericTag("@effect/platform/Http/ServerRequest/ParsedSearchParams");
+/** @internal */
 const upgrade = exports.upgrade = /*#__PURE__*/Effect.flatMap(serverRequestTag, request => request.upgrade);
 /** @internal */
 const upgradeChannel = () => Channel.unwrap(Effect.map(upgrade, Socket.toChannelWith()));
@@ -55,6 +57,24 @@ const upgradeChannel = () => Channel.unwrap(Effect.map(upgrade, Socket.toChannel
 exports.upgradeChannel = upgradeChannel;
 const multipartPersisted = exports.multipartPersisted = /*#__PURE__*/Effect.flatMap(serverRequestTag, request => request.multipart);
 /** @internal */
+const searchParamsFromURL = url => {
+  const out = {};
+  for (const [key, value] of url.searchParams.entries()) {
+    const entry = out[key];
+    if (entry !== undefined) {
+      if (Array.isArray(entry)) {
+        entry.push(value);
+      } else {
+        out[key] = [entry, value];
+      }
+    } else {
+      out[key] = value;
+    }
+  }
+  return out;
+};
+/** @internal */
+exports.searchParamsFromURL = searchParamsFromURL;
 const schemaCookies = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
   return Effect.flatMap(serverRequestTag, req => parse(req.cookies));
@@ -67,6 +87,12 @@ const schemaHeaders = (schema, options) => {
 };
 /** @internal */
 exports.schemaHeaders = schemaHeaders;
+const schemaSearchParams = (schema, options) => {
+  const parse = Schema.decodeUnknown(schema, options);
+  return Effect.flatMap(parsedSearchParamsTag, parse);
+};
+/** @internal */
+exports.schemaSearchParams = schemaSearchParams;
 const schemaBodyJson = (schema, options) => {
   const parse = IncomingMessage.schemaBodyJson(schema, options);
   return Effect.flatMap(serverRequestTag, parse);
diff --git a/dist/cjs/internal/http/serverRequest.js.map b/dist/cjs/internal/http/serverRequest.js.map
index c7a1e314feb14ef3eaa3a66281cdca039ea290b3..4ffd33b2e91c0f40f955530472f48851254a1b02 100644
--- a/dist/cjs/internal/http/serverRequest.js.map
+++ b/dist/cjs/internal/http/serverRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"serverRequest.js","names":["Schema","_interopRequireWildcard","require","Channel","Context","Effect","Inspectable","Option","Stream","Cookies","Headers","IncomingMessage","Multipart","Error","UrlParams","Socket","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","serverRequestTag","GenericTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","error","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","url","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","_","fail","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer"],"sources":["../../../../src/internal/http/serverRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"serverRequest.js","names":["Schema","_interopRequireWildcard","require","Channel","Context","Effect","Inspectable","Option","Stream","Cookies","Headers","IncomingMessage","Multipart","Error","UrlParams","Socket","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","serverRequestTag","GenericTag","parsedSearchParamsTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","searchParamsFromURL","url","out","key","value","searchParams","entries","entry","undefined","Array","isArray","push","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaSearchParams","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","error","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","_","fail","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer"],"sources":["../../../../src/internal/http/serverRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/dts/Http/App.d.ts.map b/dist/dts/Http/App.d.ts.map
index ea91b619acc0fd1e27fc9303d039e2d43acdaa56..5fd5f052e14376ecdee432b2b7d7bb81d3195372 100644
--- a/dist/dts/Http/App.d.ts.map
+++ b/dist/dts/Http/App.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"App.d.ts","sourceRoot":"","sources":["../../../src/Http/App.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"App.d.ts","sourceRoot":"","sources":["../../../src/Http/App.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/Http/Client.d.ts b/dist/dts/Http/Client.d.ts
index ccfb7cf523edab4fac1fa61e7a05109e3d797ff0..497c831812c1bea33d23ef52ee996aae86603444 100644
--- a/dist/dts/Http/Client.d.ts
+++ b/dist/dts/Http/Client.d.ts
@@ -329,6 +329,19 @@ export declare const withTracerDisabledWhen: {
     (predicate: Predicate.Predicate<ClientRequest.ClientRequest>): <R, E, A>(effect: Effect.Effect<A, E, R>) => Effect.Effect<A, E, R>;
     <R, E, A>(effect: Effect.Effect<A, E, R>, predicate: Predicate.Predicate<ClientRequest.ClientRequest>): Effect.Effect<A, E, R>;
 };
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+export declare const currentTracerPropagation: FiberRef.FiberRef<boolean>;
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+export declare const withTracerPropagation: {
+    (enabled: boolean): <R, E, A>(effect: Effect.Effect<A, E, R>) => Effect.Effect<A, E, R>;
+    <R, E, A>(effect: Effect.Effect<A, E, R>, enabled: boolean): Effect.Effect<A, E, R>;
+};
 /**
  * @since 1.0.0
  * @category fiber refs
diff --git a/dist/dts/Http/Client.d.ts.map b/dist/dts/Http/Client.d.ts.map
index c8c98e198f109d9a8e9fd69b211a62b49ead0b71..e673aabbbc4fef80058706d785e8fd6b96e5d484 100644
--- a/dist/dts/Http/Client.d.ts.map
+++ b/dist/dts/Http/Client.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Client.d.ts","sourceRoot":"","sources":["../../../src/Http/Client.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Client.d.ts","sourceRoot":"","sources":["../../../src/Http/Client.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/Http/Middleware.d.ts b/dist/dts/Http/Middleware.d.ts
index 08b2c55d3fbb3b0d74c16ffb242730014d263b52..3559c708f6eaad5b94ccabe91402453ca08db8c1 100644
--- a/dist/dts/Http/Middleware.d.ts
+++ b/dist/dts/Http/Middleware.d.ts
@@ -79,4 +79,9 @@ export declare const withTracerDisabledForUrls: {
  * @category constructors
  */
 export declare const xForwardedHeaders: <R, E>(httpApp: App.Default<E, R>) => App.Default<E, R>;
+/**
+ * @since 1.0.0
+ * @category constructors
+ */
+export declare const searchParamsParser: <E, R>(httpApp: App.Default<E, R>) => App.Default<E, Exclude<R, ServerRequest.ParsedSearchParams>>;
 //# sourceMappingURL=Middleware.d.ts.map
\ No newline at end of file
diff --git a/dist/dts/Http/Middleware.d.ts.map b/dist/dts/Http/Middleware.d.ts.map
index f4e4edbb6c75d3e236ff4c2e0dc64031d18fe213..f600b430d49f40781603c40d2ed5404520cbee8a 100644
--- a/dist/dts/Http/Middleware.d.ts.map
+++ b/dist/dts/Http/Middleware.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Middleware.d.ts","sourceRoot":"","sources":["../../../src/Http/Middleware.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Middleware.d.ts","sourceRoot":"","sources":["../../../src/Http/Middleware.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/Http/Router.d.ts b/dist/dts/Http/Router.d.ts
index d68b76f2521337bbb00054bb4bda436e262844f2..a6ce910ff4269407e823e24b8dd9837e455d3522 100644
--- a/dist/dts/Http/Router.d.ts
+++ b/dist/dts/Http/Router.d.ts
@@ -48,7 +48,7 @@ export declare namespace Router {
     /**
      * @since 1.0.0
      */
-    type ExcludeProvided<A> = Exclude<A, RouteContext | ServerRequest.ServerRequest | Scope.Scope>;
+    type ExcludeProvided<A> = Exclude<A, RouteContext | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams | Scope.Scope>;
 }
 /**
  * @since 1.0.0
@@ -84,7 +84,7 @@ export declare namespace Route {
     /**
      * @since 1.0.0
      */
-    type Handler<E, R> = Effect.Effect<ServerResponse.ServerResponse, E, R | RouteContext | ServerRequest.ServerRequest>;
+    type Handler<E, R> = Effect.Effect<ServerResponse.ServerResponse, E, R | RouteContext | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams>;
 }
 /**
  * @since 1.0.0
@@ -104,7 +104,6 @@ export interface RouteContext {
     readonly [RouteContextTypeId]: RouteContextTypeId;
     readonly params: Readonly<Record<string, string | undefined>>;
     readonly route: Route<unknown, unknown>;
-    readonly searchParams: Readonly<Record<string, string>>;
 }
 /**
  * @since 1.0.0
@@ -116,11 +115,6 @@ export declare const RouteContext: Context.Tag<RouteContext, RouteContext>;
  * @category route context
  */
 export declare const params: Effect.Effect<Readonly<Record<string, string | undefined>>, never, RouteContext>;
-/**
- * @since 1.0.0
- * @category route context
- */
-export declare const searchParams: Effect.Effect<Readonly<Record<string, string>>, never, RouteContext>;
 /**
  * @since 1.0.0
  * @category route context
@@ -128,12 +122,12 @@ export declare const searchParams: Effect.Effect<Readonly<Record<string, string>
 export declare const schemaJson: <R, I extends Partial<{
     readonly method: Method.Method;
     readonly url: string;
-    readonly cookies: Readonly<Record<string, string>>;
-    readonly headers: Readonly<Record<string, string>>;
-    readonly pathParams: Readonly<Record<string, string>>;
-    readonly searchParams: Readonly<Record<string, string>>;
+    readonly cookies: Readonly<Record<string, string | undefined>>;
+    readonly headers: Readonly<Record<string, string | undefined>>;
+    readonly pathParams: Readonly<Record<string, string | undefined>>;
+    readonly searchParams: Readonly<Record<string, string | Array<string> | undefined>>;
     readonly body: any;
-}>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, Error.RequestError | ParseResult.ParseError, RouteContext | R | ServerRequest.ServerRequest>;
+}>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, Error.RequestError | ParseResult.ParseError, RouteContext | R | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams>;
 /**
  * @since 1.0.0
  * @category route context
@@ -141,26 +135,21 @@ export declare const schemaJson: <R, I extends Partial<{
 export declare const schemaNoBody: <R, I extends Partial<{
     readonly method: Method.Method;
     readonly url: string;
-    readonly cookies: Readonly<Record<string, string>>;
-    readonly headers: Readonly<Record<string, string>>;
-    readonly pathParams: Readonly<Record<string, string>>;
-    readonly searchParams: Readonly<Record<string, string>>;
-}>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext | ServerRequest.ServerRequest>;
-/**
- * @since 1.0.0
- * @category route context
- */
-export declare const schemaParams: <R, I extends Readonly<Record<string, string>>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, RouteContext | R>;
+    readonly cookies: Readonly<Record<string, string | undefined>>;
+    readonly headers: Readonly<Record<string, string | undefined>>;
+    readonly pathParams: Readonly<Record<string, string | undefined>>;
+    readonly searchParams: Readonly<Record<string, string | Array<string> | undefined>>;
+}>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams>;
 /**
  * @since 1.0.0
  * @category route context
  */
-export declare const schemaPathParams: <R, I extends Readonly<Record<string, string>>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, RouteContext | R>;
+export declare const schemaParams: <R, I extends Readonly<Record<string, string | Array<string> | undefined>>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext | ServerRequest.ParsedSearchParams>;
 /**
  * @since 1.0.0
  * @category route context
  */
-export declare const schemaSearchParams: <R, I extends Readonly<Record<string, string>>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, RouteContext | R>;
+export declare const schemaPathParams: <R, I extends Readonly<Record<string, string | undefined>>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext>;
 /**
  * @since 1.0.0
  * @category constructors
@@ -175,7 +164,7 @@ export declare const fromIterable: <R extends Route<any, any>>(routes: Iterable<
  * @since 1.0.0
  * @category constructors
  */
-export declare const makeRoute: <E, R>(method: Method.Method, path: PathInput, handler: Route.Handler<E, R>, prefix?: Option.Option<string>, uninterruptible?: boolean) => Route<E, Exclude<R, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+export declare const makeRoute: <E, R>(method: Method.Method, path: PathInput, handler: Route.Handler<E, R>, prefix?: Option.Option<string>, uninterruptible?: boolean) => Route<E, Router.ExcludeProvided<R>>;
 /**
  * @since 1.0.0
  * @category combinators
@@ -207,10 +196,10 @@ export declare const mount: {
 export declare const mountApp: {
     <R1, E1>(path: `/${string}`, that: App.Default<E1, R1>, options?: {
         readonly includePrefix?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope> | Exclude<R, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, Router.ExcludeProvided<R1> | Router.ExcludeProvided<R>>;
     <R, E, R1, E1>(self: Router<E, R>, path: `/${string}`, that: App.Default<E1, R1>, options?: {
         readonly includePrefix?: boolean | undefined;
-    } | undefined): Router<E | E1, Exclude<R, RouteContext | ServerRequest.ServerRequest | Scope.Scope> | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, Router.ExcludeProvided<R> | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -231,10 +220,10 @@ export declare const route: (method: Method.Method | "*") => {
 export declare const all: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -243,10 +232,10 @@ export declare const all: {
 export declare const get: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -255,10 +244,10 @@ export declare const get: {
 export declare const post: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -267,10 +256,10 @@ export declare const post: {
 export declare const patch: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -279,10 +268,10 @@ export declare const patch: {
 export declare const put: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -291,10 +280,10 @@ export declare const put: {
 export declare const del: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -303,10 +292,10 @@ export declare const del: {
 export declare const head: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -315,34 +304,34 @@ export declare const head: {
 export declare const options: {
     <R1, E1>(path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): <R, E>(self: Router<E, R>) => Router<E1 | E, R | Router.ExcludeProvided<R1>>;
     <R, E, R1, E1>(self: Router<E, R>, path: PathInput, handler: Route.Handler<E1, R1>, options?: {
         readonly uninterruptible?: boolean | undefined;
-    } | undefined): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    } | undefined): Router<E | E1, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
  * @category combinators
  */
 export declare const use: {
-    <E, R, R1, E1>(f: (self: Route.Handler<E, R>) => App.Default<E1, R1>): (self: Router<E, R>) => Router<E1, Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
-    <E, R, R1, E1>(self: Router<E, R>, f: (self: Route.Handler<E, R>) => App.Default<E1, R1>): Router<E1, Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    <E, R, R1, E1>(f: (self: Route.Handler<E, R>) => App.Default<E1, R1>): (self: Router<E, R>) => Router<E1, Router.ExcludeProvided<R1>>;
+    <E, R, R1, E1>(self: Router<E, R>, f: (self: Route.Handler<E, R>) => App.Default<E1, R1>): Router<E1, Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
  * @category combinators
  */
 export declare const catchAll: {
-    <E, E2, R2>(f: (e: E) => Route.Handler<E2, R2>): <R>(self: Router<E, R>) => Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
-    <R, E, E2, R2>(self: Router<E, R>, f: (e: E) => Route.Handler<E2, R2>): Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    <E, E2, R2>(f: (e: E) => Route.Handler<E2, R2>): <R>(self: Router<E, R>) => Router<E2, R | Router.ExcludeProvided<R2>>;
+    <R, E, E2, R2>(self: Router<E, R>, f: (e: E) => Route.Handler<E2, R2>): Router<E2, R | Router.ExcludeProvided<R2>>;
 };
 /**
  * @since 1.0.0
  * @category combinators
  */
 export declare const catchAllCause: {
-    <E, E2, R2>(f: (e: Cause.Cause<E>) => Route.Handler<E2, R2>): <R>(self: Router<E, R>) => Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
-    <R, E, E2, R2>(self: Router<E, R>, f: (e: Cause.Cause<E>) => Route.Handler<E2, R2>): Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    <E, E2, R2>(f: (e: Cause.Cause<E>) => Route.Handler<E2, R2>): <R>(self: Router<E, R>) => Router<E2, R | Router.ExcludeProvided<R2>>;
+    <R, E, E2, R2>(self: Router<E, R>, f: (e: Cause.Cause<E>) => Route.Handler<E2, R2>): Router<E2, R | Router.ExcludeProvided<R2>>;
 };
 /**
  * @since 1.0.0
@@ -355,14 +344,14 @@ export declare const catchTag: {
         _tag: K;
     }>) => Route.Handler<E1, R1>): <R>(self: Router<E, R>) => Router<E1 | Exclude<E, {
         _tag: K;
-    }>, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    }>, R | Router.ExcludeProvided<R1>>;
     <R, E, K extends E extends {
         _tag: string;
     } ? E["_tag"] : never, E1, R1>(self: Router<E, R>, k: K, f: (e: Extract<E, {
         _tag: K;
     }>) => Route.Handler<E1, R1>): Router<E1 | Exclude<E, {
         _tag: K;
-    }>, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    }>, R | Router.ExcludeProvided<R1>>;
 };
 /**
  * @since 1.0.0
@@ -379,9 +368,9 @@ export declare const catchTags: {
         _tag: keyof Cases;
     }> | {
         [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, infer E, any> ? E : never;
-    }[keyof Cases], R | Exclude<{
+    }[keyof Cases], R | Router.ExcludeProvided<{
         [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, any, infer R> ? R : never;
-    }[keyof Cases], RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    }[keyof Cases]>>;
     <R, E, Cases extends E extends {
         _tag: string;
     } ? {
@@ -392,9 +381,9 @@ export declare const catchTags: {
         _tag: keyof Cases;
     }> | {
         [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, infer E, any> ? E : never;
-    }[keyof Cases], R | Exclude<{
+    }[keyof Cases], R | Router.ExcludeProvided<{
         [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, any, infer R> ? R : never;
-    }[keyof Cases], RouteContext | ServerRequest.ServerRequest | Scope.Scope>>;
+    }[keyof Cases]>>;
 };
 /**
  * @since 1.0.0
@@ -409,7 +398,7 @@ export declare const provideService: {
  * @category combinators
  */
 export declare const provideServiceEffect: {
-    <T extends Context.Tag<any, any>, R1, E1>(tag: T, effect: Effect.Effect<Context.Tag.Service<T>, E1, R1>): <R, E>(self: Router<E, R>) => Router<E1 | E, Exclude<R, Context.Tag.Identifier<T>> | Exclude<Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>, Context.Tag.Identifier<T>>>;
-    <R, E, T extends Context.Tag<any, any>, R1, E1>(self: Router<E, R>, tag: T, effect: Effect.Effect<Context.Tag.Service<T>, E1, R1>): Router<E | E1, Exclude<R, Context.Tag.Identifier<T>> | Exclude<Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>, Context.Tag.Identifier<T>>>;
+    <T extends Context.Tag<any, any>, R1, E1>(tag: T, effect: Effect.Effect<Context.Tag.Service<T>, E1, R1>): <R, E>(self: Router<E, R>) => Router<E1 | E, Exclude<R, Context.Tag.Identifier<T>> | Exclude<Router.ExcludeProvided<R1>, Context.Tag.Identifier<T>>>;
+    <R, E, T extends Context.Tag<any, any>, R1, E1>(self: Router<E, R>, tag: T, effect: Effect.Effect<Context.Tag.Service<T>, E1, R1>): Router<E | E1, Exclude<R, Context.Tag.Identifier<T>> | Exclude<Router.ExcludeProvided<R1>, Context.Tag.Identifier<T>>>;
 };
 //# sourceMappingURL=Router.d.ts.map
\ No newline at end of file
diff --git a/dist/dts/Http/Router.d.ts.map b/dist/dts/Http/Router.d.ts.map
index a814430e88023913e88cab4dcf48f3ce9d83d90d..82f1baa562a6ef4117e7036f7f50dee8df3a77bc 100644
--- a/dist/dts/Http/Router.d.ts.map
+++ b/dist/dts/Http/Router.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Router.d.ts","sourceRoot":"","sources":["../../../src/Http/Router.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Router.d.ts","sourceRoot":"","sources":["../../../src/Http/Router.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/Http/ServerRequest.d.ts b/dist/dts/Http/ServerRequest.d.ts
index 16011c9ffd0ec3493e9fb90f51d2ceed10015eee..b5ae495329bb534ed1ad4b1a963f490c6bf57337 100644
--- a/dist/dts/Http/ServerRequest.d.ts
+++ b/dist/dts/Http/ServerRequest.d.ts
@@ -60,6 +60,23 @@ export interface ServerRequest extends IncomingMessage.IncomingMessage<Error.Req
  * @category context
  */
 export declare const ServerRequest: Context.Tag<ServerRequest, ServerRequest>;
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export interface ParsedSearchParams {
+    readonly _: unique symbol;
+}
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export declare const ParsedSearchParams: Context.Tag<ParsedSearchParams, ReadonlyRecord<string, string | Array<string>>>;
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export declare const searchParamsFromURL: (url: URL) => ReadonlyRecord<string, string | Array<string>>;
 /**
  * @since 1.0.0
  * @category accessors
@@ -85,6 +102,11 @@ export declare const schemaCookies: <R, I extends Readonly<Record<string, string
  * @category schema
  */
 export declare const schemaHeaders: <R, I extends Readonly<Record<string, string>>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, ServerRequest | R>;
+/**
+ * @since 1.0.0
+ * @category schema
+ */
+export declare const schemaSearchParams: <R, I extends Readonly<Record<string, string | Array<string> | undefined>>, A>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, ParsedSearchParams | R>;
 /**
  * @since 1.0.0
  * @category schema
diff --git a/dist/dts/Http/ServerRequest.d.ts.map b/dist/dts/Http/ServerRequest.d.ts.map
index aa02722772ef07f3840572c43fbd018d3278f086..d8be13757f24cee81bfbbe6de91f629f31014009 100644
--- a/dist/dts/Http/ServerRequest.d.ts.map
+++ b/dist/dts/Http/ServerRequest.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"ServerRequest.d.ts","sourceRoot":"","sources":["../../../src/Http/ServerRequest.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ServerRequest.d.ts","sourceRoot":"","sources":["../../../src/Http/ServerRequest.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/Http/UrlParams.d.ts b/dist/dts/Http/UrlParams.d.ts
index a8f4947fa5ec1488982791de11e27bae06058771..cf43e5cdcb3fd796c8bbe8413eef046275fd1f7e 100644
--- a/dist/dts/Http/UrlParams.d.ts
+++ b/dist/dts/Http/UrlParams.d.ts
@@ -17,7 +17,7 @@ export interface UrlParams extends ReadonlyArray<readonly [string, string]> {
  * @since 1.0.0
  * @category models
  */
-export type Input = Readonly<Record<string, string>> | Iterable<readonly [string, string]> | URLSearchParams;
+export type Input = Readonly<Record<string, string | ReadonlyArray<string>>> | Iterable<readonly [string, string]> | URLSearchParams;
 /**
  * @since 1.0.0
  * @category constructors
diff --git a/dist/dts/Http/UrlParams.d.ts.map b/dist/dts/Http/UrlParams.d.ts.map
index 45882ba0056f698d0b5cb0a7717968b1ce1edbf8..0955fdbf3a6e4d68f3de5ba47c4319b938b68b0c 100644
--- a/dist/dts/Http/UrlParams.d.ts.map
+++ b/dist/dts/Http/UrlParams.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"UrlParams.d.ts","sourceRoot":"","sources":["../../../src/Http/UrlParams.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,KAAK,EAAE,YAAY,EAAE,MAAM,oBAAoB,CAAA;AACtD,OAAO,KAAK,KAAK,WAAW,MAAM,4BAA4B,CAAA;AAC9D,OAAO,KAAK,MAAM,MAAM,uBAAuB,CAAA;AAE/C,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,MAAM,MAAM,eAAe,CAAA;AAEvC,OAAO,KAAK,MAAM,MAAM,eAAe,CAAA;AAEvC;;;GAGG;AACH,MAAM,WAAW,SAAU,SAAQ,aAAa,CAAC,SAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;CAAG;AAE9E;;;GAGG;AACH,MAAM,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,GAAG,eAAe,CAAA;AAE5G;;;GAGG;AACH,eAAO,MAAM,SAAS,UAAW,KAAK,KAAG,SAKxC,CAAA;AAED;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,aAAa,CAAC,SAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAIrF,CAAA;AAED;;;GAGG;AACH,eAAO,MAAM,KAAK,EAAE,SAAc,CAAA;AAElC;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE;IACnB,CAAC,GAAG,EAAE,MAAM,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,aAAa,CAAC,MAAM,CAAC,CAAA;IACzD,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,CAAA;CAUlD,CAAA;AAEL;;;GAGG;AACH,eAAO,MAAM,QAAQ,EAAE;IACrB,CAAC,GAAG,EAAE,MAAM,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;IACzD,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;CAWnD,CAAA;AAEJ;;;GAGG;AACH,eAAO,MAAM,OAAO,EAAE;IACpB,CAAC,GAAG,EAAE,MAAM,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;IACzD,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;CAWnD,CAAA;AAEJ;;;GAGG;AACH,eAAO,MAAM,GAAG,EAAE;IAChB,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,SAAS,CAAA;IAC5D,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,GAAG,SAAS,CAAA;CAQtD,CAAA;AAEJ;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE;IACnB,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,SAAS,CAAA;IAC9C,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,GAAG,SAAS,CAAA;CAW1C,CAAA;AAEF;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE;IACnB,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,SAAS,CAAA;IAC5D,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,GAAG,SAAS,CAAA;CAQtD,CAAA;AAEJ;;;GAGG;AACH,eAAO,MAAM,SAAS,EAAE;IACtB,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,SAAS,CAAA;IAC9C,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,GAAG,SAAS,CAAA;CAQxC,CAAA;AAEJ;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE;IACnB,CAAC,GAAG,EAAE,MAAM,GAAG,CAAC,IAAI,EAAE,SAAS,KAAK,SAAS,CAAA;IAC7C,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,GAAG,SAAS,CAAA;CAIc,CAAA;AAEzD;;;GAGG;AACH,eAAO,MAAM,QAAQ,SAAU,SAAS,KAAG,MAAqD,CAAA;AAEhG;;;GAGG;AACH,eAAO,MAAM,OAAO,QAAS,MAAM,UAAU,SAAS,KAAG,OAAO,MAAM,CAAC,GAAG,EAAE,KAAK,CAchF,CAAA;AASD;;;GAGG;AACH,eAAO,MAAM,UAAU,oBAAqB,OAAO,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,YAAY,YAAY,GAAG,SAAS,KAAG;IACvG,CACE,KAAK,EAAE,MAAM,GACZ,CAAC,IAAI,EAAE,SAAS,KAAK,OAAO,MAAM,CAAC,CAAC,EAAE,YAAY,UAAU,EAAE,CAAC,CAAC,CAAA;IACnE,CACE,IAAI,EAAE,SAAS,EACf,KAAK,EAAE,MAAM,GACZ,OAAO,MAAM,CAAC,CAAC,EAAE,YAAY,UAAU,EAAE,CAAC,CAAC,CAAA;CAO/C,CAAA"}
\ No newline at end of file
+{"version":3,"file":"UrlParams.d.ts","sourceRoot":"","sources":["../../../src/Http/UrlParams.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/WorkerError.d.ts b/dist/dts/WorkerError.d.ts
index df86fb3f90695ad21d8f8ee19a24539041133b28..299434de83ee365a935539e3e35a4832b956285e 100644
--- a/dist/dts/WorkerError.d.ts
+++ b/dist/dts/WorkerError.d.ts
@@ -18,23 +18,12 @@ export type WorkerErrorTypeId = typeof WorkerErrorTypeId;
  * @category predicates
  */
 export declare const isWorkerError: (u: unknown) => u is WorkerError;
-declare const WorkerError_base: Schema.Class<WorkerError, {
-    readonly _tag: Schema.Literal<["WorkerError"]>;
+declare const WorkerError_base: Schema.TaggedErrorClass<WorkerError, "WorkerError", {
+    readonly _tag: Schema.PropertySignature<":", "WorkerError", never, ":", "WorkerError", true, never>;
 } & {
     reason: Schema.Literal<["spawn", "decode", "send", "unknown", "encode"]>;
     error: Schema.Schema<unknown, unknown, never>;
-}, {
-    readonly _tag: "WorkerError";
-    readonly reason: "spawn" | "decode" | "send" | "unknown" | "encode";
-    readonly error: unknown;
-}, {
-    readonly _tag: "WorkerError";
-    readonly reason: "spawn" | "decode" | "send" | "unknown" | "encode";
-    readonly error: unknown;
-}, never, {
-    readonly reason: "spawn" | "decode" | "send" | "unknown" | "encode";
-    readonly error: unknown;
-}, {}, Cause.YieldableError>;
+}>;
 /**
  * @since 1.0.0
  * @category errors
diff --git a/dist/dts/WorkerError.d.ts.map b/dist/dts/WorkerError.d.ts.map
index e4dc4825659833e47dd4708e35b8ab8323169ea6..181c59905464186a7494b5f1cd295cfbf52999f7 100644
--- a/dist/dts/WorkerError.d.ts.map
+++ b/dist/dts/WorkerError.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"WorkerError.d.ts","sourceRoot":"","sources":["../../src/WorkerError.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,KAAK,MAAM,MAAM,uBAAuB,CAAA;AAC/C,OAAO,KAAK,KAAK,MAAM,cAAc,CAAA;AAKrC;;;GAGG;AACH,eAAO,MAAM,iBAAiB,EAAE,OAAO,MAAmC,CAAA;AAE1E;;;GAGG;AACH,MAAM,MAAM,iBAAiB,GAAG,OAAO,iBAAiB,CAAA;AAExD;;;GAGG;AACH,eAAO,MAAM,aAAa,MAAO,OAAO,qBAAkE,CAAA;;;;;;;;;;;;;;;;;;AAgB1G;;;GAGG;AACH,qBAAa,WAAY,SAAQ,gBAG/B;IACA;;OAEG;IACH,QAAQ,CAAC,CAAC,iBAAiB,CAAC,EAAE,iBAAiB,CAAoB;IAEnE;;OAEG;IACH,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAClC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,EACxB,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,CACrC,CAA2D;IAE5D;;OAEG;IACH,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,CAG/F;IAEH;;OAEG;IACH,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAG/F;IAEH;;OAEG;IACH,IAAI,OAAO,WAGV;CACF;AAED;;;GAGG;AACH,MAAM,WAAW,eAAe;IAC9B,QAAQ,CAAC,IAAI,EAAE,aAAa,CAAA;IAC5B,QAAQ,CAAC,MAAM,EAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,GAAG,SAAS,GAAG,QAAQ,CAAA;IACnE,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAA;CACxB"}
\ No newline at end of file
+{"version":3,"file":"WorkerError.d.ts","sourceRoot":"","sources":["../../src/WorkerError.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,KAAK,MAAM,MAAM,uBAAuB,CAAA;AAC/C,OAAO,KAAK,KAAK,MAAM,cAAc,CAAA;AAKrC;;;GAGG;AACH,eAAO,MAAM,iBAAiB,EAAE,OAAO,MAAmC,CAAA;AAE1E;;;GAGG;AACH,MAAM,MAAM,iBAAiB,GAAG,OAAO,iBAAiB,CAAA;AAExD;;;GAGG;AACH,eAAO,MAAM,aAAa,MAAO,OAAO,qBAAkE,CAAA;;;;;;;AAgB1G;;;GAGG;AACH,qBAAa,WAAY,SAAQ,gBAG/B;IACA;;OAEG;IACH,QAAQ,CAAC,CAAC,iBAAiB,CAAC,EAAE,iBAAiB,CAAoB;IAEnE;;OAEG;IACH,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAClC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,EACxB,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,CACrC,CAA2D;IAE5D;;OAEG;IACH,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,CAG/F;IAEH;;OAEG;IACH,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAG/F;IAEH;;OAEG;IACH,IAAI,OAAO,WAGV;CACF;AAED;;;GAGG;AACH,MAAM,WAAW,eAAe;IAC9B,QAAQ,CAAC,IAAI,EAAE,aAAa,CAAA;IAC5B,QAAQ,CAAC,MAAM,EAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,GAAG,SAAS,GAAG,QAAQ,CAAA;IACnE,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAA;CACxB"}
\ No newline at end of file
diff --git a/dist/dts/internal/http/router.d.ts.map b/dist/dts/internal/http/router.d.ts.map
index bf63de5add9dc4e07cedf93bd6d1283a4cae36bf..5c9045c3df27f01d680ce2fc6123be8901c61ebc 100644
--- a/dist/dts/internal/http/router.d.ts.map
+++ b/dist/dts/internal/http/router.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"router.d.ts","sourceRoot":"","sources":["../../../../src/internal/http/router.ts"],"names":[],"mappings":"AAIA,OAAO,KAAK,OAAO,MAAM,gBAAgB,CAAA;AAYzC,OAAO,KAAK,KAAK,MAAM,MAAM,sBAAsB,CAAA;AA+jBnD,eAAO,MAAM,cAAc,0CAElB,CAAC,WACG,QAAQ,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,iSAa0E,CAAA"}
\ No newline at end of file
+{"version":3,"file":"router.d.ts","sourceRoot":"","sources":["../../../../src/internal/http/router.ts"],"names":[],"mappings":"AAIA,OAAO,KAAK,OAAO,MAAM,gBAAgB,CAAA;AAYzC,OAAO,KAAK,KAAK,MAAM,MAAM,sBAAsB,CAAA;AAgkBnD,eAAO,MAAM,cAAc,0CAElB,CAAC,WACG,QAAQ,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,iSAa0E,CAAA"}
\ No newline at end of file
diff --git a/dist/esm/Http/App.js.map b/dist/esm/Http/App.js.map
index caa4e2265cf59457462d09e54f06a30238d73941..faaed00115c16ed59bac1f61bb5ca1c0243b1d56 100644
--- a/dist/esm/Http/App.js.map
+++ b/dist/esm/Http/App.js.map
@@ -1 +1 @@
-{"version":3,"file":"App.js","names":["Cause","Context","Effect","Exit","FiberRef","dual","globalValue","Layer","Option","Runtime","Scope","internalMiddleware","ServerError","ServerRequest","ServerResponse","toHandled","self","handleResponse","middleware","responded","withFiberRuntime","fiber","request","unsafeGet","getFiberRef","currentContext","handler","currentPreResponseHandlers","preHandled","_tag","flatMap","response","value","exit","dieOption","cause","isServerResponse","succeed","zipRight","withTracer","tracer","uninterruptible","scoped","undefined","Symbol","for","unsafeMake","none","appendPreResponseHandler","update","match","onNone","some","onSome","prev","withPreResponseHandler","locallyWith","toWebHandlerRuntime","runtime","run","runFork","resolveSymbol","rejectSymbol","handled","webRequest","source","isSuccess","toWeb","method","isInterruptedOnly","Response","status","signal","aborted","pretty","void","Promise","resolve","reject","req","fromWeb","provideService","addEventListener","unsafeInterruptAsFork","clientAbortFiberId","toWebHandler","defaultRuntime","toWebHandlerLayer","layer","scope","runSync","make","close","runPromise","build","map","toRuntime","_","runner","extend","then"],"sources":["../../../src/Http/App.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"App.js","names":["Cause","Context","Effect","Exit","FiberRef","dual","globalValue","Layer","Option","Runtime","Scope","internalMiddleware","ServerError","ServerRequest","ServerResponse","toHandled","self","handleResponse","middleware","responded","withFiberRuntime","fiber","request","unsafeGet","getFiberRef","currentContext","handler","currentPreResponseHandlers","preHandled","_tag","flatMap","response","value","exit","dieOption","cause","isServerResponse","succeed","zipRight","withTracer","tracer","uninterruptible","scoped","undefined","Symbol","for","unsafeMake","none","appendPreResponseHandler","update","match","onNone","some","onSome","prev","withPreResponseHandler","locallyWith","toWebHandlerRuntime","runtime","run","runFork","resolveSymbol","rejectSymbol","handled","webRequest","source","isSuccess","toWeb","method","isInterruptedOnly","Response","status","signal","aborted","pretty","void","Promise","resolve","reject","req","fromWeb","provideService","addEventListener","unsafeInterruptAsFork","clientAbortFiberId","toWebHandler","defaultRuntime","toWebHandlerLayer","layer","scope","runSync","make","close","runPromise","build","map","toRuntime","_","runner","extend","then"],"sources":["../../../src/Http/App.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/Http/Client.js b/dist/esm/Http/Client.js
index ee28c31738a8f734bd96d050a3af31cba021a0ed..ea43954be16999df7e5bae68054d1921f5ee7ac8 100644
--- a/dist/esm/Http/Client.js
+++ b/dist/esm/Http/Client.js
@@ -159,6 +159,16 @@ export const currentTracerDisabledWhen = internal.currentTracerDisabledWhen;
  * @category fiber refs
  */
 export const withTracerDisabledWhen = internal.withTracerDisabledWhen;
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+export const currentTracerPropagation = internal.currentTracerPropagation;
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+export const withTracerPropagation = internal.withTracerPropagation;
 /**
  * @since 1.0.0
  * @category fiber refs
diff --git a/dist/esm/Http/Client.js.map b/dist/esm/Http/Client.js.map
index c71c4b41315fb01eed65e28cadeed9bcc7119790..93c6bdd0149d92e3ee6eb9bafc310788ec7a1fc8 100644
--- a/dist/esm/Http/Client.js.map
+++ b/dist/esm/Http/Client.js.map
@@ -1 +1 @@
-{"version":3,"file":"Client.js","names":["internal","TypeId","Client","tag","Fetch","layer","fetch","fetchOk","catchAll","catchTag","catchTags","filterOrElse","filterOrFail","filterStatus","filterStatusOk","make","makeDefault","transform","transformResponse","map","mapEffect","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","scoped","schemaFunction","tap","tapRequest","withCookiesRef","currentTracerDisabledWhen","withTracerDisabledWhen","currentFetchOptions","withFetchOptions"],"sources":["../../../src/Http/Client.ts"],"sourcesContent":[null],"mappings":"AAkBA,OAAO,KAAKA,QAAQ,MAAM,4BAA4B;AAKtD;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBD,QAAQ,CAACC,MAAM;AA4DpD;;;;AAIA,OAAO,MAAMC,MAAM,GAAgDF,QAAQ,CAACG,GAAG;AAE/E;;;;AAIA,OAAO,MAAMC,KAAK,GAAgDJ,QAAQ,CAACI,KAAK;AAEhF;;;;AAIA,OAAO,MAAMC,KAAK,GAAgCL,QAAQ,CAACK,KAAK;AAEhE;;;;AAIA,OAAO,MAAMC,KAAK,GAAmBN,QAAQ,CAACM,KAAK;AAEnD;;;;AAIA,OAAO,MAAMC,OAAO,GAAmBP,QAAQ,CAACO,OAAO;AAEvD;;;;AAIA,OAAO,MAAMC,QAAQ,GAGjBR,QAAQ,CAACQ,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,QAAQ,GAUjBT,QAAQ,CAACS,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,SAAS,GA4ClBV,QAAQ,CAACU,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,YAAY,GAUrBX,QAAQ,CAACW,YAAY;AAEzB;;;;AAIA,OAAO,MAAMC,YAAY,GAGrBZ,QAAQ,CAACY,YAAY;AAEzB;;;;AAIA,OAAO,MAAMC,YAAY,GAQrBb,QAAQ,CAACa,YAAY;AAEzB;;;;AAIA,OAAO,MAAMC,cAAc,GAE4Bd,QAAQ,CAACc,cAAc;AAE9E;;;;AAIA,OAAO,MAAMC,IAAI,GAGMf,QAAQ,CAACe,IAAI;AAEpC;;;;AAIA,OAAO,MAAMC,WAAW,GAOFhB,QAAQ,CAACgB,WAAW;AAE1C;;;;AAIA,OAAO,MAAMC,SAAS,GAQlBjB,QAAQ,CAACiB,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,iBAAiB,GAQ1BlB,QAAQ,CAACkB,iBAAiB;AAE9B;;;;AAIA,OAAO,MAAMC,GAAG,GAGZnB,QAAQ,CAACmB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,SAAS,GAGlBpB,QAAQ,CAACoB,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,eAAe,GAQxBrB,QAAQ,CAACqB,eAAe;AAE5B;;;;AAIA,OAAO,MAAMC,UAAU,GAKnBtB,QAAQ,CAACsB,UAAU;AAEvB;;;;AAIA,OAAO,MAAMC,gBAAgB,GAQzBvB,QAAQ,CAACuB,gBAAgB;AAE7B;;;;AAIA,OAAO,MAAMC,eAAe,GAKxBxB,QAAQ,CAACwB,eAAe;AAE5B;;;;AAIA,OAAO,MAAMC,qBAAqB,GAQ9BzB,QAAQ,CAACyB,qBAAqB;AAElC;;;;AAIA,OAAO,MAAMC,KAAK,GAGd1B,QAAQ,CAAC0B,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,MAAM,GAA8E3B,QAAQ,CAAC2B,MAAM;AAEhH;;;;AAIA,OAAO,MAAMC,cAAc,GAgBvB5B,QAAQ,CAAC4B,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,GAAG,GAGZ7B,QAAQ,CAAC6B,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,UAAU,GAQnB9B,QAAQ,CAAC8B,UAAU;AAEvB;;;;AAIA,OAAO,MAAMC,cAAc,GAGvB/B,QAAQ,CAAC+B,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,yBAAyB,GACpChC,QAAQ,CAACgC,yBAAyB;AAEpC;;;;AAIA,OAAO,MAAMC,sBAAsB,GAQ/BjC,QAAQ,CAACiC,sBAAsB;AAEnC;;;;AAIA,OAAO,MAAMC,mBAAmB,GAAmClC,QAAQ,CAACkC,mBAAmB;AAE/F;;;;AAIA,OAAO,MAAMC,gBAAgB,GAGzBnC,QAAQ,CAACmC,gBAAgB","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Client.js","names":["internal","TypeId","Client","tag","Fetch","layer","fetch","fetchOk","catchAll","catchTag","catchTags","filterOrElse","filterOrFail","filterStatus","filterStatusOk","make","makeDefault","transform","transformResponse","map","mapEffect","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","scoped","schemaFunction","tap","tapRequest","withCookiesRef","currentTracerDisabledWhen","withTracerDisabledWhen","currentTracerPropagation","withTracerPropagation","currentFetchOptions","withFetchOptions"],"sources":["../../../src/Http/Client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/Http/Middleware.js b/dist/esm/Http/Middleware.js
index d026a987c465c05d942542508e431822c000fb29..15fecaded1d7809fc8fc8756ddcc88538f34eb74 100644
--- a/dist/esm/Http/Middleware.js
+++ b/dist/esm/Http/Middleware.js
@@ -44,4 +44,9 @@ export const withTracerDisabledForUrls = internal.withTracerDisabledForUrls;
  * @category constructors
  */
 export const xForwardedHeaders = internal.xForwardedHeaders;
+/**
+ * @since 1.0.0
+ * @category constructors
+ */
+export const searchParamsParser = internal.searchParamsParser;
 //# sourceMappingURL=Middleware.js.map
\ No newline at end of file
diff --git a/dist/esm/Http/Middleware.js.map b/dist/esm/Http/Middleware.js.map
index 661d676d0124a5ebed4faac3ee9a8fe339363b1b..9f106b49048bbafd886ffc18ecde3f9983d75ac9 100644
--- a/dist/esm/Http/Middleware.js.map
+++ b/dist/esm/Http/Middleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"Middleware.js","names":["internal","make","logger","loggerDisabled","withLoggerDisabled","currentTracerDisabledWhen","withTracerDisabledWhen","withTracerDisabledWhenEffect","withTracerDisabledForUrls","xForwardedHeaders"],"sources":["../../../src/Http/Middleware.ts"],"sourcesContent":[null],"mappings":"AAOA,OAAO,KAAKA,QAAQ,MAAM,gCAAgC;AAwB1D;;;;AAIA,OAAO,MAAMC,IAAI,GAA+CD,QAAQ,CAACC,IAAI;AAE7E;;;;AAIA,OAAO,MAAMC,MAAM,GAA4DF,QAAQ,CAACE,MAAM;AAE9F;;;;AAIA,OAAO,MAAMC,cAAc,GAA+BH,QAAQ,CAACG,cAAc;AAEjF;;;;AAIA,OAAO,MAAMC,kBAAkB,GAC7BJ,QAAQ,CAACI,kBAAkB;AAE7B;;;;AAIA,OAAO,MAAMC,yBAAyB,GACpCL,QAAQ,CAACK,yBAAyB;AAEpC;;;;AAIA,OAAO,MAAMC,sBAAsB,GAQ/BN,QAAQ,CAACM,sBAAsB;AAEnC;;;;AAIA,OAAO,MAAMC,4BAA4B,GAQrCP,QAAQ,CAACO,4BAA4B;AAEzC;;;;AAIA,OAAO,MAAMC,yBAAyB,GAGlCR,QAAQ,CAACQ,yBAAyB;AAEtC;;;;AAIA,OAAO,MAAMC,iBAAiB,GAA4DT,QAAQ,CAACS,iBAAiB","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Middleware.js","names":["internal","make","logger","loggerDisabled","withLoggerDisabled","currentTracerDisabledWhen","withTracerDisabledWhen","withTracerDisabledWhenEffect","withTracerDisabledForUrls","xForwardedHeaders","searchParamsParser"],"sources":["../../../src/Http/Middleware.ts"],"sourcesContent":[null],"mappings":"AAOA,OAAO,KAAKA,QAAQ,MAAM,gCAAgC;AAwB1D;;;;AAIA,OAAO,MAAMC,IAAI,GAA+CD,QAAQ,CAACC,IAAI;AAE7E;;;;AAIA,OAAO,MAAMC,MAAM,GAA4DF,QAAQ,CAACE,MAAM;AAE9F;;;;AAIA,OAAO,MAAMC,cAAc,GAA+BH,QAAQ,CAACG,cAAc;AAEjF;;;;AAIA,OAAO,MAAMC,kBAAkB,GAC7BJ,QAAQ,CAACI,kBAAkB;AAE7B;;;;AAIA,OAAO,MAAMC,yBAAyB,GACpCL,QAAQ,CAACK,yBAAyB;AAEpC;;;;AAIA,OAAO,MAAMC,sBAAsB,GAQ/BN,QAAQ,CAACM,sBAAsB;AAEnC;;;;AAIA,OAAO,MAAMC,4BAA4B,GAQrCP,QAAQ,CAACO,4BAA4B;AAEzC;;;;AAIA,OAAO,MAAMC,yBAAyB,GAGlCR,QAAQ,CAACQ,yBAAyB;AAEtC;;;;AAIA,OAAO,MAAMC,iBAAiB,GAA4DT,QAAQ,CAACS,iBAAiB;AAEpH;;;;AAIA,OAAO,MAAMC,kBAAkB,GAK3BV,QAAQ,CAACU,kBAAkB","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/Http/Router.js b/dist/esm/Http/Router.js
index 9606f14758fb34f2360f4ba931b838a03b212db1..fcbfad6f1f42b50d68f5706ad098fe087b703afd 100644
--- a/dist/esm/Http/Router.js
+++ b/dist/esm/Http/Router.js
@@ -24,11 +24,6 @@ export const RouteContext = internal.RouteContext;
  * @category route context
  */
 export const params = internal.params;
-/**
- * @since 1.0.0
- * @category route context
- */
-export const searchParams = internal.searchParams;
 /**
  * @since 1.0.0
  * @category route context
@@ -49,11 +44,6 @@ export const schemaParams = internal.schemaParams;
  * @category route context
  */
 export const schemaPathParams = internal.schemaPathParams;
-/**
- * @since 1.0.0
- * @category route context
- */
-export const schemaSearchParams = internal.schemaSearchParams;
 /**
  * @since 1.0.0
  * @category constructors
diff --git a/dist/esm/Http/Router.js.map b/dist/esm/Http/Router.js.map
index 10ed69f03b8a8a2c72694cf627a72a2c93ac263b..9ff003a8fffc234d41f1f63d4cd66c9512662601 100644
--- a/dist/esm/Http/Router.js.map
+++ b/dist/esm/Http/Router.js.map
@@ -1 +1 @@
-{"version":3,"file":"Router.js","names":["internal","TypeId","RouteTypeId","RouteContextTypeId","RouteContext","params","searchParams","schemaJson","schemaNoBody","schemaParams","schemaPathParams","schemaSearchParams","empty","fromIterable","makeRoute","prefixAll","concat","mount","mountApp","route","all","get","post","patch","put","del","head","options","use","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect"],"sources":["../../../src/Http/Router.ts"],"sourcesContent":[null],"mappings":"AAaA,OAAO,KAAKA,QAAQ,MAAM,4BAA4B;AAOtD;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBD,QAAQ,CAACC,MAAM;AAoCpD;;;;AAIA,OAAO,MAAMC,WAAW,GAAkBF,QAAQ,CAACE,WAAW;AAyC9D;;;;AAIA,OAAO,MAAMC,kBAAkB,GAAkBH,QAAQ,CAACG,kBAAkB;AAmB5E;;;;AAIA,OAAO,MAAMC,YAAY,GAA4CJ,QAAQ,CAACI,YAAY;AAE1F;;;;AAIA,OAAO,MAAMC,MAAM,GAIfL,QAAQ,CAACK,MAAM;AAEnB;;;;AAIA,OAAO,MAAMC,YAAY,GAIrBN,QAAQ,CAACM,YAAY;AAEzB;;;;AAIA,OAAO,MAAMC,UAAU,GAkBrBP,QAAQ,CAACO,UAAU;AAErB;;;;AAIA,OAAO,MAAMC,YAAY,GAcuER,QAAQ,CAACQ,YAAY;AAErH;;;;AAIA,OAAO,MAAMC,YAAY,GAGyCT,QAAQ,CAACS,YAAY;AAEvF;;;;AAIA,OAAO,MAAMC,gBAAgB,GAGqCV,QAAQ,CAACU,gBAAgB;AAE3F;;;;AAIA,OAAO,MAAMC,kBAAkB,GAGmCX,QAAQ,CAACW,kBAAkB;AAE7F;;;;AAIA,OAAO,MAAMC,KAAK,GAAWZ,QAAQ,CAACY,KAAK;AAE3C;;;;AAIA,OAAO,MAAMC,YAAY,GAGvBb,QAAQ,CAACa,YAAY;AAEvB;;;;AAIA,OAAO,MAAMC,SAAS,GAMgEd,QAAQ,CAACc,SAAS;AAExG;;;;AAIA,OAAO,MAAMC,SAAS,GAGlBf,QAAQ,CAACe,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,MAAM,GAQfhB,QAAQ,CAACgB,MAAM;AAEnB;;;;AAIA,OAAO,MAAMC,KAAK,GAGdjB,QAAQ,CAACiB,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,QAAQ,GAsBjBlB,QAAQ,CAACkB,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,KAAK,GAgBdnB,QAAQ,CAACmB,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZpB,QAAQ,CAACoB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZrB,QAAQ,CAACqB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAcbtB,QAAQ,CAACsB,IAAI;AAEjB;;;;AAIA,OAAO,MAAMC,KAAK,GAcdvB,QAAQ,CAACuB,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZxB,QAAQ,CAACwB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZzB,QAAQ,CAACyB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAcb1B,QAAQ,CAAC0B,IAAI;AAEjB;;;;AAIA,OAAO,MAAMC,OAAO,GAchB3B,QAAQ,CAAC2B,OAAO;AAEpB;;;;AAIA,OAAO,MAAMC,GAAG,GAQZ5B,QAAQ,CAAC4B,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,QAAQ,GAQjB7B,QAAQ,CAAC6B,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,aAAa,GAQtB9B,QAAQ,CAAC8B,aAAa;AAE1B;;;;AAIA,OAAO,MAAMC,QAAQ,GAYjB/B,QAAQ,CAAC+B,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,SAAS,GA6ClBhC,QAAQ,CAACgC,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,cAAc,GAUvBjC,QAAQ,CAACiC,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,oBAAoB,GAoB7BlC,QAAQ,CAACkC,oBAAoB","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Router.js","names":["internal","TypeId","RouteTypeId","RouteContextTypeId","RouteContext","params","schemaJson","schemaNoBody","schemaParams","schemaPathParams","empty","fromIterable","makeRoute","prefixAll","concat","mount","mountApp","route","all","get","post","patch","put","del","head","options","use","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect"],"sources":["../../../src/Http/Router.ts"],"sourcesContent":[null],"mappings":"AAaA,OAAO,KAAKA,QAAQ,MAAM,4BAA4B;AAOtD;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBD,QAAQ,CAACC,MAAM;AAuCpD;;;;AAIA,OAAO,MAAMC,WAAW,GAAkBF,QAAQ,CAACE,WAAW;AAyC9D;;;;AAIA,OAAO,MAAMC,kBAAkB,GAAkBH,QAAQ,CAACG,kBAAkB;AAkB5E;;;;AAIA,OAAO,MAAMC,YAAY,GAA4CJ,QAAQ,CAACI,YAAY;AAE1F;;;;AAIA,OAAO,MAAMC,MAAM,GAIfL,QAAQ,CAACK,MAAM;AAEnB;;;;AAIA,OAAO,MAAMC,UAAU,GAmBnBN,QAAQ,CAACM,UAAU;AAEvB;;;;AAIA,OAAO,MAAMC,YAAY,GAoBrBP,QAAQ,CAACO,YAAY;AAEzB;;;;AAIA,OAAO,MAAMC,YAAY,GAIvBR,QAAQ,CAACQ,YAAY;AAEvB;;;;AAIA,OAAO,MAAMC,gBAAgB,GAGqCT,QAAQ,CAACS,gBAAgB;AAE3F;;;;AAIA,OAAO,MAAMC,KAAK,GAAWV,QAAQ,CAACU,KAAK;AAE3C;;;;AAIA,OAAO,MAAMC,YAAY,GAGvBX,QAAQ,CAACW,YAAY;AAEvB;;;;AAIA,OAAO,MAAMC,SAAS,GAMqBZ,QAAQ,CAACY,SAAS;AAE7D;;;;AAIA,OAAO,MAAMC,SAAS,GAGlBb,QAAQ,CAACa,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,MAAM,GAQfd,QAAQ,CAACc,MAAM;AAEnB;;;;AAIA,OAAO,MAAMC,KAAK,GAGdf,QAAQ,CAACe,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,QAAQ,GAsBjBhB,QAAQ,CAACgB,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,KAAK,GAgBdjB,QAAQ,CAACiB,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,GAAG,GAoBZlB,QAAQ,CAACkB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZnB,QAAQ,CAACmB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAcbpB,QAAQ,CAACoB,IAAI;AAEjB;;;;AAIA,OAAO,MAAMC,KAAK,GAcdrB,QAAQ,CAACqB,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZtB,QAAQ,CAACsB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZvB,QAAQ,CAACuB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAcbxB,QAAQ,CAACwB,IAAI;AAEjB;;;;AAIA,OAAO,MAAMC,OAAO,GAchBzB,QAAQ,CAACyB,OAAO;AAEpB;;;;AAIA,OAAO,MAAMC,GAAG,GAQZ1B,QAAQ,CAAC0B,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,QAAQ,GAQjB3B,QAAQ,CAAC2B,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,aAAa,GAQtB5B,QAAQ,CAAC4B,aAAa;AAE1B;;;;AAIA,OAAO,MAAMC,QAAQ,GAYjB7B,QAAQ,CAAC6B,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,SAAS,GA2ClB9B,QAAQ,CAAC8B,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,cAAc,GAUvB/B,QAAQ,CAAC+B,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,oBAAoB,GAoB7BhC,QAAQ,CAACgC,oBAAoB","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/Http/ServerRequest.js b/dist/esm/Http/ServerRequest.js
index 3edb49e8482b4f28a43e0a1ee2b04417eefb49d1..0c0b3d6930a6112b89424ad08df1b01db9767d31 100644
--- a/dist/esm/Http/ServerRequest.js
+++ b/dist/esm/Http/ServerRequest.js
@@ -15,6 +15,16 @@ export const TypeId = internal.TypeId;
  * @category context
  */
 export const ServerRequest = internal.serverRequestTag;
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export const ParsedSearchParams = internal.parsedSearchParamsTag;
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export const searchParamsFromURL = internal.searchParamsFromURL;
 /**
  * @since 1.0.0
  * @category accessors
@@ -40,6 +50,11 @@ export const schemaCookies = internal.schemaCookies;
  * @category schema
  */
 export const schemaHeaders = internal.schemaHeaders;
+/**
+ * @since 1.0.0
+ * @category schema
+ */
+export const schemaSearchParams = internal.schemaSearchParams;
 /**
  * @since 1.0.0
  * @category schema
diff --git a/dist/esm/Http/ServerRequest.js.map b/dist/esm/Http/ServerRequest.js.map
index d1f79182f6185cafe2db8a7565ad968ef54bbe16..b877535559eb1544f6b8a05f9f89b9aa5098de80 100644
--- a/dist/esm/Http/ServerRequest.js.map
+++ b/dist/esm/Http/ServerRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"ServerRequest.js","names":["internal","maxBodySize","TypeId","ServerRequest","serverRequestTag","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb"],"sources":["../../../src/Http/ServerRequest.ts"],"sourcesContent":[null],"mappings":"AAcA,OAAO,KAAKA,QAAQ,MAAM,mCAAmC;AAS7D;AACE;;;;AAIAC,WAAW,QACN,sBAAsB;AAE7B;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBF,QAAQ,CAACE,MAAM;AAsCpD;;;;AAIA,OAAO,MAAMC,aAAa,GAA8CH,QAAQ,CAACI,gBAAgB;AAEjG;;;;AAIA,OAAO,MAAMC,kBAAkB,GAI3BL,QAAQ,CAACM,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAAoEP,QAAQ,CAACO,OAAO;AAExG;;;;AAIA,OAAO,MAAMC,cAAc,GAQvBR,QAAQ,CAACQ,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,aAAa,GAGyCT,QAAQ,CAACS,aAAa;AAEzF;;;;AAIA,OAAO,MAAMC,aAAa,GAGyCV,QAAQ,CAACU,aAAa;AAEzF;;;;AAIA,OAAO,MAAMC,cAAc,GAG6DX,QAAQ,CAACW,cAAc;AAE/G;;;;AAIA,OAAO,MAAMC,cAAc,GAOvBZ,QAAQ,CAACY,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,mBAAmB,GAGwDb,QAAQ,CAACa,mBAAmB;AAEpH;;;;AAIA,OAAO,MAAMC,mBAAmB,GAO5Bd,QAAQ,CAACc,mBAAmB;AAEhC;;;;AAIA,OAAO,MAAMC,kBAAkB,GAS3Bf,QAAQ,CAACe,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAAwChB,QAAQ,CAACgB,OAAO","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"ServerRequest.js","names":["internal","maxBodySize","TypeId","ServerRequest","serverRequestTag","ParsedSearchParams","parsedSearchParamsTag","searchParamsFromURL","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaSearchParams","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb"],"sources":["../../../src/Http/ServerRequest.ts"],"sourcesContent":[null],"mappings":"AAcA,OAAO,KAAKA,QAAQ,MAAM,mCAAmC;AAS7D;AACE;;;;AAIAC,WAAW,QACN,sBAAsB;AAE7B;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBF,QAAQ,CAACE,MAAM;AAsCpD;;;;AAIA,OAAO,MAAMC,aAAa,GAA8CH,QAAQ,CAACI,gBAAgB;AAUjG;;;;AAIA,OAAO,MAAMC,kBAAkB,GAC7BL,QAAQ,CAACM,qBAAqB;AAEhC;;;;AAIA,OAAO,MAAMC,mBAAmB,GAC9BP,QAAQ,CAACO,mBAAmB;AAE9B;;;;AAIA,OAAO,MAAMC,kBAAkB,GAI3BR,QAAQ,CAACS,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAAoEV,QAAQ,CAACU,OAAO;AAExG;;;;AAIA,OAAO,MAAMC,cAAc,GAQvBX,QAAQ,CAACW,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,aAAa,GAGyCZ,QAAQ,CAACY,aAAa;AAEzF;;;;AAIA,OAAO,MAAMC,aAAa,GAGyCb,QAAQ,CAACa,aAAa;AAEzF;;;;AAIA,OAAO,MAAMC,kBAAkB,GAGyCd,QAAQ,CAACc,kBAAkB;AAEnG;;;;AAIA,OAAO,MAAMC,cAAc,GAG6Df,QAAQ,CAACe,cAAc;AAE/G;;;;AAIA,OAAO,MAAMC,cAAc,GAOvBhB,QAAQ,CAACgB,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,mBAAmB,GAGwDjB,QAAQ,CAACiB,mBAAmB;AAEpH;;;;AAIA,OAAO,MAAMC,mBAAmB,GAO5BlB,QAAQ,CAACkB,mBAAmB;AAEhC;;;;AAIA,OAAO,MAAMC,kBAAkB,GAS3BnB,QAAQ,CAACmB,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAAwCpB,QAAQ,CAACoB,OAAO","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/Http/UrlParams.js b/dist/esm/Http/UrlParams.js
index 63173ca2d934f7609943f5295a48b410ed3c1194..3490c31b70a9fd5b68ce024a91f208645ac830d1 100644
--- a/dist/esm/Http/UrlParams.js
+++ b/dist/esm/Http/UrlParams.js
@@ -11,7 +11,17 @@ export const fromInput = input => {
   if (Symbol.iterator in input) {
     return Arr.fromIterable(input);
   }
-  return Arr.fromIterable(Object.entries(input));
+  const out = [];
+  for (const [key, value] of Object.entries(input)) {
+    if (Array.isArray(value)) {
+      for (let i = 0; i < value.length; i++) {
+        out.push([key, value[i]]);
+      }
+    } else {
+      out.push([key, value]);
+    }
+  }
+  return out;
 };
 /**
  * @since 1.0.0
diff --git a/dist/esm/Http/UrlParams.js.map b/dist/esm/Http/UrlParams.js.map
index 475c9d2994ad9cad82ad361cad4c4d153675f035..7a7b7ee5db18e31e8055404cf684e2ff12a07e72 100644
--- a/dist/esm/Http/UrlParams.js.map
+++ b/dist/esm/Http/UrlParams.js.map
@@ -1 +1 @@
-{"version":3,"file":"UrlParams.js","names":["Schema","Arr","Either","dual","Option","fromInput","input","Symbol","iterator","fromIterable","Object","entries","schema","Array","Tuple","String","pipe","identifier","empty","getAll","self","key","reduce","acc","k","value","push","getFirst","map","findFirst","getLast","findLast","set","append","filter","setAll","toSet","keys","appendAll","includes","remove","toString","URLSearchParams","makeUrl","url","params","urlInstance","URL","baseUrl","i","length","undefined","searchParams","right","e","left","globalThis","location","origin","pathname","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse"],"sources":["../../../src/Http/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"UrlParams.js","names":["Schema","Arr","Either","dual","Option","fromInput","input","Symbol","iterator","fromIterable","out","key","value","Object","entries","Array","isArray","i","length","push","schema","Tuple","String","pipe","identifier","empty","getAll","self","reduce","acc","k","getFirst","map","findFirst","getLast","findLast","set","append","filter","setAll","toSet","keys","appendAll","includes","remove","toString","URLSearchParams","makeUrl","url","params","urlInstance","URL","baseUrl","undefined","searchParams","right","e","left","globalThis","location","origin","pathname","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse"],"sources":["../../../src/Http/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/http/client.js b/dist/esm/internal/http/client.js
index 2d794797e0c5a834241bc1beb25a5d3ab78ef626..910c457a77774b4f9ddf190bd614f9fdaf7c6106 100644
--- a/dist/esm/internal/http/client.js
+++ b/dist/esm/internal/http/client.js
@@ -28,6 +28,10 @@ export const currentTracerDisabledWhen = /*#__PURE__*/globalValue( /*#__PURE__*/
 /** @internal */
 export const withTracerDisabledWhen = /*#__PURE__*/dual(2, (self, pred) => Effect.locally(self, currentTracerDisabledWhen, pred));
 /** @internal */
+export const currentTracerPropagation = /*#__PURE__*/globalValue( /*#__PURE__*/Symbol.for("@effect/platform/Http/Client/currentTracerPropagation"), () => FiberRef.unsafeMake(true));
+/** @internal */
+export const withTracerPropagation = /*#__PURE__*/dual(2, (self, enabled) => Effect.locally(self, currentTracerPropagation, enabled));
+/** @internal */
 export const currentFetchOptions = /*#__PURE__*/globalValue( /*#__PURE__*/Symbol.for("@effect/platform/Http/Client/currentFetchOptions"), () => FiberRef.unsafeMake({}));
 /** @internal */
 export const withFetchOptions = /*#__PURE__*/dual(2, (self, options) => Effect.locally(self, currentFetchOptions, options));
@@ -62,18 +66,20 @@ export const makeDefault = f => make(effect => Effect.flatMap(effect, request =>
     }));
   }
   const url = urlResult.right;
-  const tracerDisabled = fiber.getFiberRef(currentTracerDisabledWhen)(request);
+  const tracerDisabled = !fiber.getFiberRef(FiberRef.currentTracerEnabled) || fiber.getFiberRef(currentTracerDisabledWhen)(request);
   if (tracerDisabled) {
     return Effect.zipRight(addAbort, f(request, url, controller.signal, fiber));
   }
   return Effect.zipRight(addAbort, Effect.useSpan(`http.client ${request.method}`, {
     kind: "client"
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     span.attribute("server.address", url.origin);
     if (url.port !== "") {
       span.attribute("server.port", +url.port);
     }
+    span.attribute("http.url", url.toString());
     span.attribute("url.full", url.toString());
     span.attribute("url.path", url.pathname);
     span.attribute("url.scheme", url.protocol.slice(0, -1));
@@ -86,8 +92,10 @@ export const makeDefault = f => make(effect => Effect.flatMap(effect, request =>
     for (const name in redactedHeaders) {
       span.attribute(`http.request.header.${name}`, String(redactedHeaders[name]));
     }
-    return Effect.tap(Effect.withParentSpan(f(internalRequest.setHeaders(request, TraceContext.toHeaders(span)), url, controller.signal, fiber), span), response => {
+    request = fiber.getFiberRef(currentTracerPropagation) ? internalRequest.setHeaders(request, TraceContext.toHeaders(span)) : request;
+    return Effect.tap(Effect.withParentSpan(f(request, url, controller.signal, fiber), span), response => {
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/esm/internal/http/client.js.map b/dist/esm/internal/http/client.js.map
index 4a52624b865ce57fc9aa183fa540df47301ebf7f..8c2b7881cc92225cc5f8d01bf30908f000d69379 100644
--- a/dist/esm/internal/http/client.js.map
+++ b/dist/esm/internal/http/client.js.map
@@ -1 +1 @@
-{"version":3,"file":"client.js","names":["Schema","Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","pipeArguments","Predicate","Ref","Scope","Stream","Error","Cookies","Headers","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","TypeId","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","unsafeMake","withTracerDisabledWhen","self","pred","locally","currentFetchOptions","withFetchOptions","options","clientProto","pipe","arguments","isClient","u","hasProperty","make","execute","preprocess","client","request","Object","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","_tag","fail","RequestError","reason","error","left","right","tracerDisabled","zipRight","signal","useSpan","method","kind","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","tap","withParentSpan","setHeaders","toHeaders","response","status","succeed","Fetch","fetch","context","unsafeMap","get","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","convertBody","formData","toReadableStream","stream","transform","filterStatus","filterOrFail","ResponseError","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","a","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader"],"sources":["../../../../src/internal/http/client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"client.js","names":["Schema","Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","pipeArguments","Predicate","Ref","Scope","Stream","Error","Cookies","Headers","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","TypeId","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","unsafeMake","withTracerDisabledWhen","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","currentFetchOptions","withFetchOptions","options","clientProto","pipe","arguments","isClient","u","hasProperty","make","execute","preprocess","client","request","Object","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","_tag","fail","RequestError","reason","error","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","Fetch","fetch","context","unsafeMap","get","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","convertBody","formData","toReadableStream","stream","transform","filterStatus","filterOrFail","ResponseError","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","a","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader"],"sources":["../../../../src/internal/http/client.ts"],"sourcesContent":[null],"mappings":"AAEA,OAAO,KAAKA,MAAM,MAAM,uBAAuB;AAC/C,OAAO,KAAKC,OAAO,MAAM,gBAAgB;AACzC,OAAO,KAAKC,MAAM,MAAM,eAAe;AAEvC,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,SAASC,UAAU,EAAEC,IAAI,QAAQ,iBAAiB;AAClD,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,OAAO,KAAKC,SAAS,MAAM,kBAAkB;AAC7C,OAAO,KAAKC,GAAG,MAAM,YAAY;AAEjC,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,MAAM,MAAM,eAAe;AAGvC,OAAO,KAAKC,KAAK,MAAM,2BAA2B;AAGlD,OAAO,KAAKC,OAAO,MAAM,uBAAuB;AAChD,OAAO,KAAKC,OAAO,MAAM,uBAAuB;AAChD,OAAO,KAAKC,MAAM,MAAM,sBAAsB;AAC9C,OAAO,KAAKC,YAAY,MAAM,4BAA4B;AAC1D,OAAO,KAAKC,SAAS,MAAM,yBAAyB;AACpD,OAAO,KAAKC,YAAY,MAAM,WAAW;AACzC,OAAO,KAAKC,eAAe,MAAM,oBAAoB;AACrD,OAAO,KAAKC,gBAAgB,MAAM,qBAAqB;AAEvD;AACA,OAAO,MAAMC,MAAM,gBAAkBC,MAAM,CAACC,GAAG,CAC7C,8BAA8B,CACd;AAElB;AACA,OAAO,MAAMC,GAAG,gBAAGxB,OAAO,CAACyB,UAAU,CAAwB,8BAA8B,CAAC;AAE5F;AACA,OAAO,MAAMC,yBAAyB,gBAAGrB,WAAW,eAClDiB,MAAM,CAACC,GAAG,CAAC,iDAAiD,CAAC,EAC7D,MAAMrB,QAAQ,CAACyB,UAAU,CAAmDxB,UAAU,CAAC,CACxF;AAED;AACA,OAAO,MAAMyB,sBAAsB,gBAAGxB,IAAI,CAQxC,CAAC,EAAE,CAACyB,IAAI,EAAEC,IAAI,KAAK7B,MAAM,CAAC8B,OAAO,CAACF,IAAI,EAAEH,yBAAyB,EAAEI,IAAI,CAAC,CAAC;AAE3E;AACA,OAAO,MAAME,wBAAwB,gBAAG3B,WAAW,eACjDiB,MAAM,CAACC,GAAG,CAAC,uDAAuD,CAAC,EACnE,MAAMrB,QAAQ,CAACyB,UAAU,CAAC,IAAI,CAAC,CAChC;AAED;AACA,OAAO,MAAMM,qBAAqB,gBAAG7B,IAAI,CAQvC,CAAC,EAAE,CAACyB,IAAI,EAAEK,OAAO,KAAKjC,MAAM,CAAC8B,OAAO,CAACF,IAAI,EAAEG,wBAAwB,EAAEE,OAAO,CAAC,CAAC;AAEhF;AACA,OAAO,MAAMC,mBAAmB,gBAAG9B,WAAW,eAC5CiB,MAAM,CAACC,GAAG,CAAC,kDAAkD,CAAC,EAC9D,MAAMrB,QAAQ,CAACyB,UAAU,CAAc,EAAE,CAAC,CAC3C;AAED;AACA,OAAO,MAAMS,gBAAgB,gBAAGhC,IAAI,CAQlC,CAAC,EAAE,CAACyB,IAAI,EAAEQ,OAAO,KAAKpC,MAAM,CAAC8B,OAAO,CAACF,IAAI,EAAEM,mBAAmB,EAAEE,OAAO,CAAC,CAAC;AAE3E,MAAMC,WAAW,GAAG;EAClB,CAACjB,MAAM,GAAGA,MAAM;EAChBkB,IAAIA,CAAA;IACF,OAAOhC,aAAa,CAAC,IAAI,EAAEiC,SAAS,CAAC;EACvC;CACD;AAED,MAAMC,QAAQ,GAAIC,CAAU,IAAoDlC,SAAS,CAACmC,WAAW,CAACD,CAAC,EAAErB,MAAM,CAAC;AAEhH;AACA,OAAO,MAAMuB,IAAI,GAAGA,CAClBC,OAE2B,EAC3BC,UAA4C,KAClB;EAC1B,SAASC,MAAMA,CAACC,OAAoC;IAClD,OAAOH,OAAO,CAACC,UAAU,CAACE,OAAO,CAAC,CAAC;EACrC;EACAC,MAAM,CAACC,cAAc,CAACH,MAAM,EAAET,WAAW,CAAC;EACxCS,MAAc,CAACD,UAAU,GAAGA,UAAU;EACtCC,MAAc,CAACF,OAAO,GAAGA,OAAO;EAClC,OAAOE,MAAa;AACtB,CAAC;AAED;AACA,OAAO,MAAMI,WAAW,GACtBC,CAKqF,IAErFR,IAAI,CAAES,MAAM,IACVpD,MAAM,CAACqD,OAAO,CAACD,MAAM,EAAGL,OAAO,IAC7B/C,MAAM,CAACsD,gBAAgB,CAAEC,KAAK,IAAI;EAChC,MAAMC,KAAK,GAAGzD,OAAO,CAAC0D,SAAS,CAACF,KAAK,CAACG,WAAW,CAACzD,QAAQ,CAAC0D,cAAc,CAAC,EAAElD,KAAK,CAACA,KAAK,CAAC;EACxF,MAAMmD,UAAU,GAAG,IAAIC,eAAe,EAAE;EACxC,MAAMC,QAAQ,GAAGrD,KAAK,CAACsD,YAAY,CAACP,KAAK,EAAExD,MAAM,CAACgE,IAAI,CAAC,MAAMJ,UAAU,CAACK,KAAK,EAAE,CAAC,CAAC;EACjF,MAAMC,SAAS,GAAGlD,SAAS,CAACmD,OAAO,CAACpB,OAAO,CAACqB,GAAG,EAAErB,OAAO,CAACsB,SAAS,CAAC;EACnE,IAAIH,SAAS,CAACI,IAAI,KAAK,MAAM,EAAE;IAC7B,OAAOtE,MAAM,CAACuE,IAAI,CAAC,IAAI5D,KAAK,CAAC6D,YAAY,CAAC;MAAEzB,OAAO;MAAE0B,MAAM,EAAE,YAAY;MAAEC,KAAK,EAAER,SAAS,CAACS;IAAI,CAAE,CAAC,CAAC;EACtG;EACA,MAAMP,GAAG,GAAGF,SAAS,CAACU,KAAK;EAC3B,MAAMC,cAAc,GAAG,CAACtB,KAAK,CAACG,WAAW,CAACzD,QAAQ,CAAC6E,oBAAoB,CAAC,IACtEvB,KAAK,CAACG,WAAW,CAACjC,yBAAyB,CAAC,CAACsB,OAAO,CAAC;EACvD,IAAI8B,cAAc,EAAE;IAClB,OAAO7E,MAAM,CAAC+E,QAAQ,CACpBjB,QAAQ,EACRX,CAAC,CAACJ,OAAO,EAAEqB,GAAG,EAAER,UAAU,CAACoB,MAAM,EAAEzB,KAAK,CAAC,CAC1C;EACH;EACA,OAAOvD,MAAM,CAAC+E,QAAQ,CACpBjB,QAAQ,EACR9D,MAAM,CAACiF,OAAO,CACZ,eAAelC,OAAO,CAACmC,MAAM,EAAE,EAC/B;IAAEC,IAAI,EAAE;EAAQ,CAAE,EACjBC,IAAI,IAAI;IACPA,IAAI,CAACC,SAAS,CAAC,aAAa,EAAEtC,OAAO,CAACmC,MAAM,CAAC;IAC7CE,IAAI,CAACC,SAAS,CAAC,qBAAqB,EAAEtC,OAAO,CAACmC,MAAM,CAAC;IACrDE,IAAI,CAACC,SAAS,CAAC,gBAAgB,EAAEjB,GAAG,CAACkB,MAAM,CAAC;IAC5C,IAAIlB,GAAG,CAACmB,IAAI,KAAK,EAAE,EAAE;MACnBH,IAAI,CAACC,SAAS,CAAC,aAAa,EAAE,CAACjB,GAAG,CAACmB,IAAI,CAAC;IAC1C;IACAH,IAAI,CAACC,SAAS,CAAC,UAAU,EAAEjB,GAAG,CAACoB,QAAQ,EAAE,CAAC;IAC1CJ,IAAI,CAACC,SAAS,CAAC,UAAU,EAAEjB,GAAG,CAACoB,QAAQ,EAAE,CAAC;IAC1CJ,IAAI,CAACC,SAAS,CAAC,UAAU,EAAEjB,GAAG,CAACqB,QAAQ,CAAC;IACxCL,IAAI,CAACC,SAAS,CAAC,YAAY,EAAEjB,GAAG,CAACsB,QAAQ,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACvD,MAAMC,KAAK,GAAGxB,GAAG,CAACyB,MAAM,CAACF,KAAK,CAAC,CAAC,CAAC;IACjC,IAAIC,KAAK,KAAK,EAAE,EAAE;MAChBR,IAAI,CAACC,SAAS,CAAC,WAAW,EAAEO,KAAK,CAAC;IACpC;IACA,MAAME,mBAAmB,GAAGvC,KAAK,CAACG,WAAW,CAAC7C,OAAO,CAACkF,oBAAoB,CAAC;IAC3E,MAAMC,eAAe,GAAGnF,OAAO,CAACoF,MAAM,CAAClD,OAAO,CAACmD,OAAO,EAAEJ,mBAAmB,CAAC;IAC5E,KAAK,MAAMK,IAAI,IAAIH,eAAe,EAAE;MAClCZ,IAAI,CAACC,SAAS,CAAC,uBAAuBc,IAAI,EAAE,EAAEC,MAAM,CAACJ,eAAe,CAACG,IAAI,CAAC,CAAC,CAAC;IAC9E;IACApD,OAAO,GAAGQ,KAAK,CAACG,WAAW,CAAC3B,wBAAwB,CAAC,GACjDb,eAAe,CAACmF,UAAU,CAACtD,OAAO,EAAEhC,YAAY,CAACuF,SAAS,CAAClB,IAAI,CAAC,CAAC,GACjErC,OAAO;IACX,OAAO/C,MAAM,CAACuG,GAAG,CACfvG,MAAM,CAACwG,cAAc,CACnBrD,CAAC,CACCJ,OAAO,EACPqB,GAAG,EACHR,UAAU,CAACoB,MAAM,EACjBzB,KAAK,CACN,EACD6B,IAAI,CACL,EACAqB,QAAQ,IAAI;MACXrB,IAAI,CAACC,SAAS,CAAC,2BAA2B,EAAEoB,QAAQ,CAACC,MAAM,CAAC;MAC5DtB,IAAI,CAACC,SAAS,CAAC,kBAAkB,EAAEoB,QAAQ,CAACC,MAAM,CAAC;MACnD,MAAMV,eAAe,GAAGnF,OAAO,CAACoF,MAAM,CAACQ,QAAQ,CAACP,OAAO,EAAEJ,mBAAmB,CAAC;MAC7E,KAAK,MAAMK,IAAI,IAAIH,eAAe,EAAE;QAClCZ,IAAI,CAACC,SAAS,CAAC,wBAAwBc,IAAI,EAAE,EAAEC,MAAM,CAACJ,eAAe,CAACG,IAAI,CAAC,CAAC,CAAC;MAC/E;IACF,CAAC,CACF;EACH,CAAC,CACF,CACF;AACH,CAAC,CAAC,CAAC,EAAEnG,MAAM,CAAC2G,OAAiD,CAAC;AAEpE;AACA,OAAO,MAAMC,KAAK,gBAAG7G,OAAO,CAACyB,UAAU,CACrC,oCAAoC,CACrC;AAED;AACA,OAAO,MAAMqF,KAAK,gBAA0B3D,WAAW,CAAC,CAACH,OAAO,EAAEqB,GAAG,EAAEY,MAAM,EAAEzB,KAAK,KAAI;EACtF,MAAMuD,OAAO,GAAGvD,KAAK,CAACG,WAAW,CAACzD,QAAQ,CAAC0D,cAAc,CAAC;EAC1D,MAAMkD,KAAK,GAA4BC,OAAO,CAACC,SAAS,CAACC,GAAG,CAACJ,KAAK,CAACK,GAAG,CAAC,IAAIC,UAAU,CAACL,KAAK;EAC3F,MAAMzE,OAAO,GAAGmB,KAAK,CAACG,WAAW,CAACxB,mBAAmB,CAAC;EACtD,MAAMgE,OAAO,GAAG,IAAIgB,UAAU,CAACrG,OAAO,CAACkC,OAAO,CAACmD,OAAO,CAAC;EACvD,MAAMiB,IAAI,GAAIC,IAA0B,IACtCpH,MAAM,CAACqH,GAAG,CACRrH,MAAM,CAACsH,UAAU,CAAC;IAChBC,GAAG,EAAEA,CAAA,KACHV,KAAK,CAACzC,GAAG,EAAE;MACT,GAAGhC,OAAO;MACV8C,MAAM,EAAEnC,OAAO,CAACmC,MAAM;MACtBgB,OAAO;MACPkB,IAAI;MACJI,MAAM,EAAEzE,OAAO,CAACqE,IAAI,CAAC9C,IAAI,KAAK,QAAQ,GAAG,MAAM,GAAGmD,SAAS;MAC3DzC;KACM,CAAC;IACX0C,KAAK,EAAGhD,KAAK,IACX,IAAI/D,KAAK,CAAC6D,YAAY,CAAC;MACrBzB,OAAO;MACP0B,MAAM,EAAE,WAAW;MACnBC;KACD;GACJ,CAAC,EACD+B,QAAQ,IAAKtF,gBAAgB,CAACwG,OAAO,CAAC5E,OAAO,EAAE0D,QAAQ,CAAC,CAC1D;EACH,IAAI3F,MAAM,CAAC8G,OAAO,CAAC7E,OAAO,CAACmC,MAAM,CAAC,EAAE;IAClC,OAAOiC,IAAI,CAACU,WAAW,CAAC9E,OAAO,CAACqE,IAAI,CAAC,CAAC;EACxC;EACA,OAAOD,IAAI,CAACM,SAAS,CAAC;AACxB,CAAC,CAAC;AAEF,MAAMI,WAAW,GAAIT,IAAe,IAA0B;EAC5D,QAAQA,IAAI,CAAC9C,IAAI;IACf,KAAK,OAAO;MACV,OAAOmD,SAAS;IAClB,KAAK,KAAK;MACR,OAAOL,IAAI,CAACA,IAAW;IACzB,KAAK,YAAY;MACf,OAAOA,IAAI,CAACA,IAAI;IAClB,KAAK,UAAU;MACb,OAAOA,IAAI,CAACU,QAAQ;IACtB,KAAK,QAAQ;MACX,OAAOpH,MAAM,CAACqH,gBAAgB,CAACX,IAAI,CAACY,MAAM,CAAC;EAC/C;AACF,CAAC;AAED;AACA,OAAO,MAAMC,SAAS,gBAAG9H,IAAI,CAc3B,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KACXR,IAAI,CACF3C,MAAM,CAACqD,OAAO,CAAEN,OAAO,IAAKI,CAAC,CAACvB,IAAI,CAACgB,OAAO,CAAC5C,MAAM,CAAC2G,OAAO,CAAC5D,OAAO,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,EAC9EnB,IAAI,CAACiB,UAAU,CAChB,CAAC;AAEJ;AACA,OAAO,MAAMqF,YAAY,gBAAG/H,IAAI,CAU9B,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KACX8E,SAAS,CAACrG,IAAI,EAAE,CAACwB,MAAM,EAAEL,OAAO,KAC9B/C,MAAM,CAACmI,YAAY,CACjB/E,MAAM,EACLqD,QAAQ,IAAKtD,CAAC,CAACsD,QAAQ,CAACC,MAAM,CAAC,EAC/BD,QAAQ,IACP,IAAI9F,KAAK,CAACyH,aAAa,CAAC;EACtBrF,OAAO;EACP0D,QAAQ;EACRhC,MAAM,EAAE,YAAY;EACpBC,KAAK,EAAE;CACR,CAAC,CACL,CAAC,CAAC;AAEP;AACA,OAAO,MAAM2D,cAAc,GACzBzG,IAAsC,IAEtCqG,SAAS,CAACrG,IAAI,EAAE,CAACwB,MAAM,EAAEL,OAAO,KAC9B/C,MAAM,CAACmI,YAAY,CACjB/E,MAAM,EACLqD,QAAQ,IAAKA,QAAQ,CAACC,MAAM,IAAI,GAAG,IAAID,QAAQ,CAACC,MAAM,GAAG,GAAG,EAC5DD,QAAQ,IACP,IAAI9F,KAAK,CAACyH,aAAa,CAAC;EACtBrF,OAAO;EACP0D,QAAQ;EACRhC,MAAM,EAAE,YAAY;EACpBC,KAAK,EAAE;CACR,CAAC,CACL,CAAC;AAEN;AACA,OAAO,MAAM4D,OAAO,gBAA0BD,cAAc,CAACxB,KAAK,CAAC;AAEnE;AACA,OAAO,MAAM0B,KAAK,gBAAGlI,KAAK,CAACsG,OAAO,CAACpF,GAAG,EAAEsF,KAAK,CAAC;AAE9C;AACA,OAAO,MAAM2B,iBAAiB,gBAAGrI,IAAI,CAQnC,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKR,IAAI,CAAEI,OAAO,IAAKI,CAAC,CAACvB,IAAI,CAACgB,OAAO,CAACG,OAAO,CAAC,CAAC,EAAEnB,IAAI,CAACiB,UAAU,CAAC,CAAC;AAE/E;AACA,OAAO,MAAM4F,QAAQ,gBAoBjBtI,IAAI,CACN,CAAC,EACD,CASEyB,IAA4B,EAC5BL,GAAM,EACN4B,CAA4D,KACIqF,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAACyI,QAAQ,CAAClH,GAAG,EAAE4B,CAAC,CAAC,CAAC,CACnH;AAED;AACA,OAAO,MAAMuF,SAAS,gBA0FlBvI,IAAI,CACN,CAAC,EACD,CAoBEyB,IAA4B,EAC5B+G,KAAY,KAuBTH,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAAC0I,SAAS,CAACC,KAAK,CAAC,CAAC,CACtD;AAED;AACA,OAAO,MAAMC,QAAQ,gBAQjBzI,IAAI,CACN,CAAC,EACD,CACEyB,IAA4B,EAC5BuB,CAAsC,KACAqF,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAAC4I,QAAQ,CAACzF,CAAC,CAAC,CAAC,CACpF;AAED;AACA,OAAO,MAAM0F,YAAY,gBAAG1I,IAAI,CAY9B,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,EAAE2F,MAAM,KAAKN,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAAC6I,YAAY,CAAC1F,CAAC,EAAE2F,MAAM,CAAC,CAAC,CAAC;AAElF;AACA,OAAO,MAAMX,YAAY,gBAAGhI,IAAI,CAU9B,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,EAAE4F,UAAU,KAAKP,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAACmI,YAAY,CAAChF,CAAC,EAAE4F,UAAU,CAAC,CAAC,CAAC;AAE1F;AACA,OAAO,MAAM1B,GAAG,gBAAGlH,IAAI,CAQrB,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKqF,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAACqH,GAAG,CAAClE,CAAC,CAAC,CAAC,CAAC;AAEzD;AACA,OAAO,MAAM6F,SAAS,gBAAG7I,IAAI,CAQ3B,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKqF,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAACqD,OAAO,CAACF,CAAC,CAAC,CAAC,CAAC;AAE7D;AACA,OAAO,MAAM8F,MAAM,GACjBrH,IAA4B,IACqB4G,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAACiJ,MAAM,CAAC;AAEzF;AACA,OAAO,MAAMC,eAAe,gBAAG/I,IAAI,CAQjC,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAK8F,MAAM,CAACD,SAAS,CAACpH,IAAI,EAAEuB,CAAC,CAAC,CAAC,CAAC;AAE7C;AACA,OAAO,MAAMgG,UAAU,gBAAGhJ,IAAI,CAQ5B,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKR,IAAI,CAACf,IAAI,CAACgB,OAAO,EAAGG,OAAO,IAAK/C,MAAM,CAACqH,GAAG,CAACzF,IAAI,CAACiB,UAAU,CAACE,OAAO,CAAC,EAAEI,CAAC,CAAC,CAAC,CAAC;AAE3F;AACA,OAAO,MAAMiG,gBAAgB,gBAAGjJ,IAAI,CAclC,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKR,IAAI,CAACf,IAAI,CAACgB,OAAc,EAAGG,OAAO,IAAK/C,MAAM,CAACqD,OAAO,CAACzB,IAAI,CAACiB,UAAU,CAACE,OAAO,CAAC,EAAEI,CAAC,CAAC,CAAC,CAAC;AAEtG;AACA,OAAO,MAAMkG,eAAe,gBAAGlJ,IAAI,CAQjC,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKR,IAAI,CAACf,IAAI,CAACgB,OAAO,EAAGG,OAAO,IAAKnB,IAAI,CAACiB,UAAU,CAACM,CAAC,CAACJ,OAAO,CAAC,CAAC,CAAC,CAAC;AAE/E;AACA,OAAO,MAAMuG,qBAAqB,gBAAGnJ,IAAI,CAcvC,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKR,IAAI,CAACf,IAAI,CAACgB,OAAc,EAAGG,OAAO,IAAK/C,MAAM,CAACqD,OAAO,CAACF,CAAC,CAACJ,OAAO,CAAC,EAAEnB,IAAI,CAACiB,UAAU,CAAC,CAAC,CAAC;AAEtG;AACA,OAAO,MAAM0G,KAAK,gBAQdpJ,IAAI,CACN,CAAC,EACD,CACEyB,IAA4B,EAC5B4H,MAAoC,KACJhB,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAACuJ,KAAK,CAACC,MAAM,CAAC,CAAC,CAChF;AAED;AACA,OAAO,MAAMC,cAAc,gBAAGtJ,IAAI,CAoB/BuJ,IAAI,IAAKlH,QAAQ,CAACkH,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC9H,IAAI,EAAE+H,MAAM,EAAEvH,OAAO,KAAI;EACvD,MAAMwH,MAAM,GAAG9J,MAAM,CAAC8J,MAAM,CAACD,MAAM,EAAEvH,OAAO,CAAC;EAC7C,OAAQW,OAAO,IAAM8G,CAAC,IACpB7J,MAAM,CAACqD,OAAO,CACZrD,MAAM,CAAC8J,MAAM,CAACF,MAAM,CAACC,CAAC,CAAC,EAAE;IACvBtC,GAAG,EAAGH,IAAI,IAAK,IAAI2C,WAAW,EAAE,CAACH,MAAM,CAACI,IAAI,CAACC,SAAS,CAAC7C,IAAI,CAAC,CAAC;IAC7DM,KAAK,EAAGhD,KAAK,IACX,IAAI/D,KAAK,CAAC6D,YAAY,CAAC;MACrBzB,OAAO;MACP0B,MAAM,EAAE,QAAQ;MAChBC;KACD;GACJ,CAAC,EACD0C,IAAI,IACHxF,IAAI,CACFV,eAAe,CAACgJ,OAAO,CACrBnH,OAAO,EACP9B,YAAY,CAACkJ,UAAU,CAAC/C,IAAI,EAAE,kBAAkB,CAAC,CAClD,CACF,CACJ;AACL,CAAC,CAAC;AAEF;AACA,OAAO,MAAMb,GAAG,gBAAGpG,IAAI,CAQrB,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKqF,iBAAiB,CAAC5G,IAAI,EAAE5B,MAAM,CAACuG,GAAG,CAACpD,CAAC,CAAC,CAAC,CAAC;AAEzD;AACA,OAAO,MAAMiH,UAAU,gBAAGjK,IAAI,CAU5B,CAAC,EAAE,CAACyB,IAAI,EAAEuB,CAAC,KAAKR,IAAI,CAACf,IAAI,CAACgB,OAAc,EAAGG,OAAO,IAAK/C,MAAM,CAACuG,GAAG,CAAC3E,IAAI,CAACiB,UAAU,CAACE,OAAO,CAAC,EAAEI,CAAC,CAAC,CAAC,CAAC;AAElG;AACA,OAAO,MAAMkH,cAAc,gBAAGlK,IAAI,CAShC,CAAC,EACD,CACEyB,IAAsC,EACtC0I,GAA6B,KAE7B3H,IAAI,CACDI,OAAyD,IACxD/C,MAAM,CAACuG,GAAG,CACR3E,IAAI,CAACgB,OAAO,CAACG,OAAO,CAAC,EACpB0D,QAAQ,IAAKjG,GAAG,CAAC+J,MAAM,CAACD,GAAG,EAAGE,OAAO,IAAK5J,OAAO,CAAC6J,KAAK,CAACD,OAAO,EAAE/D,QAAQ,CAAC+D,OAAO,CAAC,CAAC,CACrF,EACFzH,OAAO,IACN/C,MAAM,CAACqD,OAAO,CAACzB,IAAI,CAACiB,UAAU,CAACE,OAAO,CAAC,EAAGA,OAAO,IAC/C/C,MAAM,CAACqH,GAAG,CACR7G,GAAG,CAACwG,GAAG,CAACsD,GAAG,CAAC,EACXE,OAAO,IACN5J,OAAO,CAAC8J,OAAO,CAACF,OAAO,CAAC,GACpBzH,OAAO,GACP7B,eAAe,CAACyJ,SAAS,CAAC5H,OAAO,EAAE,QAAQ,EAAEnC,OAAO,CAACgK,cAAc,CAACJ,OAAO,CAAC,CAAC,CACpF,CAAC,CACP,CACJ","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/http/middleware.js b/dist/esm/internal/http/middleware.js
index bb3c8b05272cbaca52af482b40bd47e1e1d225e9..3d11a748301fa898eeabd06565de964797688896 100644
--- a/dist/esm/internal/http/middleware.js
+++ b/dist/esm/internal/http/middleware.js
@@ -71,8 +71,10 @@ export const tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRuntime(fiber
     parent: Option.getOrUndefined(TraceContext.fromHeaders(request.headers)),
     kind: "server"
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     if (url !== undefined) {
+      span.attribute("http.url", url.toString());
       span.attribute("url.full", url.toString());
       span.attribute("url.path", url.pathname);
       const query = url.search.slice(1);
@@ -93,9 +95,11 @@ export const tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRuntime(fiber
     return Effect.flatMap(Effect.exit(Effect.withParentSpan(httpApp, span)), exit => {
       if (exit._tag === "Failure") {
         span.attribute("http.response.status_code", ServerError.causeStatusCode(exit.cause));
+        span.attribute("http.status_code", ServerError.causeStatusCode(exit.cause));
       } else {
         const response = exit.value;
         span.attribute("http.response.status_code", response.status);
+        span.attribute("http.status_code", response.status);
         const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
         for (const name in redactedHeaders) {
           span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
@@ -110,4 +114,11 @@ export const xForwardedHeaders = /*#__PURE__*/make(httpApp => Effect.updateServi
   headers: Headers.set(request.headers, "host", request.headers["x-forwarded-host"]),
   remoteAddress: request.headers["x-forwarded-for"]?.split(",")[0].trim()
 }) : request));
+/** @internal */
+export const searchParamsParser = httpApp => Effect.withFiberRuntime(fiber => {
+  const context = fiber.getFiberRef(FiberRef.currentContext);
+  const request = Context.unsafeGet(context, ServerRequest.ServerRequest);
+  const params = ServerRequest.searchParamsFromURL(new URL(request.url));
+  return Effect.locally(httpApp, FiberRef.currentContext, Context.add(context, ServerRequest.ParsedSearchParams, params));
+});
 //# sourceMappingURL=middleware.js.map
\ No newline at end of file
diff --git a/dist/esm/internal/http/middleware.js.map b/dist/esm/internal/http/middleware.js.map
index 7e2497b20cb8a07cbeb0c68ded0023e5117e7bcb..1bf1327030180fcfd505aa8cdcfccbbf37a16a23 100644
--- a/dist/esm/internal/http/middleware.js.map
+++ b/dist/esm/internal/http/middleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"middleware.js","names":["Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","Option","Headers","ServerError","ServerRequest","TraceContext","make","middleware","loggerDisabled","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","set","currentTracerDisabledWhen","withTracerDisabledWhen","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","withLogSpan","flatMap","exit","_tag","annotateLogs","log","cause","method","causeStatusCode","value","status","tracer","disabled","host","headers","protocol","undefined","URL","username","password","_","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","useSpan","parent","getOrUndefined","fromHeaders","kind","span","attribute","toString","pathname","query","search","slice","name","String","remoteAddress","withParentSpan","response","xForwardedHeaders","updateService","modify","split","trim"],"sources":["../../../../src/internal/http/middleware.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,OAAO,MAAM,gBAAgB;AACzC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,SAASC,UAAU,EAAEC,IAAI,QAAQ,iBAAiB;AAClD,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,MAAM,MAAM,eAAe;AAEvC,OAAO,KAAKC,OAAO,MAAM,uBAAuB;AAEhD,OAAO,KAAKC,WAAW,MAAM,2BAA2B;AACxD,OAAO,KAAKC,aAAa,MAAM,6BAA6B;AAC5D,OAAO,KAAKC,YAAY,MAAM,4BAA4B;AAE1D;AACA,OAAO,MAAMC,IAAI,GAAqCC,UAAa,IAAQA,UAAU;AAErF;AACA,OAAO,MAAMC,cAAc,gBAAGT,WAAW,eACvCU,MAAM,CAACC,GAAG,CAAC,iDAAiD,CAAC,EAC7D,MAAMd,QAAQ,CAACe,UAAU,CAAC,KAAK,CAAC,CACjC;AAED;AACA,OAAO,MAAMC,kBAAkB,GAAaC,IAA4B,IACtElB,MAAM,CAACmB,QAAQ,CACblB,QAAQ,CAACmB,GAAG,CAACP,cAAc,EAAE,IAAI,CAAC,EAClCK,IAAI,CACL;AAEH;AACA,OAAO,MAAMG,yBAAyB,gBAAGjB,WAAW,eAClDU,MAAM,CAACC,GAAG,CAAC,qDAAqD,CAAC,EACjE,MAAMd,QAAQ,CAACe,UAAU,CAAmDd,UAAU,CAAC,CACxF;AAED;AACA,OAAO,MAAMoB,sBAAsB,gBAAGnB,IAAI,CAQxC,CAAC,EAAE,CAACe,IAAI,EAAEK,IAAI,KAAKlB,KAAK,CAACmB,OAAO,CAACN,IAAI,EAAEG,yBAAyB,EAAEE,IAAI,CAAC,CAAC;AAE1E;AACA,OAAO,MAAME,4BAA4B,gBAAGtB,IAAI,CAQ9C,CAAC,EAAE,CAACe,IAAI,EAAEK,IAAI,KAAKvB,MAAM,CAACwB,OAAO,CAACN,IAAI,EAAEG,yBAAyB,EAAEE,IAAI,CAAC,CAAC;AAE3E;AACA,OAAO,MAAMG,yBAAyB,gBAAGvB,IAAI,CAQ3C,CAAC,EAAE,CAACe,IAAI,EAAES,IAAI,KAAKtB,KAAK,CAACmB,OAAO,CAACN,IAAI,EAAEG,yBAAyB,EAAGO,GAAG,IAAKD,IAAI,CAACE,QAAQ,CAACD,GAAG,CAACE,GAAG,CAAC,CAAC,CAAC;AAErG;AACA,OAAO,MAAMC,MAAM,gBAAGpB,IAAI,CAAEqB,OAAO,IAAI;EACrC,IAAIC,OAAO,GAAG,CAAC;EACf,OAAOjC,MAAM,CAACkC,gBAAgB,CAAEC,KAAK,IAAI;IACvC,MAAMC,OAAO,GAAGD,KAAK,CAACE,WAAW,CAACpC,QAAQ,CAACqC,cAAc,CAAC;IAC1D,MAAMC,OAAO,GAAGxC,OAAO,CAACyC,SAAS,CAACJ,OAAO,EAAE3B,aAAa,CAACA,aAAa,CAAC;IACvE,OAAOT,MAAM,CAACyC,WAAW,CACvBzC,MAAM,CAAC0C,OAAO,CAAC1C,MAAM,CAAC2C,IAAI,CAACX,OAAO,CAAC,EAAGW,IAAI,IAAI;MAC5C,IAAIR,KAAK,CAACE,WAAW,CAACxB,cAAc,CAAC,EAAE;QACrC,OAAO8B,IAAI;MACb;MACA,OAAO3C,MAAM,CAACmB,QAAQ,CACpBwB,IAAI,CAACC,IAAI,KAAK,SAAS,GACrB5C,MAAM,CAAC6C,YAAY,CAAC7C,MAAM,CAAC8C,GAAG,CAACH,IAAI,CAACI,KAAK,CAAC,EAAE;QAC1C,aAAa,EAAER,OAAO,CAACS,MAAM;QAC7B,UAAU,EAAET,OAAO,CAACT,GAAG;QACvB,aAAa,EAAEtB,WAAW,CAACyC,eAAe,CAACN,IAAI,CAACI,KAAK;OACtD,CAAC,GACF/C,MAAM,CAAC6C,YAAY,CAAC7C,MAAM,CAAC8C,GAAG,CAAC,oBAAoB,CAAC,EAAE;QACpD,aAAa,EAAEP,OAAO,CAACS,MAAM;QAC7B,UAAU,EAAET,OAAO,CAACT,GAAG;QACvB,aAAa,EAAEa,IAAI,CAACO,KAAK,CAACC;OAC3B,CAAC,EACJR,IAAI,CACL;IACH,CAAC,CAAC,EACF,aAAa,EAAEV,OAAO,EAAE,CACzB;EACH,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF;AACA,OAAO,MAAMmB,MAAM,gBAAGzC,IAAI,CAAEqB,OAAO,IACjChC,MAAM,CAACkC,gBAAgB,CAAEC,KAAK,IAAI;EAChC,MAAMC,OAAO,GAAGD,KAAK,CAACE,WAAW,CAACpC,QAAQ,CAACqC,cAAc,CAAC;EAC1D,MAAMC,OAAO,GAAGxC,OAAO,CAACyC,SAAS,CAACJ,OAAO,EAAE3B,aAAa,CAACA,aAAa,CAAC;EACvE,MAAM4C,QAAQ,GAAGlB,KAAK,CAACE,WAAW,CAAChB,yBAAyB,CAAC,CAACkB,OAAO,CAAC;EACtE,IAAIc,QAAQ,EAAE;IACZ,OAAOrB,OAAO;EAChB;EACA,MAAMsB,IAAI,GAAGf,OAAO,CAACgB,OAAO,CAAC,MAAM,CAAC,IAAI,WAAW;EACnD,MAAMC,QAAQ,GAAGjB,OAAO,CAACgB,OAAO,CAAC,mBAAmB,CAAC,KAAK,OAAO,GAAG,OAAO,GAAG,MAAM;EACpF,IAAIzB,GAAG,GAAoB2B,SAAS;EACpC,IAAI;IACF3B,GAAG,GAAG,IAAI4B,GAAG,CAACnB,OAAO,CAACT,GAAG,EAAE,GAAG0B,QAAQ,MAAMF,IAAI,EAAE,CAAC;IACnD,IAAIxB,GAAG,CAAC6B,QAAQ,KAAK,EAAE,IAAI7B,GAAG,CAAC8B,QAAQ,KAAK,EAAE,EAAE;MAC9C9B,GAAG,CAAC6B,QAAQ,GAAG,UAAU;MACzB7B,GAAG,CAAC8B,QAAQ,GAAG,UAAU;IAC3B;EACF,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV;EAAA;EAEF,MAAMC,mBAAmB,GAAG3B,KAAK,CAACE,WAAW,CAAC9B,OAAO,CAACwD,oBAAoB,CAAC;EAC3E,MAAMC,eAAe,GAAGzD,OAAO,CAAC0D,MAAM,CAAC1B,OAAO,CAACgB,OAAO,EAAEO,mBAAmB,CAAC;EAC5E,OAAO9D,MAAM,CAACkE,OAAO,CACnB,eAAe3B,OAAO,CAACS,MAAM,EAAE,EAC/B;IAAEmB,MAAM,EAAE7D,MAAM,CAAC8D,cAAc,CAAC1D,YAAY,CAAC2D,WAAW,CAAC9B,OAAO,CAACgB,OAAO,CAAC,CAAC;IAAEe,IAAI,EAAE;EAAQ,CAAE,EAC3FC,IAAI,IAAI;IACPA,IAAI,CAACC,SAAS,CAAC,qBAAqB,EAAEjC,OAAO,CAACS,MAAM,CAAC;IACrD,IAAIlB,GAAG,KAAK2B,SAAS,EAAE;MACrBc,IAAI,CAACC,SAAS,CAAC,UAAU,EAAE1C,GAAG,CAAC2C,QAAQ,EAAE,CAAC;MAC1CF,IAAI,CAACC,SAAS,CAAC,UAAU,EAAE1C,GAAG,CAAC4C,QAAQ,CAAC;MACxC,MAAMC,KAAK,GAAG7C,GAAG,CAAC8C,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MACjC,IAAIF,KAAK,KAAK,EAAE,EAAE;QAChBJ,IAAI,CAACC,SAAS,CAAC,WAAW,EAAE1C,GAAG,CAAC8C,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MAClD;MACAN,IAAI,CAACC,SAAS,CAAC,YAAY,EAAE1C,GAAG,CAAC0B,QAAQ,CAACqB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACzD;IACA,IAAItC,OAAO,CAACgB,OAAO,CAAC,YAAY,CAAC,KAAKE,SAAS,EAAE;MAC/Cc,IAAI,CAACC,SAAS,CAAC,qBAAqB,EAAEjC,OAAO,CAACgB,OAAO,CAAC,YAAY,CAAC,CAAC;IACtE;IACA,KAAK,MAAMuB,IAAI,IAAId,eAAe,EAAE;MAClCO,IAAI,CAACC,SAAS,CAAC,uBAAuBM,IAAI,EAAE,EAAEC,MAAM,CAACf,eAAe,CAACc,IAAI,CAAC,CAAC,CAAC;IAC9E;IACA,IAAIvC,OAAO,CAACyC,aAAa,CAACpC,IAAI,KAAK,MAAM,EAAE;MACzC2B,IAAI,CAACC,SAAS,CAAC,gBAAgB,EAAEjC,OAAO,CAACyC,aAAa,CAAC9B,KAAK,CAAC;IAC/D;IACA,OAAOlD,MAAM,CAAC0C,OAAO,CACnB1C,MAAM,CAAC2C,IAAI,CAAC3C,MAAM,CAACiF,cAAc,CAACjD,OAAO,EAAEuC,IAAI,CAAC,CAAC,EAChD5B,IAAI,IAAI;MACP,IAAIA,IAAI,CAACC,IAAI,KAAK,SAAS,EAAE;QAC3B2B,IAAI,CAACC,SAAS,CAAC,2BAA2B,EAAEhE,WAAW,CAACyC,eAAe,CAACN,IAAI,CAACI,KAAK,CAAC,CAAC;MACtF,CAAC,MAAM;QACL,MAAMmC,QAAQ,GAAGvC,IAAI,CAACO,KAAK;QAC3BqB,IAAI,CAACC,SAAS,CAAC,2BAA2B,EAAEU,QAAQ,CAAC/B,MAAM,CAAC;QAC5D,MAAMa,eAAe,GAAGzD,OAAO,CAAC0D,MAAM,CAACiB,QAAQ,CAAC3B,OAAO,EAAEO,mBAAmB,CAAC;QAC7E,KAAK,MAAMgB,IAAI,IAAId,eAAe,EAAE;UAClCO,IAAI,CAACC,SAAS,CAAC,wBAAwBM,IAAI,EAAE,EAAEC,MAAM,CAACf,eAAe,CAACc,IAAI,CAAC,CAAC,CAAC;QAC/E;MACF;MACA,OAAOnC,IAAI;IACb,CAAC,CACF;EACH,CAAC,CACF;AACH,CAAC,CAAC,CACH;AAED;AACA,OAAO,MAAMwC,iBAAiB,gBAAGxE,IAAI,CAAEqB,OAAO,IAC5ChC,MAAM,CAACoF,aAAa,CAACpD,OAAO,EAAEvB,aAAa,CAACA,aAAa,EAAG8B,OAAO,IACjEA,OAAO,CAACgB,OAAO,CAAC,kBAAkB,CAAC,GAC/BhB,OAAO,CAAC8C,MAAM,CAAC;EACf9B,OAAO,EAAEhD,OAAO,CAACa,GAAG,CAClBmB,OAAO,CAACgB,OAAO,EACf,MAAM,EACNhB,OAAO,CAACgB,OAAO,CAAC,kBAAkB,CAAC,CACpC;EACDyB,aAAa,EAAEzC,OAAO,CAACgB,OAAO,CAAC,iBAAiB,CAAC,EAAE+B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI;CACtE,CAAC,GACAhD,OAAO,CAAC,CACf","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"middleware.js","names":["Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","Option","Headers","ServerError","ServerRequest","TraceContext","make","middleware","loggerDisabled","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","set","currentTracerDisabledWhen","withTracerDisabledWhen","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","withLogSpan","flatMap","exit","_tag","annotateLogs","log","cause","method","causeStatusCode","value","status","tracer","disabled","host","headers","protocol","undefined","URL","username","password","_","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","useSpan","parent","getOrUndefined","fromHeaders","kind","span","attribute","toString","pathname","query","search","slice","name","String","remoteAddress","withParentSpan","response","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","params","searchParamsFromURL","add","ParsedSearchParams"],"sources":["../../../../src/internal/http/middleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/http/router.js b/dist/esm/internal/http/router.js
index 851cba410d1c80cf65b328700b9ea2eb1308a669..51cb2b7f42fac72dd13729979c6f3f566e27b336 100644
--- a/dist/esm/internal/http/router.js
+++ b/dist/esm/internal/http/router.js
@@ -24,50 +24,57 @@ const isRouter = u => Predicate.hasProperty(u, TypeId);
 /** @internal */
 export const params = /*#__PURE__*/Effect.map(RouteContext, _ => _.params);
 /** @internal */
-export const searchParams = /*#__PURE__*/Effect.map(RouteContext, _ => _.searchParams);
-/** @internal */
 export const schemaJson = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(ServerRequest.ServerRequest, request => Effect.flatMap(Effect.zip(request.json, RouteContext), ([body, context]) => parse({
-    method: request.method,
-    url: request.url,
-    headers: request.headers,
-    cookies: request.cookies,
-    pathParams: context.params,
-    searchParams: context.searchParams,
-    body
-  })));
+  return Effect.flatMap(Effect.context(), context => {
+    const request = Context.get(context, ServerRequest.ServerRequest);
+    const searchParams = Context.get(context, ServerRequest.ParsedSearchParams);
+    const routeContext = Context.get(context, RouteContext);
+    return Effect.flatMap(request.json, body => parse({
+      method: request.method,
+      url: request.url,
+      headers: request.headers,
+      cookies: request.cookies,
+      pathParams: routeContext.params,
+      searchParams,
+      body
+    }));
+  });
 };
 /** @internal */
 export const schemaNoBody = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(ServerRequest.ServerRequest, request => Effect.flatMap(RouteContext, context => parse({
-    method: request.method,
-    url: request.url,
-    headers: request.headers,
-    cookies: request.cookies,
-    pathParams: context.params,
-    searchParams: context.searchParams
-  })));
+  return Effect.flatMap(Effect.context(), context => {
+    const request = Context.get(context, ServerRequest.ServerRequest);
+    const searchParams = Context.get(context, ServerRequest.ParsedSearchParams);
+    const routeContext = Context.get(context, RouteContext);
+    return parse({
+      method: request.method,
+      url: request.url,
+      headers: request.headers,
+      cookies: request.cookies,
+      pathParams: routeContext.params,
+      searchParams
+    });
+  });
 };
 /** @internal */
 export const schemaParams = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(RouteContext, _ => parse({
-    ..._.searchParams,
-    ..._.params
-  }));
+  return Effect.flatMap(Effect.context(), context => {
+    const searchParams = Context.get(context, ServerRequest.ParsedSearchParams);
+    const routeContext = Context.get(context, RouteContext);
+    return parse({
+      ...searchParams,
+      ...routeContext.params
+    });
+  });
 };
 /** @internal */
 export const schemaPathParams = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
   return Effect.flatMap(RouteContext, _ => parse(_.params));
 };
-/** @internal */
-export const schemaSearchParams = (schema, options) => {
-  const parse = Schema.decodeUnknown(schema, options);
-  return Effect.flatMap(RouteContext, _ => parse(_.searchParams));
-};
 class RouterImpl extends Effectable.StructuralClass {
   routes;
   mounts;
@@ -100,7 +107,7 @@ class RouterImpl extends Effectable.StructuralClass {
 }
 const toHttpApp = self => {
   const router = FindMyWay.make();
-  const mounts = Chunk.toReadonlyArray(self.mounts).map(([path, app, options]) => [path, new RouteContextImpl(new RouteImpl("*", options?.includePrefix ? `${path}/*` : "/*", app, options?.includePrefix ? Option.none() : Option.some(path), false), {}, {}), options]);
+  const mounts = Chunk.toReadonlyArray(self.mounts).map(([path, app, options]) => [path, new RouteContextImpl(new RouteImpl("*", options?.includePrefix ? `${path}/*` : "/*", app, options?.includePrefix ? Option.none() : Option.some(path), false), {}), options]);
   const mountsLen = mounts.length;
   Chunk.forEach(self.routes, route => {
     if (route.method === "*") {
@@ -110,15 +117,15 @@ const toHttpApp = self => {
     }
   });
   return Effect.withFiberRuntime(fiber => {
-    let context = fiber.getFiberRef(FiberRef.currentContext);
+    const context = Context.unsafeMake(new Map(fiber.getFiberRef(FiberRef.currentContext).unsafeMap));
     const request = Context.unsafeGet(context, ServerRequest.ServerRequest);
     if (mountsLen > 0) {
       for (let i = 0; i < mountsLen; i++) {
         const [path, routeContext, options] = mounts[i];
         if (request.url.startsWith(path)) {
-          context = Context.add(context, RouteContext, routeContext);
+          context.unsafeMap.set(RouteContext.key, routeContext);
           if (options?.includePrefix !== true) {
-            context = Context.add(context, ServerRequest.ServerRequest, sliceRequestUrl(request, path));
+            context.unsafeMap.set(ServerRequest.ServerRequest.key, sliceRequestUrl(request, path));
           }
           return Effect.locally(routeContext.route.handler, FiberRef.currentContext, context);
         }
@@ -135,9 +142,10 @@ const toHttpApp = self => {
     }
     const route = result.handler;
     if (route.prefix._tag === "Some") {
-      context = Context.add(context, ServerRequest.ServerRequest, sliceRequestUrl(request, route.prefix.value));
+      context.unsafeMap.set(ServerRequest.ServerRequest.key, sliceRequestUrl(request, route.prefix.value));
     }
-    context = Context.add(context, RouteContext, new RouteContextImpl(route, result.params, result.searchParams));
+    context.unsafeMap.set(ServerRequest.ParsedSearchParams.key, result.searchParams);
+    context.unsafeMap.set(RouteContext.key, new RouteContextImpl(route, result.params));
     const span = Context.getOption(context, Tracer.ParentSpan);
     if (span._tag === "Some" && span.value._tag === "Span") {
       span.value.attribute("http.route", route.path);
@@ -179,12 +187,10 @@ class RouteImpl extends Inspectable.Class {
 class RouteContextImpl {
   route;
   params;
-  searchParams;
   [RouteContextTypeId];
-  constructor(route, params, searchParams) {
+  constructor(route, params) {
     this.route = route;
     this.params = params;
-    this.searchParams = searchParams;
     this[RouteContextTypeId] = RouteContextTypeId;
   }
 }
diff --git a/dist/esm/internal/http/router.js.map b/dist/esm/internal/http/router.js.map
index 03cceee5f14d1f596c38053d518cc1ab1cc46046..cd7a92e660e44fcc55c20d4ca115280943f29c02 100644
--- a/dist/esm/internal/http/router.js.map
+++ b/dist/esm/internal/http/router.js.map
@@ -1 +1 @@
-{"version":3,"file":"router.js","names":["Schema","Chunk","Context","Effect","Effectable","FiberRef","dual","Inspectable","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","TypeId","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","u","hasProperty","params","map","_","searchParams","schemaJson","schema","options","parse","decodeUnknown","flatMap","request","zip","json","body","context","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","schemaSearchParams","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","getFiberRef","currentContext","unsafeGet","i","routeContext","startsWith","add","sliceRequestUrl","locally","handler","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","concat","that","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","append","get","post","put","patch","del","head","use","f","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","effect"],"sources":["../../../../src/internal/http/router.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"router.js","names":["Schema","Chunk","Context","Effect","Effectable","FiberRef","dual","Inspectable","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","TypeId","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","u","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","get","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","unsafeMake","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","i","startsWith","set","key","sliceRequestUrl","locally","handler","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","concat","that","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","append","post","put","patch","del","head","use","f","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","effect"],"sources":["../../../../src/internal/http/router.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/http/serverRequest.js b/dist/esm/internal/http/serverRequest.js
index 3f7482a9f1a753a381fc3ade4d43239f0745d1ba..c047286ecb8783aeaca97524d6d0877baef7ba88 100644
--- a/dist/esm/internal/http/serverRequest.js
+++ b/dist/esm/internal/http/serverRequest.js
@@ -17,12 +17,31 @@ export const TypeId = /*#__PURE__*/Symbol.for("@effect/platform/Http/ServerReque
 /** @internal */
 export const serverRequestTag = /*#__PURE__*/Context.GenericTag("@effect/platform/Http/ServerRequest");
 /** @internal */
+export const parsedSearchParamsTag = /*#__PURE__*/Context.GenericTag("@effect/platform/Http/ServerRequest/ParsedSearchParams");
+/** @internal */
 export const upgrade = /*#__PURE__*/Effect.flatMap(serverRequestTag, request => request.upgrade);
 /** @internal */
 export const upgradeChannel = () => Channel.unwrap(Effect.map(upgrade, Socket.toChannelWith()));
 /** @internal */
 export const multipartPersisted = /*#__PURE__*/Effect.flatMap(serverRequestTag, request => request.multipart);
 /** @internal */
+export const searchParamsFromURL = url => {
+  const out = {};
+  for (const [key, value] of url.searchParams.entries()) {
+    const entry = out[key];
+    if (entry !== undefined) {
+      if (Array.isArray(entry)) {
+        entry.push(value);
+      } else {
+        out[key] = [entry, value];
+      }
+    } else {
+      out[key] = value;
+    }
+  }
+  return out;
+};
+/** @internal */
 export const schemaCookies = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
   return Effect.flatMap(serverRequestTag, req => parse(req.cookies));
@@ -33,6 +52,11 @@ export const schemaHeaders = (schema, options) => {
   return Effect.flatMap(serverRequestTag, parse);
 };
 /** @internal */
+export const schemaSearchParams = (schema, options) => {
+  const parse = Schema.decodeUnknown(schema, options);
+  return Effect.flatMap(parsedSearchParamsTag, parse);
+};
+/** @internal */
 export const schemaBodyJson = (schema, options) => {
   const parse = IncomingMessage.schemaBodyJson(schema, options);
   return Effect.flatMap(serverRequestTag, parse);
diff --git a/dist/esm/internal/http/serverRequest.js.map b/dist/esm/internal/http/serverRequest.js.map
index 6e1364e676ce91cf51eab8dac0e6323ce1f8822c..6c0e959d83d3ccd0a9af3f9552334440d4e04623 100644
--- a/dist/esm/internal/http/serverRequest.js.map
+++ b/dist/esm/internal/http/serverRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"serverRequest.js","names":["Schema","Channel","Context","Effect","Inspectable","Option","Stream","Cookies","Headers","IncomingMessage","Multipart","Error","UrlParams","Socket","TypeId","Symbol","for","serverRequestTag","GenericTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","error","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","url","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","_","fail","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer"],"sources":["../../../../src/internal/http/serverRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"serverRequest.js","names":["Schema","Channel","Context","Effect","Inspectable","Option","Stream","Cookies","Headers","IncomingMessage","Multipart","Error","UrlParams","Socket","TypeId","Symbol","for","serverRequestTag","GenericTag","parsedSearchParamsTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","searchParamsFromURL","url","out","key","value","searchParams","entries","entry","undefined","Array","isArray","push","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaSearchParams","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","error","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","_","fail","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer"],"sources":["../../../../src/internal/http/serverRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/package.json b/package.json
index 7bc99ed7f8a3670355290af2331c9e0f219b21b9..6119a9a9f78550e2e78c9f960aa2021bc422051e 100644
--- a/package.json
+++ b/package.json
@@ -10,9 +10,9 @@
   },
   "sideEffects": [],
   "dependencies": {
-    "find-my-way-ts": "^0.1.1",
+    "find-my-way-ts": "^0.1.2",
     "isows": "^1.0.4",
-    "multipasta": "^0.2.0",
+    "multipasta": "^0.2.1",
     "path-browserify": "^1.0.1"
   },
   "peerDependencies": {
diff --git a/src/Http/App.ts b/src/Http/App.ts
index 6e3bc43324b44be5bd10fe19ca6c09465c58ebd0..9e06f41c258eba17f98e77547f332841b852b5a6 100644
--- a/src/Http/App.ts
+++ b/src/Http/App.ts
@@ -152,9 +152,7 @@ export const toWebHandlerRuntime = <R>(runtime: Runtime.Runtime<R>) => {
         const req = ServerRequest.fromWeb(request)
         ;(req as any)[resolveSymbol] = resolve
         ;(req as any)[rejectSymbol] = reject
-        const fiber = run(
-          Effect.provideService(handled, ServerRequest.ServerRequest, req)
-        )
+        const fiber = run(Effect.provideService(handled, ServerRequest.ServerRequest, req))
         request.signal.addEventListener("abort", () => {
           fiber.unsafeInterruptAsFork(ServerError.clientAbortFiberId)
         })
diff --git a/src/Http/Client.ts b/src/Http/Client.ts
index 6e9565047b845ea3c5207e42eb9148bc607f68be..18f04fcff3dbc904607e597ec76b1dba57fb72cb 100644
--- a/src/Http/Client.ts
+++ b/src/Http/Client.ts
@@ -459,6 +459,21 @@ export const withTracerDisabledWhen: {
   ): Effect.Effect<A, E, R>
 } = internal.withTracerDisabledWhen
 
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+export const currentTracerPropagation: FiberRef.FiberRef<boolean> = internal.currentTracerPropagation
+
+/**
+ * @since 1.0.0
+ * @category fiber refs
+ */
+export const withTracerPropagation: {
+  (enabled: boolean): <R, E, A>(effect: Effect.Effect<A, E, R>) => Effect.Effect<A, E, R>
+  <R, E, A>(effect: Effect.Effect<A, E, R>, enabled: boolean): Effect.Effect<A, E, R>
+} = internal.withTracerPropagation
+
 /**
  * @since 1.0.0
  * @category fiber refs
diff --git a/src/Http/Middleware.ts b/src/Http/Middleware.ts
index a8910e35130d87e106f70fe97bbb080aef2530d8..d5979063ef0d094f0588fdc17bc8689b8bd34b19 100644
--- a/src/Http/Middleware.ts
+++ b/src/Http/Middleware.ts
@@ -103,3 +103,14 @@ export const withTracerDisabledForUrls: {
  * @category constructors
  */
 export const xForwardedHeaders: <R, E>(httpApp: App.Default<E, R>) => App.Default<E, R> = internal.xForwardedHeaders
+
+/**
+ * @since 1.0.0
+ * @category constructors
+ */
+export const searchParamsParser: <E, R>(
+  httpApp: App.Default<E, R>
+) => App.Default<
+  E,
+  Exclude<R, ServerRequest.ParsedSearchParams>
+> = internal.searchParamsParser
diff --git a/src/Http/Router.ts b/src/Http/Router.ts
index 547991146426dd9554c375c06a5c62f7c8591ed1..950acae424b94403a0306edcb69cca895fd6ca34 100644
--- a/src/Http/Router.ts
+++ b/src/Http/Router.ts
@@ -55,7 +55,10 @@ export declare namespace Router {
   /**
    * @since 1.0.0
    */
-  export type ExcludeProvided<A> = Exclude<A, RouteContext | ServerRequest.ServerRequest | Scope.Scope>
+  export type ExcludeProvided<A> = Exclude<
+    A,
+    RouteContext | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams | Scope.Scope
+  >
 }
 
 /**
@@ -99,7 +102,7 @@ export declare namespace Route {
   export type Handler<E, R> = Effect.Effect<
     ServerResponse.ServerResponse,
     E,
-    R | RouteContext | ServerRequest.ServerRequest
+    R | RouteContext | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams
   >
 }
 
@@ -123,7 +126,6 @@ export interface RouteContext {
   readonly [RouteContextTypeId]: RouteContextTypeId
   readonly params: Readonly<Record<string, string | undefined>>
   readonly route: Route<unknown, unknown>
-  readonly searchParams: Readonly<Record<string, string>>
 }
 
 /**
@@ -142,86 +144,75 @@ export const params: Effect.Effect<
   RouteContext
 > = internal.params
 
-/**
- * @since 1.0.0
- * @category route context
- */
-export const searchParams: Effect.Effect<
-  Readonly<Record<string, string>>,
-  never,
-  RouteContext
-> = internal.searchParams
-
 /**
  * @since 1.0.0
  * @category route context
  */
 export const schemaJson: <
-  R,
-  I extends Partial<
-    {
-      readonly method: Method.Method
-      readonly url: string
-      readonly cookies: Readonly<Record<string, string>>
-      readonly headers: Readonly<Record<string, string>>
-      readonly pathParams: Readonly<Record<string, string>>
-      readonly searchParams: Readonly<Record<string, string>>
-      readonly body: any
-    }
-  >,
-  A
->(
-  schema: Schema.Schema<A, I, R>,
-  options?: ParseOptions | undefined
-) => Effect.Effect<A, Error.RequestError | ParseResult.ParseError, RouteContext | R | ServerRequest.ServerRequest> =
-  internal.schemaJson
-
-/**
- * @since 1.0.0
- * @category route context
- */
-export const schemaNoBody: <
   R,
   I extends Partial<{
     readonly method: Method.Method
     readonly url: string
-    readonly cookies: Readonly<Record<string, string>>
-    readonly headers: Readonly<Record<string, string>>
-    readonly pathParams: Readonly<Record<string, string>>
-    readonly searchParams: Readonly<Record<string, string>>
+    readonly cookies: Readonly<Record<string, string | undefined>>
+    readonly headers: Readonly<Record<string, string | undefined>>
+    readonly pathParams: Readonly<Record<string, string | undefined>>
+    readonly searchParams: Readonly<Record<string, string | Array<string> | undefined>>
+    readonly body: any
   }>,
   A
 >(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
-) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext | ServerRequest.ServerRequest> = internal.schemaNoBody
+) => Effect.Effect<
+  A,
+  Error.RequestError | ParseResult.ParseError,
+  RouteContext | R | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams
+> = internal.schemaJson
 
 /**
  * @since 1.0.0
  * @category route context
  */
-export const schemaParams: <R, I extends Readonly<Record<string, string>>, A>(
+export const schemaNoBody: <
+  R,
+  I extends Partial<
+    {
+      readonly method: Method.Method
+      readonly url: string
+      readonly cookies: Readonly<Record<string, string | undefined>>
+      readonly headers: Readonly<Record<string, string | undefined>>
+      readonly pathParams: Readonly<Record<string, string | undefined>>
+      readonly searchParams: Readonly<Record<string, string | Array<string> | undefined>>
+    }
+  >,
+  A
+>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
-) => Effect.Effect<A, ParseResult.ParseError, RouteContext | R> = internal.schemaParams
+) => Effect.Effect<
+  A,
+  ParseResult.ParseError,
+  R | RouteContext | ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams
+> = internal.schemaNoBody
 
 /**
  * @since 1.0.0
  * @category route context
  */
-export const schemaPathParams: <R, I extends Readonly<Record<string, string>>, A>(
+export const schemaParams: <R, I extends Readonly<Record<string, string | Array<string> | undefined>>, A>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
-) => Effect.Effect<A, ParseResult.ParseError, RouteContext | R> = internal.schemaPathParams
+) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext | ServerRequest.ParsedSearchParams> =
+  internal.schemaParams
 
 /**
  * @since 1.0.0
  * @category route context
  */
-export const schemaSearchParams: <R, I extends Readonly<Record<string, string>>, A>(
+export const schemaPathParams: <R, I extends Readonly<Record<string, string | undefined>>, A>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
-) => Effect.Effect<A, ParseResult.ParseError, RouteContext | R> = internal.schemaSearchParams
+) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext> = internal.schemaPathParams
 
 /**
  * @since 1.0.0
@@ -248,7 +239,7 @@ export const makeRoute: <E, R>(
   handler: Route.Handler<E, R>,
   prefix?: Option.Option<string>,
   uninterruptible?: boolean
-) => Route<E, Exclude<R, RouteContext | ServerRequest.ServerRequest | Scope.Scope>> = internal.makeRoute
+) => Route<E, Router.ExcludeProvided<R>> = internal.makeRoute
 
 /**
  * @since 1.0.0
@@ -295,8 +286,8 @@ export const mountApp: {
     self: Router<E, R>
   ) => Router<
     E1 | E,
-    | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>
-    | Exclude<R, RouteContext | ServerRequest.ServerRequest | Scope.Scope>
+    | Router.ExcludeProvided<R1>
+    | Router.ExcludeProvided<R>
   >
   <R, E, R1, E1>(
     self: Router<E, R>,
@@ -305,8 +296,8 @@ export const mountApp: {
     options?: { readonly includePrefix?: boolean | undefined } | undefined
   ): Router<
     E | E1,
-    | Exclude<R, RouteContext | ServerRequest.ServerRequest | Scope.Scope>
-    | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>
+    | Router.ExcludeProvided<R>
+    | Router.ExcludeProvided<R1>
   >
 } = internal.mountApp
 
@@ -343,13 +334,19 @@ export const all: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<
+    E1 | E,
+    R | Router.ExcludeProvided<R1>
+  >
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<
+    E | E1,
+    R | Router.ExcludeProvided<R1>
+  >
 } = internal.all
 
 /**
@@ -363,13 +360,13 @@ export const get: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | E, R | Router.ExcludeProvided<R1>>
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E | E1, R | Router.ExcludeProvided<R1>>
 } = internal.get
 
 /**
@@ -383,13 +380,13 @@ export const post: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | E, R | Router.ExcludeProvided<R1>>
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E | E1, R | Router.ExcludeProvided<R1>>
 } = internal.post
 
 /**
@@ -403,13 +400,13 @@ export const patch: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | E, R | Router.ExcludeProvided<R1>>
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E | E1, R | Router.ExcludeProvided<R1>>
 } = internal.patch
 
 /**
@@ -423,13 +420,13 @@ export const put: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | E, R | Router.ExcludeProvided<R1>>
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E | E1, R | Router.ExcludeProvided<R1>>
 } = internal.put
 
 /**
@@ -443,13 +440,13 @@ export const del: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | E, R | Router.ExcludeProvided<R1>>
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E | E1, R | Router.ExcludeProvided<R1>>
 } = internal.del
 
 /**
@@ -463,13 +460,13 @@ export const head: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | E, R | Router.ExcludeProvided<R1>>
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E | E1, R | Router.ExcludeProvided<R1>>
 } = internal.head
 
 /**
@@ -483,13 +480,13 @@ export const options: {
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
   ): <R, E>(
     self: Router<E, R>
-  ) => Router<E1 | E, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | E, R | Router.ExcludeProvided<R1>>
   <R, E, R1, E1>(
     self: Router<E, R>,
     path: PathInput,
     handler: Route.Handler<E1, R1>,
     options?: { readonly uninterruptible?: boolean | undefined } | undefined
-  ): Router<E | E1, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E | E1, R | Router.ExcludeProvided<R1>>
 } = internal.options
 
 /**
@@ -499,11 +496,11 @@ export const options: {
 export const use: {
   <E, R, R1, E1>(
     f: (self: Route.Handler<E, R>) => App.Default<E1, R1>
-  ): (self: Router<E, R>) => Router<E1, Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): (self: Router<E, R>) => Router<E1, Router.ExcludeProvided<R1>>
   <E, R, R1, E1>(
     self: Router<E, R>,
     f: (self: Route.Handler<E, R>) => App.Default<E1, R1>
-  ): Router<E1, Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E1, Router.ExcludeProvided<R1>>
 } = internal.use
 
 /**
@@ -513,11 +510,11 @@ export const use: {
 export const catchAll: {
   <E, E2, R2>(
     f: (e: E) => Route.Handler<E2, R2>
-  ): <R>(self: Router<E, R>) => Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): <R>(self: Router<E, R>) => Router<E2, R | Router.ExcludeProvided<R2>>
   <R, E, E2, R2>(
     self: Router<E, R>,
     f: (e: E) => Route.Handler<E2, R2>
-  ): Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E2, R | Router.ExcludeProvided<R2>>
 } = internal.catchAll
 
 /**
@@ -527,11 +524,11 @@ export const catchAll: {
 export const catchAllCause: {
   <E, E2, R2>(
     f: (e: Cause.Cause<E>) => Route.Handler<E2, R2>
-  ): <R>(self: Router<E, R>) => Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): <R>(self: Router<E, R>) => Router<E2, R | Router.ExcludeProvided<R2>>
   <R, E, E2, R2>(
     self: Router<E, R>,
     f: (e: Cause.Cause<E>) => Route.Handler<E2, R2>
-  ): Router<E2, R | Exclude<R2, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E2, R | Router.ExcludeProvided<R2>>
 } = internal.catchAllCause
 
 /**
@@ -544,12 +541,12 @@ export const catchTag: {
     f: (e: Extract<E, { _tag: K }>) => Route.Handler<E1, R1>
   ): <R>(
     self: Router<E, R>
-  ) => Router<E1 | Exclude<E, { _tag: K }>, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ) => Router<E1 | Exclude<E, { _tag: K }>, R | Router.ExcludeProvided<R1>>
   <R, E, K extends E extends { _tag: string } ? E["_tag"] : never, E1, R1>(
     self: Router<E, R>,
     k: K,
     f: (e: Extract<E, { _tag: K }>) => Route.Handler<E1, R1>
-  ): Router<E1 | Exclude<E, { _tag: K }>, R | Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>>
+  ): Router<E1 | Exclude<E, { _tag: K }>, R | Router.ExcludeProvided<R1>>
 } = internal.catchTag
 
 /**
@@ -572,11 +569,10 @@ export const catchTags: {
       [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, infer E, any> ? E : never
     }[keyof Cases],
     | R
-    | Exclude<
+    | Router.ExcludeProvided<
       {
         [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, any, infer R> ? R : never
-      }[keyof Cases],
-      RouteContext | ServerRequest.ServerRequest | Scope.Scope
+      }[keyof Cases]
     >
   >
   <
@@ -594,11 +590,10 @@ export const catchTags: {
       [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, infer E, any> ? E : never
     }[keyof Cases],
     | R
-    | Exclude<
+    | Router.ExcludeProvided<
       {
         [K in keyof Cases]: Cases[K] extends (...args: Array<any>) => Effect.Effect<any, any, infer R> ? R : never
-      }[keyof Cases],
-      RouteContext | ServerRequest.ServerRequest | Scope.Scope
+      }[keyof Cases]
     >
   >
 } = internal.catchTags
@@ -632,7 +627,7 @@ export const provideServiceEffect: {
   ) => Router<
     E1 | E,
     | Exclude<R, Context.Tag.Identifier<T>>
-    | Exclude<Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>, Context.Tag.Identifier<T>>
+    | Exclude<Router.ExcludeProvided<R1>, Context.Tag.Identifier<T>>
   >
   <R, E, T extends Context.Tag<any, any>, R1, E1>(
     self: Router<E, R>,
@@ -641,6 +636,6 @@ export const provideServiceEffect: {
   ): Router<
     E | E1,
     | Exclude<R, Context.Tag.Identifier<T>>
-    | Exclude<Exclude<R1, RouteContext | ServerRequest.ServerRequest | Scope.Scope>, Context.Tag.Identifier<T>>
+    | Exclude<Router.ExcludeProvided<R1>, Context.Tag.Identifier<T>>
   >
 } = internal.provideServiceEffect
diff --git a/src/Http/ServerRequest.ts b/src/Http/ServerRequest.ts
index 3e8c3aa1798d5f46e148f2a5b1eee18310adcd30..a0f4861c3708d254427c4f5cccb5f229dd747009 100644
--- a/src/Http/ServerRequest.ts
+++ b/src/Http/ServerRequest.ts
@@ -77,6 +77,28 @@ export interface ServerRequest extends IncomingMessage.IncomingMessage<Error.Req
  */
 export const ServerRequest: Context.Tag<ServerRequest, ServerRequest> = internal.serverRequestTag
 
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export interface ParsedSearchParams {
+  readonly _: unique symbol
+}
+
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export const ParsedSearchParams: Context.Tag<ParsedSearchParams, ReadonlyRecord<string, string | Array<string>>> =
+  internal.parsedSearchParamsTag
+
+/**
+ * @since 1.0.0
+ * @category search params
+ */
+export const searchParamsFromURL: (url: URL) => ReadonlyRecord<string, string | Array<string>> =
+  internal.searchParamsFromURL
+
 /**
  * @since 1.0.0
  * @category accessors
@@ -125,6 +147,15 @@ export const schemaHeaders: <R, I extends Readonly<Record<string, string>>, A>(
   options?: ParseOptions | undefined
 ) => Effect.Effect<A, ParseResult.ParseError, ServerRequest | R> = internal.schemaHeaders
 
+/**
+ * @since 1.0.0
+ * @category schema
+ */
+export const schemaSearchParams: <R, I extends Readonly<Record<string, string | Array<string> | undefined>>, A>(
+  schema: Schema.Schema<A, I, R>,
+  options?: ParseOptions | undefined
+) => Effect.Effect<A, ParseResult.ParseError, ParsedSearchParams | R> = internal.schemaSearchParams
+
 /**
  * @since 1.0.0
  * @category schema
diff --git a/src/Http/UrlParams.ts b/src/Http/UrlParams.ts
index b70ebb8e665cb7d312728aea49e7d157c6770bde..8bc6c7ed86ff8b568a9673834fe2749aa1f81b33 100644
--- a/src/Http/UrlParams.ts
+++ b/src/Http/UrlParams.ts
@@ -20,7 +20,10 @@ export interface UrlParams extends ReadonlyArray<readonly [string, string]> {}
  * @since 1.0.0
  * @category models
  */
-export type Input = Readonly<Record<string, string>> | Iterable<readonly [string, string]> | URLSearchParams
+export type Input =
+  | Readonly<Record<string, string | ReadonlyArray<string>>>
+  | Iterable<readonly [string, string]>
+  | URLSearchParams
 
 /**
  * @since 1.0.0
@@ -30,7 +33,17 @@ export const fromInput = (input: Input): UrlParams => {
   if (Symbol.iterator in input) {
     return Arr.fromIterable(input)
   }
-  return Arr.fromIterable(Object.entries(input))
+  const out: Array<readonly [string, string]> = []
+  for (const [key, value] of Object.entries(input)) {
+    if (Array.isArray(value)) {
+      for (let i = 0; i < value.length; i++) {
+        out.push([key, value[i]])
+      }
+    } else {
+      out.push([key, value as string])
+    }
+  }
+  return out
 }
 
 /**
diff --git a/src/internal/http/client.ts b/src/internal/http/client.ts
index 1298052ee34b86dc4aeb6be6efb8931f0d8b80c3..383c8061fd1abf0787d7121ca426ff7fc54ee93d 100644
--- a/src/internal/http/client.ts
+++ b/src/internal/http/client.ts
@@ -53,6 +53,23 @@ export const withTracerDisabledWhen = dual<
   ) => Effect.Effect<A, E, R>
 >(2, (self, pred) => Effect.locally(self, currentTracerDisabledWhen, pred))
 
+/** @internal */
+export const currentTracerPropagation = globalValue(
+  Symbol.for("@effect/platform/Http/Client/currentTracerPropagation"),
+  () => FiberRef.unsafeMake(true)
+)
+
+/** @internal */
+export const withTracerPropagation = dual<
+  (
+    enabled: boolean
+  ) => <R, E, A>(effect: Effect.Effect<A, E, R>) => Effect.Effect<A, E, R>,
+  <R, E, A>(
+    effect: Effect.Effect<A, E, R>,
+    enabled: boolean
+  ) => Effect.Effect<A, E, R>
+>(2, (self, enabled) => Effect.locally(self, currentTracerPropagation, enabled))
+
 /** @internal */
 export const currentFetchOptions = globalValue(
   Symbol.for("@effect/platform/Http/Client/currentFetchOptions"),
@@ -115,7 +132,8 @@ export const makeDefault = (
           return Effect.fail(new Error.RequestError({ request, reason: "InvalidUrl", error: urlResult.left }))
         }
         const url = urlResult.right
-        const tracerDisabled = fiber.getFiberRef(currentTracerDisabledWhen)(request)
+        const tracerDisabled = !fiber.getFiberRef(FiberRef.currentTracerEnabled) ||
+          fiber.getFiberRef(currentTracerDisabledWhen)(request)
         if (tracerDisabled) {
           return Effect.zipRight(
             addAbort,
@@ -128,11 +146,13 @@ export const makeDefault = (
             `http.client ${request.method}`,
             { kind: "client" },
             (span) => {
+              span.attribute("http.method", request.method)
               span.attribute("http.request.method", request.method)
               span.attribute("server.address", url.origin)
               if (url.port !== "") {
                 span.attribute("server.port", +url.port)
               }
+              span.attribute("http.url", url.toString())
               span.attribute("url.full", url.toString())
               span.attribute("url.path", url.pathname)
               span.attribute("url.scheme", url.protocol.slice(0, -1))
@@ -145,10 +165,13 @@ export const makeDefault = (
               for (const name in redactedHeaders) {
                 span.attribute(`http.request.header.${name}`, String(redactedHeaders[name]))
               }
+              request = fiber.getFiberRef(currentTracerPropagation)
+                ? internalRequest.setHeaders(request, TraceContext.toHeaders(span))
+                : request
               return Effect.tap(
                 Effect.withParentSpan(
                   f(
-                    internalRequest.setHeaders(request, TraceContext.toHeaders(span)),
+                    request,
                     url,
                     controller.signal,
                     fiber
@@ -157,6 +180,7 @@ export const makeDefault = (
                 ),
                 (response) => {
                   span.attribute("http.response.status_code", response.status)
+                  span.attribute("http.status_code", response.status)
                   const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames)
                   for (const name in redactedHeaders) {
                     span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]))
diff --git a/src/internal/http/middleware.ts b/src/internal/http/middleware.ts
index 13c4f8013a4e409c9a790d65ae6ed01de174fcb9..bace4d2ca23b7819e66115eb702c7c55878866e3 100644
--- a/src/internal/http/middleware.ts
+++ b/src/internal/http/middleware.ts
@@ -6,10 +6,12 @@ import { globalValue } from "effect/GlobalValue"
 import * as Layer from "effect/Layer"
 import * as Option from "effect/Option"
 import type * as Predicate from "effect/Predicate"
+import type * as App from "../../Http/App.js"
 import * as Headers from "../../Http/Headers.js"
 import type * as Middleware from "../../Http/Middleware.js"
 import * as ServerError from "../../Http/ServerError.js"
 import * as ServerRequest from "../../Http/ServerRequest.js"
+import type { ServerResponse } from "../../Http/ServerResponse.js"
 import * as TraceContext from "../../Http/TraceContext.js"
 
 /** @internal */
@@ -125,8 +127,10 @@ export const tracer = make((httpApp) =>
       `http.server ${request.method}`,
       { parent: Option.getOrUndefined(TraceContext.fromHeaders(request.headers)), kind: "server" },
       (span) => {
+        span.attribute("http.method", request.method)
         span.attribute("http.request.method", request.method)
         if (url !== undefined) {
+          span.attribute("http.url", url.toString())
           span.attribute("url.full", url.toString())
           span.attribute("url.path", url.pathname)
           const query = url.search.slice(1)
@@ -149,9 +153,11 @@ export const tracer = make((httpApp) =>
           (exit) => {
             if (exit._tag === "Failure") {
               span.attribute("http.response.status_code", ServerError.causeStatusCode(exit.cause))
+              span.attribute("http.status_code", ServerError.causeStatusCode(exit.cause))
             } else {
               const response = exit.value
               span.attribute("http.response.status_code", response.status)
+              span.attribute("http.status_code", response.status)
               const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames)
               for (const name in redactedHeaders) {
                 span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]))
@@ -179,3 +185,20 @@ export const xForwardedHeaders = make((httpApp) =>
       })
       : request)
 )
+
+/** @internal */
+export const searchParamsParser = <E, R>(httpApp: App.Default<E, R>) =>
+  Effect.withFiberRuntime<
+    ServerResponse,
+    E,
+    ServerRequest.ServerRequest | Exclude<R, ServerRequest.ParsedSearchParams>
+  >((fiber) => {
+    const context = fiber.getFiberRef(FiberRef.currentContext)
+    const request = Context.unsafeGet(context, ServerRequest.ServerRequest)
+    const params = ServerRequest.searchParamsFromURL(new URL(request.url))
+    return Effect.locally(
+      httpApp,
+      FiberRef.currentContext,
+      Context.add(context, ServerRequest.ParsedSearchParams, params)
+    ) as any
+  })
diff --git a/src/internal/http/router.ts b/src/internal/http/router.ts
index fea33c2c630fbbf7d4e47817682f6a29b57960db..b007488bff070db39f8e8fa1318e2b98556f993c 100644
--- a/src/internal/http/router.ts
+++ b/src/internal/http/router.ts
@@ -38,19 +38,16 @@ const isRouter = (u: unknown): u is Router.Router<unknown, unknown> => Predicate
 /** @internal */
 export const params = Effect.map(RouteContext, (_) => _.params)
 
-/** @internal */
-export const searchParams = Effect.map(RouteContext, (_) => _.searchParams)
-
 /** @internal */
 export const schemaJson = <
   R,
   I extends Partial<{
     readonly method: Method.Method
     readonly url: string
-    readonly cookies: Readonly<Record<string, string>>
-    readonly headers: Readonly<Record<string, string>>
-    readonly pathParams: Readonly<Record<string, string>>
-    readonly searchParams: Readonly<Record<string, string>>
+    readonly cookies: Readonly<Record<string, string | undefined>>
+    readonly headers: Readonly<Record<string, string | undefined>>
+    readonly pathParams: Readonly<Record<string, string | undefined>>
+    readonly searchParams: Readonly<Record<string, string | Array<string> | undefined>>
     readonly body: any
   }>,
   A
@@ -60,18 +57,22 @@ export const schemaJson = <
 ) => {
   const parse = Schema.decodeUnknown(schema, options)
   return Effect.flatMap(
-    ServerRequest.ServerRequest,
-    (request) =>
-      Effect.flatMap(Effect.zip(request.json, RouteContext), ([body, context]) =>
+    Effect.context<ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams | Router.RouteContext>(),
+    (context) => {
+      const request = Context.get(context, ServerRequest.ServerRequest)
+      const searchParams = Context.get(context, ServerRequest.ParsedSearchParams)
+      const routeContext = Context.get(context, RouteContext)
+      return Effect.flatMap(request.json, (body) =>
         parse({
           method: request.method,
           url: request.url,
           headers: request.headers,
           cookies: request.cookies,
-          pathParams: context.params,
-          searchParams: context.searchParams,
+          pathParams: routeContext.params,
+          searchParams,
           body
         }))
+    }
   )
 }
 
@@ -81,10 +82,10 @@ export const schemaNoBody = <
   I extends Partial<{
     readonly method: Method.Method
     readonly url: string
-    readonly cookies: Readonly<Record<string, string>>
-    readonly headers: Readonly<Record<string, string>>
-    readonly pathParams: Readonly<Record<string, string>>
-    readonly searchParams: Readonly<Record<string, string>>
+    readonly cookies: Readonly<Record<string, string | undefined>>
+    readonly headers: Readonly<Record<string, string | undefined>>
+    readonly pathParams: Readonly<Record<string, string | undefined>>
+    readonly searchParams: Readonly<Record<string, string | Array<string> | undefined>>
   }>,
   A
 >(
@@ -93,31 +94,41 @@ export const schemaNoBody = <
 ) => {
   const parse = Schema.decodeUnknown(schema, options)
   return Effect.flatMap(
-    ServerRequest.ServerRequest,
-    (request) =>
-      Effect.flatMap(RouteContext, (context) =>
-        parse({
-          method: request.method,
-          url: request.url,
-          headers: request.headers,
-          cookies: request.cookies,
-          pathParams: context.params,
-          searchParams: context.searchParams
-        }))
+    Effect.context<ServerRequest.ServerRequest | ServerRequest.ParsedSearchParams | Router.RouteContext>(),
+    (context) => {
+      const request = Context.get(context, ServerRequest.ServerRequest)
+      const searchParams = Context.get(context, ServerRequest.ParsedSearchParams)
+      const routeContext = Context.get(context, RouteContext)
+      return parse({
+        method: request.method,
+        url: request.url,
+        headers: request.headers,
+        cookies: request.cookies,
+        pathParams: routeContext.params,
+        searchParams
+      })
+    }
   )
 }
 
 /** @internal */
-export const schemaParams = <R, I extends Readonly<Record<string, string>>, A>(
+export const schemaParams = <R, I extends Readonly<Record<string, string | Array<string> | undefined>>, A>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
 ) => {
   const parse = Schema.decodeUnknown(schema, options)
-  return Effect.flatMap(RouteContext, (_) => parse({ ..._.searchParams, ..._.params }))
+  return Effect.flatMap(
+    Effect.context<ServerRequest.ParsedSearchParams | Router.RouteContext>(),
+    (context) => {
+      const searchParams = Context.get(context, ServerRequest.ParsedSearchParams)
+      const routeContext = Context.get(context, RouteContext)
+      return parse({ ...searchParams, ...routeContext.params })
+    }
+  )
 }
 
 /** @internal */
-export const schemaPathParams = <R, I extends Readonly<Record<string, string>>, A>(
+export const schemaPathParams = <R, I extends Readonly<Record<string, string | undefined>>, A>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
 ) => {
@@ -125,15 +136,6 @@ export const schemaPathParams = <R, I extends Readonly<Record<string, string>>,
   return Effect.flatMap(RouteContext, (_) => parse(_.params))
 }
 
-/** @internal */
-export const schemaSearchParams = <R, I extends Readonly<Record<string, string>>, A>(
-  schema: Schema.Schema<A, I, R>,
-  options?: ParseOptions | undefined
-) => {
-  const parse = Schema.decodeUnknown(schema, options)
-  return Effect.flatMap(RouteContext, (_) => parse(_.searchParams))
-}
-
 class RouterImpl<E = never, R = never> extends Effectable.StructuralClass<
   ServerResponse.ServerResponse,
   E | Error.RouteNotFound,
@@ -193,7 +195,6 @@ const toHttpApp = <R, E>(
           options?.includePrefix ? Option.none() : Option.some(path),
           false
         ),
-        {},
         {}
       ),
       options
@@ -212,15 +213,15 @@ const toHttpApp = <R, E>(
     E | Error.RouteNotFound,
     R | ServerRequest.ServerRequest
   >((fiber) => {
-    let context = fiber.getFiberRef(FiberRef.currentContext)
+    const context = Context.unsafeMake(new Map(fiber.getFiberRef(FiberRef.currentContext).unsafeMap))
     const request = Context.unsafeGet(context, ServerRequest.ServerRequest)
     if (mountsLen > 0) {
       for (let i = 0; i < mountsLen; i++) {
         const [path, routeContext, options] = mounts[i]
         if (request.url.startsWith(path)) {
-          context = Context.add(context, RouteContext, routeContext)
+          context.unsafeMap.set(RouteContext.key, routeContext)
           if (options?.includePrefix !== true) {
-            context = Context.add(context, ServerRequest.ServerRequest, sliceRequestUrl(request, path))
+            context.unsafeMap.set(ServerRequest.ServerRequest.key, sliceRequestUrl(request, path))
           }
           return Effect.locally(
             routeContext.route.handler as App.Default<E, R>,
@@ -240,9 +241,10 @@ const toHttpApp = <R, E>(
     }
     const route = result.handler
     if (route.prefix._tag === "Some") {
-      context = Context.add(context, ServerRequest.ServerRequest, sliceRequestUrl(request, route.prefix.value))
+      context.unsafeMap.set(ServerRequest.ServerRequest.key, sliceRequestUrl(request, route.prefix.value))
     }
-    context = Context.add(context, RouteContext, new RouteContextImpl(route, result.params, result.searchParams))
+    context.unsafeMap.set(ServerRequest.ParsedSearchParams.key, result.searchParams)
+    context.unsafeMap.set(RouteContext.key, new RouteContextImpl(route, result.params))
 
     const span = Context.getOption(context, Tracer.ParentSpan)
     if (span._tag === "Some" && span.value._tag === "Span") {
@@ -294,8 +296,7 @@ class RouteContextImpl implements Router.RouteContext {
   readonly [RouteContextTypeId]: Router.RouteContextTypeId
   constructor(
     readonly route: Router.Route<unknown, unknown>,
-    readonly params: Readonly<Record<string, string | undefined>>,
-    readonly searchParams: Readonly<Record<string, string>>
+    readonly params: Readonly<Record<string, string | undefined>>
   ) {
     this[RouteContextTypeId] = RouteContextTypeId
   }
diff --git a/src/internal/http/serverRequest.ts b/src/internal/http/serverRequest.ts
index a08dc2f9b8c7db0255f364b31396b55815c7a31d..5783244914d682be1339edc5cfae716dd4681286 100644
--- a/src/internal/http/serverRequest.ts
+++ b/src/internal/http/serverRequest.ts
@@ -27,6 +27,12 @@ export const TypeId: ServerRequest.TypeId = Symbol.for("@effect/platform/Http/Se
 /** @internal */
 export const serverRequestTag = Context.GenericTag<ServerRequest.ServerRequest>("@effect/platform/Http/ServerRequest")
 
+/** @internal */
+export const parsedSearchParamsTag = Context.GenericTag<
+  ServerRequest.ParsedSearchParams,
+  ReadonlyRecord<string, string | Array<string>>
+>("@effect/platform/Http/ServerRequest/ParsedSearchParams")
+
 /** @internal */
 export const upgrade = Effect.flatMap(serverRequestTag, (request) => request.upgrade)
 
@@ -36,6 +42,24 @@ export const upgradeChannel = <IE = never>() => Channel.unwrap(Effect.map(upgrad
 /** @internal */
 export const multipartPersisted = Effect.flatMap(serverRequestTag, (request) => request.multipart)
 
+/** @internal */
+export const searchParamsFromURL = (url: URL): ReadonlyRecord<string, string | Array<string>> => {
+  const out: Record<string, string | Array<string>> = {}
+  for (const [key, value] of url.searchParams.entries()) {
+    const entry = out[key]
+    if (entry !== undefined) {
+      if (Array.isArray(entry)) {
+        entry.push(value)
+      } else {
+        out[key] = [entry, value]
+      }
+    } else {
+      out[key] = value
+    }
+  }
+  return out
+}
+
 /** @internal */
 export const schemaCookies = <R, I extends Readonly<Record<string, string>>, A>(
   schema: Schema.Schema<A, I, R>,
@@ -54,6 +78,15 @@ export const schemaHeaders = <R, I extends Readonly<Record<string, string>>, A>(
   return Effect.flatMap(serverRequestTag, parse)
 }
 
+/** @internal */
+export const schemaSearchParams = <R, I extends Readonly<Record<string, string | Array<string> | undefined>>, A>(
+  schema: Schema.Schema<A, I, R>,
+  options?: ParseOptions | undefined
+) => {
+  const parse = Schema.decodeUnknown(schema, options)
+  return Effect.flatMap(parsedSearchParamsTag, parse)
+}
+
 /** @internal */
 export const schemaBodyJson = <A, I, R>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => {
   const parse = IncomingMessage.schemaBodyJson(schema, options)
