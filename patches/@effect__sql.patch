diff --git a/dist/cjs/Model.js b/dist/cjs/Model.js
index 2ff21b1522594426a56a505d039f4fabbbc541d4..84d816db58f47d016ab1b9ee411158042c597ffb 100644
--- a/dist/cjs/Model.js
+++ b/dist/cjs/Model.js
@@ -302,6 +302,7 @@ const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* _SqlClient.SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -330,7 +331,11 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -344,7 +349,7 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/cjs/Model.js.map b/dist/cjs/Model.js.map
index bb0f70e92d19b361cb206e50cc7842b6b466af8b..5938ef2099f95efece59d9cc3e6cd6532991dcf1 100644
--- a/dist/cjs/Model.js.map
+++ b/dist/cjs/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,GAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,uBAAA,CAAAC,OAAA;AAEA,IAAAE,QAAA,GAAAH,uBAAA,CAAAC,OAAA;AAEA,IAAAG,MAAA,GAAAJ,uBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAL,uBAAA,CAAAC,OAAA;AACA,IAAAK,WAAA,GAAAN,uBAAA,CAAAC,OAAA;AACA,IAAAM,MAAA,GAAAP,uBAAA,CAAAC,OAAA;AAEA,IAAAO,UAAA,GAAAP,OAAA;AACA,IAAAQ,WAAA,GAAAT,uBAAA,CAAAC,OAAA;AACA,IAAAS,SAAA,GAAAV,uBAAA,CAAAC,OAAA;AAA2C,SAAAU,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAZ,wBAAAY,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAf3C;;;;AAiBA,MAAM;EACJW,KAAK;EACLC,KAAK;EACLC,WAAW;EACXC,SAAS;EACTC,MAAM;EACNC,KAAK;EACLC,OAAO;EACPC,WAAW;EACXC;AAAY,CACb,gBAAGrC,aAAa,CAACsC,IAAI,CAAC;EACrBC,QAAQ,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,CAAC;EAC5EC,cAAc,EAAE;CACjB,CAAC;AAAAC,OAAA,CAAAJ,YAAA,GAAAA,YAAA;AAAAI,OAAA,CAAAL,WAAA,GAAAA,WAAA;AAAAK,OAAA,CAAAN,OAAA,GAAAA,OAAA;AAAAM,OAAA,CAAAP,KAAA,GAAAA,KAAA;AAAAO,OAAA,CAAAR,MAAA,GAAAA,MAAA;AAAAQ,OAAA,CAAAT,SAAA,GAAAA,SAAA;AAAAS,OAAA,CAAAV,WAAA,GAAAA,WAAA;AAAAU,OAAA,CAAAX,KAAA,GAAAA,KAAA;AAAAW,OAAA,CAAAZ,KAAA,GAAAA,KAAA;AA+HF;;;;AAIO,MAAMa,MAAM,GAAAD,OAAA,CAAAC,MAAA,GAA8E1C,aAAa,CAAC0C,MAAM;AAErH;;;;AAIO,MAAMC,QAAQ,GAAAF,OAAA,CAAAE,QAAA,GAA2C3C,aAAa,CAAC2C,QAAQ;AActF;;;;;;;;AAQO,MAAMC,SAAS,GACpBC,MAAS,IAETf,KAAK,CAAC;EACJgB,MAAM,EAAED,MAAM;EACdE,MAAM,EAAEF,MAAM;EACdG,IAAI,EAAEH;CACP,CAAC;AAgBJ;;;;;;;;AAAAJ,OAAA,CAAAG,SAAA,GAAAA,SAAA;AAQO,MAAMK,cAAc,GACzBJ,MAAS,IAETf,KAAK,CAAC;EACJgB,MAAM,EAAED,MAAM;EACdK,MAAM,EAAEL,MAAM;EACdE,MAAM,EAAEF,MAAM;EACdG,IAAI,EAAEH;CACP,CAAC;AAcJ;;;;;;;AAAAJ,OAAA,CAAAQ,cAAA,GAAAA,cAAA;AAOO,MAAME,SAAS,GACpBN,MAAS,IAETf,KAAK,CAAC;EACJgB,MAAM,EAAED,MAAM;EACdK,MAAM,EAAEL,MAAM;EACdE,MAAM,EAAEF;CACT,CAAC;AAsBJ;;;;;;;;;AAAAJ,OAAA,CAAAU,SAAA,GAAAA,SAAA;AASO,MAAMC,WAAW,GAAAX,OAAA,CAAAW,WAAA,gBAWdhB,WAAW,CAAC;EAClBU,MAAM,EAAEzC,MAAM,CAACgD,gBAAgB;EAC/BH,MAAM,EAAE7C,MAAM,CAACgD,gBAAgB;EAC/BN,MAAM,EAAE1C,MAAM,CAACgD,gBAAgB;EAC/BL,IAAI,eAAE3C,MAAM,CAACiD,YAAY,CAAC;IAAEC,EAAE,EAAE;EAAQ,CAAE,CAAC;EAC3CC,UAAU,eAAEnD,MAAM,CAACiD,YAAY,CAAC;IAAEC,EAAE,EAAE,QAAQ;IAAEE,QAAQ,EAAE;EAAI,CAAE,CAAC;EACjEC,UAAU,eAAErD,MAAM,CAACiD,YAAY,CAAC;IAAEC,EAAE,EAAE,QAAQ;IAAEE,QAAQ,EAAE;EAAI,CAAE;CACjE,CAAQ;AAaX;;;;AAIO,MAAME,gBAAgB,GAAAlB,OAAA,CAAAkB,gBAAA,gBAAqBtD,MAAM,CAACuD,SAAS,CAChEvD,MAAM,CAACwD,iBAAiB,EACxBxD,MAAM,CAACyD,mBAAmB,EAC1B;EACEC,MAAM,EAAE9D,QAAQ,CAAC+D,cAAc;EAC/BC,MAAM,EAAEhE,QAAQ,CAACiE;CAClB,CACF;AAQD;;;;;;;AAOO,MAAMC,IAAI,GAAA1B,OAAA,CAAA0B,IAAA,gBAAS9D,MAAM,CAAC+D,eAAe,CAC9C/D,MAAM,CAACgE,MAAM,EACbhE,MAAM,CAACyD,mBAAmB,EAC1B;EACEC,MAAM,EAAEA,CAACO,CAAC,EAAEC,CAAC,EAAEC,GAAG,KAChBvE,QAAQ,CAACqC,IAAI,CAACgC,CAAC,CAAC,CAACG,IAAI,CACnBtE,MAAM,CAACuE,GAAG,CAACzE,QAAQ,CAAC0E,UAAU,CAAC,EAC/BxE,MAAM,CAACyE,KAAK,CAAC;IACXC,MAAM,EAAEA,CAAA,KAAMzE,WAAW,CAAC0E,IAAI,CAAC,IAAI1E,WAAW,CAAC2E,IAAI,CAACP,GAAG,EAAEF,CAAC,CAAC,CAAC;IAC5DU,MAAM,EAAGC,EAAE,IAAK7E,WAAW,CAAC8E,OAAO,CAACD,EAAE;GACvC,CAAC,CACH;EACHhB,MAAM,EAAGgB,EAAE,IAAK7E,WAAW,CAAC8E,OAAO,CAACjF,QAAQ,CAACkF,aAAa,CAACF,EAAE,CAAC;CAC/D,CACF;AAED;;;;AAIO,MAAMG,WAAW,GAAA3C,OAAA,CAAA2C,WAAA,gBAAGpF,aAAa,CAACqF,YAAY,CAAClB,IAAI,EAAE9D,MAAM,CAACyD,mBAAmB,EAAE;EACtFwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAAC0E,UAAU,CAAC;IAC3DK,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAAC0E,UAAU,CAACM,EAAE,CAAC;GACvD;CACF,CAAC;AAEF;;;;AAIO,MAAMO,eAAe,GAAA/C,OAAA,CAAA+C,eAAA,gBAAGxF,aAAa,CAACqF,YAAY,CAAChF,MAAM,CAACgE,MAAM,EAAEhE,MAAM,CAACyD,mBAAmB,EAAE;EACnGwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAACwF,SAAS,CAAC;IAC1DT,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAACwF,SAAS,CAACR,EAAE,CAAC;GACtD;CACF,CAAC;AAEF;;;;AAIO,MAAMS,uBAAuB,GAAAjD,OAAA,CAAAiD,uBAAA,gBAAG1F,aAAa,CAACqF,YAAY,CAAChF,MAAM,CAACsF,YAAY,EAAEtF,MAAM,CAACyD,mBAAmB,EAAE;EACjHwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAACiE,SAAS,CAAC;IAC1Dc,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAACiE,SAAS,CAACe,EAAE,CAAC;GACtD;CACF,CAAC;AAEF;;;;AAIO,MAAMW,yBAAyB,GAAAnD,OAAA,CAAAmD,yBAAA,gBAAG5F,aAAa,CAACqF,YAAY,CAAChF,MAAM,CAACwF,MAAM,EAAExF,MAAM,CAACyD,mBAAmB,EAAE;EAC7GwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAAC6F,aAAa,CAAC;IAC9Dd,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAAC6F,aAAa,CAACb,EAAE,CAAC;GAC1D;CACF,CAAC;AAcF;;;;;;;;;AASO,MAAMc,cAAc,GAAAtD,OAAA,CAAAsD,cAAA,gBAAmBjE,KAAK,CAAC;EAClDgB,MAAM,EAAEzC,MAAM,CAAC2F,WAAW;EAC1B9C,MAAM,EAAEsC,eAAe;EACvBxC,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAcF;;;;;;;;;AASO,MAAMC,sBAAsB,GAAAxD,OAAA,CAAAwD,sBAAA,gBAA2BnE,KAAK,CAAC;EAClEgB,MAAM,EAAEa,gBAAgB;EACxBT,MAAM,EAAEwC,uBAAuB;EAC/B1C,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAcF;;;;;;;;;AASO,MAAME,wBAAwB,GAAAzD,OAAA,CAAAyD,wBAAA,gBAA6BpE,KAAK,CAAC;EACtEgB,MAAM,EAAEzC,MAAM,CAAC8F,qBAAqB;EACpCjD,MAAM,EAAE0C,yBAAyB;EACjC5C,IAAI,EAAE3C,MAAM,CAAC8F;CACd,CAAC;AAeF;;;;;;;;;;AAUO,MAAMC,cAAc,GAAA3D,OAAA,CAAA2D,cAAA,gBAAmBtE,KAAK,CAAC;EAClDgB,MAAM,EAAEzC,MAAM,CAAC2F,WAAW;EAC1B9C,MAAM,EAAEsC,eAAe;EACvBzC,MAAM,EAAEyC,eAAe;EACvBxC,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAeF;;;;;;;;;;AAUO,MAAMK,sBAAsB,GAAA5D,OAAA,CAAA4D,sBAAA,gBAA2BvE,KAAK,CAAC;EAClEgB,MAAM,EAAEa,gBAAgB;EACxBT,MAAM,EAAEwC,uBAAuB;EAC/B3C,MAAM,EAAE2C,uBAAuB;EAC/B1C,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAeF;;;;;;;;;;AAUO,MAAMM,wBAAwB,GAAA7D,OAAA,CAAA6D,wBAAA,gBAA6BxE,KAAK,CAAC;EACtEgB,MAAM,EAAEzC,MAAM,CAAC8F,qBAAqB;EACpCjD,MAAM,EAAE0C,yBAAyB;EACjC7C,MAAM,EAAE6C,yBAAyB;EACjC5C,IAAI,EAAE3C,MAAM,CAAC8F;CACd,CAAC;AAkBF;;;;;;;;AAQO,MAAMI,cAAc,GACzB1D,MAAS,IACY;EACrB,MAAM2D,MAAM,GAAGnG,MAAM,CAACoG,SAAS,CAAC5D,MAAa,CAAC;EAC9C,OAAOf,KAAK,CAAC;IACXgB,MAAM,EAAE0D,MAAM;IACdtD,MAAM,EAAEsD,MAAM;IACdzD,MAAM,EAAEyD,MAAM;IACdxD,IAAI,EAAEH,MAAM;IACZW,UAAU,EAAEX,MAAM;IAClBa,UAAU,EAAEb;GACb,CAAQ;AACX,CAAC;AAED;;;;;;AAAAJ,OAAA,CAAA8D,cAAA,GAAAA,cAAA;AAMO,MAAMG,cAAc,GAAGA,CAG5BC,KAAQ,EAAEC,OAIX,KAwBC1G,MAAM,CAAC2G,GAAG,CAAC,aAAS;EAClB,MAAMC,GAAG,GAAG,OAAOC,oBAAS;EAC5B,MAAMC,QAAQ,GAAGL,KAAK,CAACjE,MAAM,CAACkE,OAAO,CAACK,QAAQ,CAAsB;EACpE,MAAMA,QAAQ,GAAGL,OAAO,CAACK,QAAkB;EAE3C,MAAMC,YAAY,GAAG1G,SAAS,CAAC2G,MAAM,CAAC;IACpCC,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBmE,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAGC,OAAO,IACfT,GAAG,CAACU,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLX,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;gBAC3DT,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACG,QAAQ,CAAC,sBAAsB,CAACU,UAAU,CAAClD,IAAI,CACrFvE,MAAM,CAACwE,GAAG,CAAC,CAAC,GAAGkD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KAAMf,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC,CAACO,SAAS,CAAC,GAAG,CAAC;KAC7F;GACJ,CAAC;EACF,MAAM5E,MAAM,GACVA,MAA2B,IAE3BgE,YAAY,CAAChE,MAAM,CAAC,CAACuB,IAAI,CACvBvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMkF,gBAAgB,GAAG5H,SAAS,CAAC6H,IAAI,CAAC;IACtCjB,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBoE,OAAO,EAAGC,OAAO,IAAKT,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;GACtF,CAAC;EACF,MAAMe,UAAU,GACdpF,MAA2B,IAE3BkF,gBAAgB,CAAClF,MAAM,CAAC,CAACuB,IAAI,CAC3BvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMqF,YAAY,GAAG/H,SAAS,CAAC2G,MAAM,CAAC;IACpCC,OAAO,EAAET,KAAK,CAAC5D,MAAM;IACrBsE,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAGC,OAAO,IACfT,GAAG,CAACU,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLX,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACN,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FM,OAAO,CAACN,QAAQ,CAClB;gBACIH,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACG,QAAQ,CAAC,MAAMM,OAAO,CAACN,QAAQ,CAAC,GAAG,CAACU,UAAU,CAAClD,IAAI,CACzFvE,MAAM,CAACwE,GAAG,CAAC,CAAC,GAAGkD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KACNf,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACN,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FM,OAAO,CAACN,QAAQ,CAClB;KACH;GACJ,CAAC;EACF,MAAMlE,MAAM,GACVA,MAA2B,IAE3BwF,YAAY,CAACxF,MAAM,CAAC,CAAC0B,IAAI,CACvBvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEpF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMyF,gBAAgB,GAAGhI,SAAS,CAAC6H,IAAI,CAAC;IACtCjB,OAAO,EAAET,KAAK,CAAC5D,MAAM;IACrBuE,OAAO,EAAGC,OAAO,IACfT,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACN,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FM,OAAO,CAACN,QAAQ,CAClB;GACH,CAAC;EACF,MAAMwB,UAAU,GACd1F,MAA2B,IAE3ByF,gBAAgB,CAACzF,MAAM,CAAC,CAAC0B,IAAI,CAC3BvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEpF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM2F,cAAc,GAAGlI,SAAS,CAACmI,OAAO,CAAC;IACvCvB,OAAO,EAAEJ,QAAQ;IACjBK,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAGsB,EAAE,IAAK9B,GAAG,iBAAiBA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACG,QAAQ,CAAC,MAAM2B,EAAE;GAC3F,CAAC;EACF,MAAMC,QAAQ,GACZD,EAAuC,IAEvCF,cAAc,CAACE,EAAE,CAAC,CAACnE,IAAI,CACrBvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,WAAW,EAAE;IAChDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,MAAME,YAAY,GAAGtI,SAAS,CAAC6H,IAAI,CAAC;IAClCjB,OAAO,EAAEJ,QAAQ;IACjBM,OAAO,EAAGsB,EAAE,IAAK9B,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACG,QAAQ,CAAC,MAAM2B,EAAE;GACzF,CAAC;EACF,MAAMG,OAAO,GACXH,EAAuC,IAEvCE,YAAY,CAACF,EAAE,CAAC,CAACnE,IAAI,CACnBvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,OAAO;IAAE1F,MAAM;IAAEoF,UAAU;IAAEvF,MAAM;IAAE0F,UAAU;IAAEI,QAAQ;IAAEG,MAAM,EAAED;EAAO,CAAW;AACvF,CAAC,CAAC;AAEJ;;;;;;AAAAtG,OAAA,CAAAiE,cAAA,GAAAA,cAAA;AAMO,MAAMuC,eAAe,GAAGA,CAI7BtC,KAAQ,EACRC,OAMC,KAWD1G,MAAM,CAAC2G,GAAG,CAAC,aAAS;EAClB,MAAMC,GAAG,GAAG,OAAOC,oBAAS;EAC5B,MAAMC,QAAQ,GAAGL,KAAK,CAACjE,MAAM,CAACkE,OAAO,CAACK,QAAQ,CAAsB;EACpE,MAAMA,QAAQ,GAAGL,OAAO,CAACK,QAAkB;EAE3C,MAAMiC,cAAc,GAAG,OAAO3I,WAAW,CAAC4I,OAAO,CAAC,GAAGvC,OAAO,CAACqB,UAAU,SAAS,EAAE;IAChFb,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBmE,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAGC,OAAO,IACfT,GAAG,CAACU,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLvH,MAAM,CAACkJ,OAAO,CAAC7B,OAAO,EAAGA,OAAO,IAC9BT,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;gBAC7DT,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACG,QAAQ,CAAC,sBAAsB,CAACU,UAAU,CAAClD,IAAI,CACnFvE,MAAM,CAACwE,GAAG,CAAC,CAAC,GAAGkD,OAAO,CAAC,KAAKA,OAAO,CAAC,CAAC,CAAQ,CAAC,CAC/C,EAAE;QAAEyB,WAAW,EAAE;MAAE,CAAE,CAAC;MAC3BxB,MAAM,EAAEA,CAAA,KAAMf,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC,CAACO,SAAS,CAAC,GAAG,CAAC;KAC7F;GACJ,CAAC;EACF,MAAMwB,YAAY,GAAG,OAAOzJ,GAAG,CAAC0J,UAAU,CAACL,cAAc,EAAE;IACzDM,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMC,aAAa,GAAGR,cAAc,CAACS,WAAW,CAACL,YAAY,CAAC;EAC9D,MAAMpG,MAAM,GACVA,MAA2B,IAE3BwG,aAAa,CAACxG,MAAM,CAAC,CAACuB,IAAI,CACxBvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM0G,kBAAkB,GAAG,OAAOrJ,WAAW,CAAC8H,IAAI,CAAC,GAAGzB,OAAO,CAACqB,UAAU,aAAa,EAAE;IACrFb,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBoE,OAAO,EAAGC,OAAO,IAAKT,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;GACtF,CAAC;EACF,MAAMsC,gBAAgB,GAAG,OAAOhK,GAAG,CAAC0J,UAAU,CAACK,kBAAkB,EAAE;IACjEJ,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMK,iBAAiB,GAAGF,kBAAkB,CAACD,WAAW,CAACE,gBAAgB,CAAC;EAC1E,MAAMvB,UAAU,GACdpF,MAA2B,IAE3B4G,iBAAiB,CAAC5G,MAAM,CAAC,CAACuB,IAAI,CAC5BvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM6G,gBAAgB,GAAG,OAAOxJ,WAAW,CAACsI,QAAQ,CAAC,GAAGjC,OAAO,CAACqB,UAAU,WAAW,EAAE;IACrF+B,EAAE,EAAEhD,QAAQ;IACZK,MAAM,EAAEV,KAAK;IACbsD,QAAQA,CAAC1C,OAAO;MACd,OAAOA,OAAO,CAACN,QAAQ,CAAC;IAC1B,CAAC;IACDK,OAAO,EAAG4C,GAAG,IAAKpD,GAAG,iBAAiBA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACqD,EAAE,CAAClD,QAAQ,EAAEiD,GAAG,CAAC;GAC5F,CAAC;EACF,MAAME,cAAc,GAAG,OAAOvK,GAAG,CAAC0J,UAAU,CAACQ,gBAAgB,EAAE;IAC7DP,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMY,eAAe,GAAGN,gBAAgB,CAACJ,WAAW,CAACS,cAAc,CAAC;EACpE,MAAMvB,QAAQ,GAAID,EAAuC,IACvDyB,eAAe,CAACzB,EAAE,CAAC,CAACnE,IAAI,CACtBvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,WAAW,EAAE;IAChDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,MAAM0B,cAAc,GAAG,OAAO/J,WAAW,CAAC8H,IAAI,CAAC,GAAGzB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC7Eb,OAAO,EAAEJ,QAAQ;IACjBM,OAAO,EAAG4C,GAAG,IAAKpD,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACqD,EAAE,CAAClD,QAAQ,EAAEiD,GAAG,CAAC;GAC1F,CAAC;EACF,MAAMK,YAAY,GAAG,OAAO1K,GAAG,CAAC0J,UAAU,CAACe,cAAc,EAAE;IACzDd,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMe,aAAa,GAAGF,cAAc,CAACX,WAAW,CAACY,YAAY,CAAC;EAC9D,MAAMxB,OAAO,GAAIH,EAAuC,IACtD4B,aAAa,CAAC5B,EAAE,CAAC,CAACnE,IAAI,CACpBvE,MAAM,CAAC6H,KAAK,EACZ7H,MAAM,CAAC8H,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,OAAO;IAAE1F,MAAM;IAAEoF,UAAU;IAAEO,QAAQ;IAAEG,MAAM,EAAED;EAAO,CAAW;AACnE,CAAC,CAAC;AAAAtG,OAAA,CAAAwG,eAAA,GAAAA,eAAA","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,GAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,uBAAA,CAAAC,OAAA;AAEA,IAAAE,QAAA,GAAAH,uBAAA,CAAAC,OAAA;AAEA,IAAAG,MAAA,GAAAJ,uBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAL,uBAAA,CAAAC,OAAA;AACA,IAAAK,WAAA,GAAAN,uBAAA,CAAAC,OAAA;AACA,IAAAM,MAAA,GAAAP,uBAAA,CAAAC,OAAA;AAEA,IAAAO,UAAA,GAAAP,OAAA;AACA,IAAAQ,WAAA,GAAAT,uBAAA,CAAAC,OAAA;AACA,IAAAS,SAAA,GAAAV,uBAAA,CAAAC,OAAA;AAA2C,SAAAU,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAZ,wBAAAY,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAf3C;;;;AAiBA,MAAM;EACJW,KAAK;EACLC,KAAK;EACLC,WAAW;EACXC,SAAS;EACTC,MAAM;EACNC,KAAK;EACLC,OAAO;EACPC,WAAW;EACXC;AAAY,CACb,gBAAGrC,aAAa,CAACsC,IAAI,CAAC;EACrBC,QAAQ,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,CAAC;EAC5EC,cAAc,EAAE;CACjB,CAAC;AAAAC,OAAA,CAAAJ,YAAA,GAAAA,YAAA;AAAAI,OAAA,CAAAL,WAAA,GAAAA,WAAA;AAAAK,OAAA,CAAAN,OAAA,GAAAA,OAAA;AAAAM,OAAA,CAAAP,KAAA,GAAAA,KAAA;AAAAO,OAAA,CAAAR,MAAA,GAAAA,MAAA;AAAAQ,OAAA,CAAAT,SAAA,GAAAA,SAAA;AAAAS,OAAA,CAAAV,WAAA,GAAAA,WAAA;AAAAU,OAAA,CAAAX,KAAA,GAAAA,KAAA;AAAAW,OAAA,CAAAZ,KAAA,GAAAA,KAAA;AA+HF;;;;AAIO,MAAMa,MAAM,GAAAD,OAAA,CAAAC,MAAA,GAA8E1C,aAAa,CAAC0C,MAAM;AAErH;;;;AAIO,MAAMC,QAAQ,GAAAF,OAAA,CAAAE,QAAA,GAA2C3C,aAAa,CAAC2C,QAAQ;AActF;;;;;;;;AAQO,MAAMC,SAAS,GACpBC,MAAS,IAETf,KAAK,CAAC;EACJgB,MAAM,EAAED,MAAM;EACdE,MAAM,EAAEF,MAAM;EACdG,IAAI,EAAEH;CACP,CAAC;AAgBJ;;;;;;;;AAAAJ,OAAA,CAAAG,SAAA,GAAAA,SAAA;AAQO,MAAMK,cAAc,GACzBJ,MAAS,IAETf,KAAK,CAAC;EACJgB,MAAM,EAAED,MAAM;EACdK,MAAM,EAAEL,MAAM;EACdE,MAAM,EAAEF,MAAM;EACdG,IAAI,EAAEH;CACP,CAAC;AAcJ;;;;;;;AAAAJ,OAAA,CAAAQ,cAAA,GAAAA,cAAA;AAOO,MAAME,SAAS,GACpBN,MAAS,IAETf,KAAK,CAAC;EACJgB,MAAM,EAAED,MAAM;EACdK,MAAM,EAAEL,MAAM;EACdE,MAAM,EAAEF;CACT,CAAC;AAsBJ;;;;;;;;;AAAAJ,OAAA,CAAAU,SAAA,GAAAA,SAAA;AASO,MAAMC,WAAW,GAAAX,OAAA,CAAAW,WAAA,gBAWdhB,WAAW,CAAC;EAClBU,MAAM,EAAEzC,MAAM,CAACgD,gBAAgB;EAC/BH,MAAM,EAAE7C,MAAM,CAACgD,gBAAgB;EAC/BN,MAAM,EAAE1C,MAAM,CAACgD,gBAAgB;EAC/BL,IAAI,eAAE3C,MAAM,CAACiD,YAAY,CAAC;IAAEC,EAAE,EAAE;EAAQ,CAAE,CAAC;EAC3CC,UAAU,eAAEnD,MAAM,CAACiD,YAAY,CAAC;IAAEC,EAAE,EAAE,QAAQ;IAAEE,QAAQ,EAAE;EAAI,CAAE,CAAC;EACjEC,UAAU,eAAErD,MAAM,CAACiD,YAAY,CAAC;IAAEC,EAAE,EAAE,QAAQ;IAAEE,QAAQ,EAAE;EAAI,CAAE;CACjE,CAAQ;AAaX;;;;AAIO,MAAME,gBAAgB,GAAAlB,OAAA,CAAAkB,gBAAA,gBAAqBtD,MAAM,CAACuD,SAAS,CAChEvD,MAAM,CAACwD,iBAAiB,EACxBxD,MAAM,CAACyD,mBAAmB,EAC1B;EACEC,MAAM,EAAE9D,QAAQ,CAAC+D,cAAc;EAC/BC,MAAM,EAAEhE,QAAQ,CAACiE;CAClB,CACF;AAQD;;;;;;;AAOO,MAAMC,IAAI,GAAA1B,OAAA,CAAA0B,IAAA,gBAAS9D,MAAM,CAAC+D,eAAe,CAC9C/D,MAAM,CAACgE,MAAM,EACbhE,MAAM,CAACyD,mBAAmB,EAC1B;EACEC,MAAM,EAAEA,CAACO,CAAC,EAAEC,CAAC,EAAEC,GAAG,KAChBvE,QAAQ,CAACqC,IAAI,CAACgC,CAAC,CAAC,CAACG,IAAI,CACnBtE,MAAM,CAACuE,GAAG,CAACzE,QAAQ,CAAC0E,UAAU,CAAC,EAC/BxE,MAAM,CAACyE,KAAK,CAAC;IACXC,MAAM,EAAEA,CAAA,KAAMzE,WAAW,CAAC0E,IAAI,CAAC,IAAI1E,WAAW,CAAC2E,IAAI,CAACP,GAAG,EAAEF,CAAC,CAAC,CAAC;IAC5DU,MAAM,EAAGC,EAAE,IAAK7E,WAAW,CAAC8E,OAAO,CAACD,EAAE;GACvC,CAAC,CACH;EACHhB,MAAM,EAAGgB,EAAE,IAAK7E,WAAW,CAAC8E,OAAO,CAACjF,QAAQ,CAACkF,aAAa,CAACF,EAAE,CAAC;CAC/D,CACF;AAED;;;;AAIO,MAAMG,WAAW,GAAA3C,OAAA,CAAA2C,WAAA,gBAAGpF,aAAa,CAACqF,YAAY,CAAClB,IAAI,EAAE9D,MAAM,CAACyD,mBAAmB,EAAE;EACtFwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAAC0E,UAAU,CAAC;IAC3DK,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAAC0E,UAAU,CAACM,EAAE,CAAC;GACvD;CACF,CAAC;AAEF;;;;AAIO,MAAMO,eAAe,GAAA/C,OAAA,CAAA+C,eAAA,gBAAGxF,aAAa,CAACqF,YAAY,CAAChF,MAAM,CAACgE,MAAM,EAAEhE,MAAM,CAACyD,mBAAmB,EAAE;EACnGwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAACwF,SAAS,CAAC;IAC1DT,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAACwF,SAAS,CAACR,EAAE,CAAC;GACtD;CACF,CAAC;AAEF;;;;AAIO,MAAMS,uBAAuB,GAAAjD,OAAA,CAAAiD,uBAAA,gBAAG1F,aAAa,CAACqF,YAAY,CAAChF,MAAM,CAACsF,YAAY,EAAEtF,MAAM,CAACyD,mBAAmB,EAAE;EACjHwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAACiE,SAAS,CAAC;IAC1Dc,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAACiE,SAAS,CAACe,EAAE,CAAC;GACtD;CACF,CAAC;AAEF;;;;AAIO,MAAMW,yBAAyB,GAAAnD,OAAA,CAAAmD,yBAAA,gBAAG5F,aAAa,CAACqF,YAAY,CAAChF,MAAM,CAACwF,MAAM,EAAExF,MAAM,CAACyD,mBAAmB,EAAE;EAC7GwB,QAAQ,eAAEnF,MAAM,CAACyE,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAM3E,MAAM,CAACwE,GAAG,CAACzE,QAAQ,CAACsF,GAAG,EAAEtF,QAAQ,CAAC6F,aAAa,CAAC;IAC9Dd,MAAM,EAAGC,EAAE,IAAK/E,MAAM,CAACgF,OAAO,CAACjF,QAAQ,CAAC6F,aAAa,CAACb,EAAE,CAAC;GAC1D;CACF,CAAC;AAcF;;;;;;;;;AASO,MAAMc,cAAc,GAAAtD,OAAA,CAAAsD,cAAA,gBAAmBjE,KAAK,CAAC;EAClDgB,MAAM,EAAEzC,MAAM,CAAC2F,WAAW;EAC1B9C,MAAM,EAAEsC,eAAe;EACvBxC,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAcF;;;;;;;;;AASO,MAAMC,sBAAsB,GAAAxD,OAAA,CAAAwD,sBAAA,gBAA2BnE,KAAK,CAAC;EAClEgB,MAAM,EAAEa,gBAAgB;EACxBT,MAAM,EAAEwC,uBAAuB;EAC/B1C,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAcF;;;;;;;;;AASO,MAAME,wBAAwB,GAAAzD,OAAA,CAAAyD,wBAAA,gBAA6BpE,KAAK,CAAC;EACtEgB,MAAM,EAAEzC,MAAM,CAAC8F,qBAAqB;EACpCjD,MAAM,EAAE0C,yBAAyB;EACjC5C,IAAI,EAAE3C,MAAM,CAAC8F;CACd,CAAC;AAeF;;;;;;;;;;AAUO,MAAMC,cAAc,GAAA3D,OAAA,CAAA2D,cAAA,gBAAmBtE,KAAK,CAAC;EAClDgB,MAAM,EAAEzC,MAAM,CAAC2F,WAAW;EAC1B9C,MAAM,EAAEsC,eAAe;EACvBzC,MAAM,EAAEyC,eAAe;EACvBxC,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAeF;;;;;;;;;;AAUO,MAAMK,sBAAsB,GAAA5D,OAAA,CAAA4D,sBAAA,gBAA2BvE,KAAK,CAAC;EAClEgB,MAAM,EAAEa,gBAAgB;EACxBT,MAAM,EAAEwC,uBAAuB;EAC/B3C,MAAM,EAAE2C,uBAAuB;EAC/B1C,IAAI,EAAE3C,MAAM,CAAC2F;CACd,CAAC;AAeF;;;;;;;;;;AAUO,MAAMM,wBAAwB,GAAA7D,OAAA,CAAA6D,wBAAA,gBAA6BxE,KAAK,CAAC;EACtEgB,MAAM,EAAEzC,MAAM,CAAC8F,qBAAqB;EACpCjD,MAAM,EAAE0C,yBAAyB;EACjC7C,MAAM,EAAE6C,yBAAyB;EACjC5C,IAAI,EAAE3C,MAAM,CAAC8F;CACd,CAAC;AAkBF;;;;;;;;AAQO,MAAMI,cAAc,GACzB1D,MAAS,IACY;EACrB,MAAM2D,MAAM,GAAGnG,MAAM,CAACoG,SAAS,CAAC5D,MAAa,CAAC;EAC9C,OAAOf,KAAK,CAAC;IACXgB,MAAM,EAAE0D,MAAM;IACdtD,MAAM,EAAEsD,MAAM;IACdzD,MAAM,EAAEyD,MAAM;IACdxD,IAAI,EAAEH,MAAM;IACZW,UAAU,EAAEX,MAAM;IAClBa,UAAU,EAAEb;GACb,CAAQ;AACX,CAAC;AAED;;;;;;AAAAJ,OAAA,CAAA8D,cAAA,GAAAA,cAAA;AAMO,MAAMG,cAAc,GAAGA,CAG5BC,KAAQ,EAAEC,OAKX,KAwBC1G,MAAM,CAAC2G,GAAG,CAAC,aAAS;EAClB,MAAMC,GAAG,GAAG,OAAOC,oBAAS;EAC5B,MAAMC,QAAQ,GAAGL,KAAK,CAACjE,MAAM,CAACkE,OAAO,CAACK,QAAQ,CAAsB;EACpE,MAAMA,QAAQ,GAAGL,OAAO,CAACK,QAAkB;EAC3C,MAAMC,aAAa,GAAGN,OAAO,CAACM,aAAa;EAE3C,MAAMC,YAAY,GAAG3G,SAAS,CAAC4G,MAAM,CAAC;IACpCC,OAAO,EAAEV,KAAK,CAACzD,MAAM;IACrBoE,MAAM,EAAEX,KAAK;IACbY,OAAO,EAAGC,OAAO,IACfV,GAAG,CAACW,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLZ,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,IAAIb,GAAG,CAAC5D,MAAM,CAACsE,OAAO,CAAC;gBAC3DV,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACG,QAAQ,CAAC,sBAAsB,CAACW,UAAU,CAACnD,IAAI,CACrFvE,MAAM,CAACwE,GAAG,CAAC,CAAC,GAAGmD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KAAMhB,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,IAAIb,GAAG,CAAC5D,MAAM,CAACsE,OAAO,CAAC,CAACO,SAAS,CAAC,GAAG,CAAC;KAC7F;GACJ,CAAC;EACF,MAAM7E,MAAM,GACVA,MAA2B,IAE3BiE,YAAY,CAACjE,MAAM,CAAC,CAACuB,IAAI,CACvBvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAElF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMmF,gBAAgB,GAAG7H,SAAS,CAAC8H,IAAI,CAAC;IACtCjB,OAAO,EAAEV,KAAK,CAACzD,MAAM;IACrBqE,OAAO,EAAGC,OAAO,IAAKV,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,IAAIb,GAAG,CAAC5D,MAAM,CAACsE,OAAO,CAAC;GACtF,CAAC;EACF,MAAMe,UAAU,GACdrF,MAA2B,IAE3BmF,gBAAgB,CAACnF,MAAM,CAAC,CAACuB,IAAI,CAC3BvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAElF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMsF,YAAY,GAAGhI,SAAS,CAAC4G,MAAM,CAAC;IACpCC,OAAO,EAAEV,KAAK,CAAC5D,MAAM;IACrBuE,MAAM,EAAEX,KAAK;IACbY,OAAO,EAAEL,aAAa,GACnBM,OAAO,IACNV,GAAG,CAACW,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLZ,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,QAAQb,GAAG,CAAC/D,MAAM,CAACyE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB,QAAQH,GAAG,CAACI,aAAa,CAAC,MAAMM,OAAO,CAACN,aAAa,CAAC;gBACpDJ,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACG,QAAQ,CAAC,MAAMO,OAAO,CAACP,QAAQ,CAAC,GAAG,CAACW,UAAU,CAACnD,IAAI,CACvFvE,MAAM,CAACwE,GAAG,CAAC,CAAC,GAAGmD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KACNhB,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,QAAQb,GAAG,CAAC/D,MAAM,CAACyE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB,QAAQH,GAAG,CAACI,aAAa,CAAC,MAAMM,OAAO,CAACN,aAAa,CAAC;KACzD,CAAC,GACHM,OAAO,IACNV,GAAG,CAACW,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLZ,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,QAAQb,GAAG,CAAC/D,MAAM,CAACyE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB;gBACEH,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACG,QAAQ,CAAC,MAAMO,OAAO,CAACP,QAAQ,CAAC,GAAG,CAACW,UAAU,CAACnD,IAAI,CACvFvE,MAAM,CAACwE,GAAG,CAAC,CAAC,GAAGmD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KACNhB,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,QAAQb,GAAG,CAAC/D,MAAM,CAACyE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB;KACH;GACN,CAAC;EACF,MAAMlE,MAAM,GACVA,MAA2B,IAE3ByF,YAAY,CAACzF,MAAM,CAAC,CAAC0B,IAAI,CACvBvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAErF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM0F,gBAAgB,GAAGjI,SAAS,CAAC8H,IAAI,CAAC;IACtCjB,OAAO,EAAEV,KAAK,CAAC5D,MAAM;IACrBwE,OAAO,EAAEL,aAAa,GACnBM,OAAO,IACNV,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,QAAQb,GAAG,CAAC/D,MAAM,CAACyE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB,QAAQH,GAAG,CAACI,aAAa,CAAC,MAAMM,OAAO,CAACN,aAAa,CAAC,EAAE,GACvDM,OAAO,IACRV,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,QAAQb,GAAG,CAAC/D,MAAM,CAACyE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUH,GAAG,CAACG,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB;GACL,CAAC;EACF,MAAMyB,UAAU,GACd3F,MAA2B,IAE3B0F,gBAAgB,CAAC1F,MAAM,CAAC,CAAC0B,IAAI,CAC3BvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAErF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM4F,cAAc,GAAGnI,SAAS,CAACoI,OAAO,CAAC;IACvCvB,OAAO,EAAEL,QAAQ;IACjBM,MAAM,EAAEX,KAAK;IACbY,OAAO,EAAGsB,EAAE,IAAK/B,GAAG,iBAAiBA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACG,QAAQ,CAAC,MAAM4B,EAAE;GAC3F,CAAC;EACF,MAAMC,QAAQ,GACZD,EAAuC,IAEvCF,cAAc,CAACE,EAAE,CAAC,CAACpE,IAAI,CACrBvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,WAAW,EAAE;IAChDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,MAAME,YAAY,GAAGvI,SAAS,CAAC8H,IAAI,CAAC;IAClCjB,OAAO,EAAEL,QAAQ;IACjBO,OAAO,EAAGsB,EAAE,IAAK/B,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACG,QAAQ,CAAC,MAAM4B,EAAE;GACzF,CAAC;EACF,MAAMG,OAAO,GACXH,EAAuC,IAEvCE,YAAY,CAACF,EAAE,CAAC,CAACpE,IAAI,CACnBvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,OAAO;IAAE3F,MAAM;IAAEqF,UAAU;IAAExF,MAAM;IAAE2F,UAAU;IAAEI,QAAQ;IAAEG,MAAM,EAAED;EAAO,CAAW;AACvF,CAAC,CAAC;AAEJ;;;;;;AAAAvG,OAAA,CAAAiE,cAAA,GAAAA,cAAA;AAMO,MAAMwC,eAAe,GAAGA,CAI7BvC,KAAQ,EACRC,OAMC,KAWD1G,MAAM,CAAC2G,GAAG,CAAC,aAAS;EAClB,MAAMC,GAAG,GAAG,OAAOC,oBAAS;EAC5B,MAAMC,QAAQ,GAAGL,KAAK,CAACjE,MAAM,CAACkE,OAAO,CAACK,QAAQ,CAAsB;EACpE,MAAMA,QAAQ,GAAGL,OAAO,CAACK,QAAkB;EAE3C,MAAMkC,cAAc,GAAG,OAAO5I,WAAW,CAAC6I,OAAO,CAAC,GAAGxC,OAAO,CAACsB,UAAU,SAAS,EAAE;IAChFb,OAAO,EAAEV,KAAK,CAACzD,MAAM;IACrBoE,MAAM,EAAEX,KAAK;IACbY,OAAO,EAAGC,OAAO,IACfV,GAAG,CAACW,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLxH,MAAM,CAACmJ,OAAO,CAAC7B,OAAO,EAAGA,OAAO,IAC9BV,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,IAAIb,GAAG,CAAC5D,MAAM,CAACsE,OAAO,CAAC;gBAC7DV,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACG,QAAQ,CAAC,sBAAsB,CAACW,UAAU,CAACnD,IAAI,CACnFvE,MAAM,CAACwE,GAAG,CAAC,CAAC,GAAGmD,OAAO,CAAC,KAAKA,OAAO,CAAC,CAAC,CAAQ,CAAC,CAC/C,EAAE;QAAEyB,WAAW,EAAE;MAAE,CAAE,CAAC;MAC3BxB,MAAM,EAAEA,CAAA,KAAMhB,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,IAAIb,GAAG,CAAC5D,MAAM,CAACsE,OAAO,CAAC,CAACO,SAAS,CAAC,GAAG,CAAC;KAC7F;GACJ,CAAC;EACF,MAAMwB,YAAY,GAAG,OAAO1J,GAAG,CAAC2J,UAAU,CAACL,cAAc,EAAE;IACzDM,MAAM,EAAE7C,OAAO,CAAC6C,MAAM;IACtBC,YAAY,EAAE9C,OAAO,CAAC8C;GACvB,CAAC;EACF,MAAMC,aAAa,GAAGR,cAAc,CAACS,WAAW,CAACL,YAAY,CAAC;EAC9D,MAAMrG,MAAM,GACVA,MAA2B,IAE3ByG,aAAa,CAACzG,MAAM,CAAC,CAACuB,IAAI,CACxBvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAElF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM2G,kBAAkB,GAAG,OAAOtJ,WAAW,CAAC+H,IAAI,CAAC,GAAG1B,OAAO,CAACsB,UAAU,aAAa,EAAE;IACrFb,OAAO,EAAEV,KAAK,CAACzD,MAAM;IACrBqE,OAAO,EAAGC,OAAO,IAAKV,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,IAAIb,GAAG,CAAC5D,MAAM,CAACsE,OAAO,CAAC;GACtF,CAAC;EACF,MAAMsC,gBAAgB,GAAG,OAAOjK,GAAG,CAAC2J,UAAU,CAACK,kBAAkB,EAAE;IACjEJ,MAAM,EAAE7C,OAAO,CAAC6C,MAAM;IACtBC,YAAY,EAAE9C,OAAO,CAAC8C;GACvB,CAAC;EACF,MAAMK,iBAAiB,GAAGF,kBAAkB,CAACD,WAAW,CAACE,gBAAgB,CAAC;EAC1E,MAAMvB,UAAU,GACdrF,MAA2B,IAE3B6G,iBAAiB,CAAC7G,MAAM,CAAC,CAACuB,IAAI,CAC5BvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAElF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM8G,gBAAgB,GAAG,OAAOzJ,WAAW,CAACuI,QAAQ,CAAC,GAAGlC,OAAO,CAACsB,UAAU,WAAW,EAAE;IACrF+B,EAAE,EAAEjD,QAAQ;IACZM,MAAM,EAAEX,KAAK;IACbuD,QAAQA,CAAC1C,OAAO;MACd,OAAOA,OAAO,CAACP,QAAQ,CAAC;IAC1B,CAAC;IACDM,OAAO,EAAG4C,GAAG,IAAKrD,GAAG,iBAAiBA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACsD,EAAE,CAACnD,QAAQ,EAAEkD,GAAG,CAAC;GAC5F,CAAC;EACF,MAAME,cAAc,GAAG,OAAOxK,GAAG,CAAC2J,UAAU,CAACQ,gBAAgB,EAAE;IAC7DP,MAAM,EAAE7C,OAAO,CAAC6C,MAAM;IACtBC,YAAY,EAAE9C,OAAO,CAAC8C;GACvB,CAAC;EACF,MAAMY,eAAe,GAAGN,gBAAgB,CAACJ,WAAW,CAACS,cAAc,CAAC;EACpE,MAAMvB,QAAQ,GAAID,EAAuC,IACvDyB,eAAe,CAACzB,EAAE,CAAC,CAACpE,IAAI,CACtBvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,WAAW,EAAE;IAChDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,MAAM0B,cAAc,GAAG,OAAOhK,WAAW,CAAC+H,IAAI,CAAC,GAAG1B,OAAO,CAACsB,UAAU,SAAS,EAAE;IAC7Eb,OAAO,EAAEL,QAAQ;IACjBO,OAAO,EAAG4C,GAAG,IAAKrD,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACe,SAAS,CAAC,UAAUb,GAAG,CAACsD,EAAE,CAACnD,QAAQ,EAAEkD,GAAG,CAAC;GAC1F,CAAC;EACF,MAAMK,YAAY,GAAG,OAAO3K,GAAG,CAAC2J,UAAU,CAACe,cAAc,EAAE;IACzDd,MAAM,EAAE7C,OAAO,CAAC6C,MAAM;IACtBC,YAAY,EAAE9C,OAAO,CAAC8C;GACvB,CAAC;EACF,MAAMe,aAAa,GAAGF,cAAc,CAACX,WAAW,CAACY,YAAY,CAAC;EAC9D,MAAMxB,OAAO,GAAIH,EAAuC,IACtD4B,aAAa,CAAC5B,EAAE,CAAC,CAACpE,IAAI,CACpBvE,MAAM,CAAC8H,KAAK,EACZ9H,MAAM,CAAC+H,QAAQ,CAAC,GAAGrB,OAAO,CAACsB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,OAAO;IAAE3F,MAAM;IAAEqF,UAAU;IAAEO,QAAQ;IAAEG,MAAM,EAAED;EAAO,CAAW;AACnE,CAAC,CAAC;AAAAvG,OAAA,CAAAyG,eAAA,GAAAA,eAAA","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/dts/Model.d.ts b/dist/dts/Model.d.ts
index c3fa87dc0c68ea6e3d9105578ffdc7709c7ba7d1..7929a7f42231a91da42735e55699e14705ab9452 100644
--- a/dist/dts/Model.d.ts
+++ b/dist/dts/Model.d.ts
@@ -510,6 +510,7 @@ export declare const makeRepository: <S extends Any, Id extends (keyof S["Type"]
     readonly tableName: string;
     readonly spanPrefix: string;
     readonly idColumn: Id;
+    readonly versionColumn?: string | undefined;
 }) => Effect.Effect<{
     readonly insert: (insert: S["insert"]["Type"]) => Effect.Effect<S["Type"], never, S["Context"] | S["insert"]["Context"]>;
     readonly insertVoid: (insert: S["insert"]["Type"]) => Effect.Effect<void, never, S["Context"] | S["insert"]["Context"]>;
diff --git a/dist/dts/Model.d.ts.map b/dist/dts/Model.d.ts.map
index 70f92c08140b9f9f8c51e516c3afbf979fbcab5b..c128c5c50de266832e0f006e9f6c7a8e2cdb3533 100644
--- a/dist/dts/Model.d.ts.map
+++ b/dist/dts/Model.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/Model.js b/dist/esm/Model.js
index 6f14cd678b94b10c6404bfe21905a8e4ce49528f..e60e3b66c46c9ce6c38e8105d3d5316bab922abd 100644
--- a/dist/esm/Model.js
+++ b/dist/esm/Model.js
@@ -365,6 +365,7 @@ export const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -393,7 +394,11 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -407,7 +412,7 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/esm/Model.js.map b/dist/esm/Model.js.map
index 256a1d70a30c707081db75287efd988ae8274496..c0870a04764086d47a71e0d3e52cccce33b864f7 100644
--- a/dist/esm/Model.js.map
+++ b/dist/esm/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/package.json b/package.json
index ace22deab41bed9f4c00a614144372404497e55e..26b0ee32674f65d463e308b9e393171a59f0c1b9 100644
--- a/package.json
+++ b/package.json
@@ -14,8 +14,8 @@
   },
   "peerDependencies": {
     "@effect/experimental": "^0.34.2",
-    "effect": "^3.11.7",
-    "@effect/platform": "^0.71.2"
+    "@effect/platform": "^0.71.2",
+    "effect": "^3.11.7"
   },
   "publishConfig": {
     "provenance": true
diff --git a/src/Model.ts b/src/Model.ts
index c7850155f50cdbe8c934077585d07387fdf189f6..178938561b2ecd362229e8c129294916977a38a3 100644
--- a/src/Model.ts
+++ b/src/Model.ts
@@ -624,6 +624,7 @@ export const makeRepository = <
   readonly tableName: string
   readonly spanPrefix: string
   readonly idColumn: Id
+  readonly versionColumn?: string | undefined
 }): Effect.Effect<
   {
     readonly insert: (
@@ -652,6 +653,7 @@ export const makeRepository = <
     const sql = yield* SqlClient
     const idSchema = Model.fields[options.idColumn] as Schema.Schema.Any
     const idColumn = options.idColumn as string
+    const versionColumn = options.versionColumn
 
     const insertSchema = SqlSchema.single({
       Request: Model.insert,
@@ -695,20 +697,35 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
     const updateSchema = SqlSchema.single({
       Request: Model.update,
       Result: Model,
-      execute: (request) =>
-        sql.onDialectOrElse({
-          mysql: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            };
+      execute: versionColumn ?
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } and ${sql(versionColumn)} = ${request[versionColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
-              Effect.map(([, results]) => results as any)
-            ),
-          orElse: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            } returning *`
-        })
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+          }) :
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              };
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } returning *`
+          })
     })
     const update = (
       update: S["update"]["Type"]
@@ -723,10 +740,15 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
 
     const updateVoidSchema = SqlSchema.void({
       Request: Model.update,
-      execute: (request) =>
-        sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-          request[idColumn]
-        }`
+      execute: versionColumn ?
+        (request) =>
+          sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+            request[idColumn]
+          } and ${sql(versionColumn)} = ${request[versionColumn]}`
+        : (request) =>
+          sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+            request[idColumn]
+          }`
     })
     const updateVoid = (
       update: S["update"]["Type"]
