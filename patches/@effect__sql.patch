diff --git a/dist/cjs/Model.js b/dist/cjs/Model.js
index 0eaf6d085e4369882498d4083203c2f3a9ec7879..d9fa92aad0c91c83a2d32c864377485e4af3281f 100644
--- a/dist/cjs/Model.js
+++ b/dist/cjs/Model.js
@@ -343,6 +343,7 @@ const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* _SqlClient.SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -371,7 +372,11 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -385,7 +390,7 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/cjs/Model.js.map b/dist/cjs/Model.js.map
index 99f583082afba2947ac9420992a06108a3f9c8eb..dca1a7deda1472a866e9910b586a4f6464903adf 100644
--- a/dist/cjs/Model.js.map
+++ b/dist/cjs/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","Uuid","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeUtc","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeUtcFromNumber","DateTimeInsert","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","UuidV4WithGenerate","Uint8ArrayFromSelf","sync","v4","Uint8Array","id","constructorDefault","UuidV4Insert","BooleanFromNumber","Literal","Boolean","b","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","Uuid","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeUtc","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeUtcFromNumber","DateTimeInsert","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","UuidV4WithGenerate","Uint8ArrayFromSelf","sync","v4","Uint8Array","id","constructorDefault","UuidV4Insert","BooleanFromNumber","Literal","Boolean","b","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/dts/Model.d.ts b/dist/dts/Model.d.ts
index 49a6c73d9282c84ad01bfd696e09cf08cd07ec0f..fd9af3584d0cbaa1aa8e2f29ada370996da41c0f 100644
--- a/dist/dts/Model.d.ts
+++ b/dist/dts/Model.d.ts
@@ -542,6 +542,7 @@ export declare const makeRepository: <S extends Any, Id extends (keyof S["Type"]
     readonly tableName: string;
     readonly spanPrefix: string;
     readonly idColumn: Id;
+    readonly versionColumn?: string | undefined;
 }) => Effect.Effect<{
     readonly insert: (insert: S["insert"]["Type"]) => Effect.Effect<S["Type"], never, S["Context"] | S["insert"]["Context"]>;
     readonly insertVoid: (insert: S["insert"]["Type"]) => Effect.Effect<void, never, S["Context"] | S["insert"]["Context"]>;
diff --git a/dist/dts/Model.d.ts.map b/dist/dts/Model.d.ts.map
index 7365421c76f82939206fe85d5c6b1d7cb5975ea2..1bc63757823e8e18bb62acb11fe6989fe913209c 100644
--- a/dist/dts/Model.d.ts.map
+++ b/dist/dts/Model.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/Model.js b/dist/esm/Model.js
index 4dc8611050639b8c17463e08e5b4047419f65179..2774c20734fea56537c59127f724ddbe716271f6 100644
--- a/dist/esm/Model.js
+++ b/dist/esm/Model.js
@@ -403,6 +403,7 @@ export const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -431,7 +432,11 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -445,7 +450,7 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/esm/Model.js.map b/dist/esm/Model.js.map
index 1d5534489d103934bc16fdadc0b20dcfc7d0d148..6be6ba543e776d265e405d851205190ed5973a2f 100644
--- a/dist/esm/Model.js.map
+++ b/dist/esm/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","Uuid","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeUtc","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeUtcFromNumber","DateTimeInsert","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","UuidV4WithGenerate","Uint8ArrayFromSelf","sync","v4","Uint8Array","id","constructorDefault","UuidV4Insert","BooleanFromNumber","Literal","Boolean","n","b","makeRepository","Model","options","gen","sql","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","Uuid","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeUtc","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeUtcFromNumber","DateTimeInsert","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","UuidV4WithGenerate","Uint8ArrayFromSelf","sync","v4","Uint8Array","id","constructorDefault","UuidV4Insert","BooleanFromNumber","Literal","Boolean","n","b","makeRepository","Model","options","gen","sql","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/package.json b/package.json
index 893ad4b5a68da33922d5bfeea764a953a268ea66..703289df30f2e86a5fc58357001a545a0cec6819 100644
--- a/package.json
+++ b/package.json
@@ -14,8 +14,8 @@
     "uuid": "^11.0.3"
   },
   "peerDependencies": {
-    "@effect/platform": "^0.80.1",
     "@effect/experimental": "^0.44.1",
+    "@effect/platform": "^0.80.1",
     "effect": "^3.14.1"
   },
   "publishConfig": {
diff --git a/src/Model.ts b/src/Model.ts
index a90b4f1b3bd8926a6802985dc43976a898a434b0..b3118aa3dc04255cb4afd9f55241c2446a5806ed 100644
--- a/src/Model.ts
+++ b/src/Model.ts
@@ -688,6 +688,7 @@ export const makeRepository = <
   readonly tableName: string
   readonly spanPrefix: string
   readonly idColumn: Id
+  readonly versionColumn?: string | undefined
 }): Effect.Effect<
   {
     readonly insert: (
@@ -716,6 +717,7 @@ export const makeRepository = <
     const sql = yield* SqlClient
     const idSchema = Model.fields[options.idColumn] as Schema.Schema.Any
     const idColumn = options.idColumn as string
+    const versionColumn = options.versionColumn
 
     const insertSchema = SqlSchema.single({
       Request: Model.insert,
@@ -759,20 +761,35 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
     const updateSchema = SqlSchema.single({
       Request: Model.update,
       Result: Model,
-      execute: (request) =>
-        sql.onDialectOrElse({
-          mysql: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            };
+      execute: versionColumn ?
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } and ${sql(versionColumn)} = ${request[versionColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
-              Effect.map(([, results]) => results as any)
-            ),
-          orElse: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            } returning *`
-        })
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+          }) :
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              };
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } returning *`
+          })
     })
     const update = (
       update: S["update"]["Type"]
@@ -787,10 +804,15 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
 
     const updateVoidSchema = SqlSchema.void({
       Request: Model.update,
-      execute: (request) =>
-        sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-          request[idColumn]
-        }`
+      execute: versionColumn ?
+        (request) =>
+          sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+            request[idColumn]
+          } and ${sql(versionColumn)} = ${request[versionColumn]}`
+        : (request) =>
+          sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+            request[idColumn]
+          }`
     })
     const updateVoid = (
       update: S["update"]["Type"]
