diff --git a/README.md b/README.md
index 109acfd9fee612f3fe55071b8ac7283a548d295f..f231dfff3bf661721b3d4f06fff8dfe2d3e71cc9 100644
--- a/README.md
+++ b/README.md
@@ -33,7 +33,7 @@ Alternatively, you can also create the `SqlLive` layer using the `PgClient.layer
 import { Config } from "effect"
 import { PgClient } from "@effect/sql-pg"
 
-const SqlLive = PgClient.layer({
+const SqlLive = PgClient.layerConfig({
   database: Config.string("DATABASE")
 })
 ```
diff --git a/dist/cjs/Model.js b/dist/cjs/Model.js
index 2ff21b1522594426a56a505d039f4fabbbc541d4..84d816db58f47d016ab1b9ee411158042c597ffb 100644
--- a/dist/cjs/Model.js
+++ b/dist/cjs/Model.js
@@ -302,6 +302,7 @@ const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* _SqlClient.SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -330,7 +331,11 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -344,7 +349,7 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/cjs/Model.js.map b/dist/cjs/Model.js.map
index 23aa56a97eebed9199b70f217decd60681442a7c..5938ef2099f95efece59d9cc3e6cd6532991dcf1 100644
--- a/dist/cjs/Model.js.map
+++ b/dist/cjs/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/SqlClient.js.map b/dist/cjs/SqlClient.js.map
index 144e3928b80608939bc9a703f8a1b5a1b2866a63..809574302f24648bfd84e06b4b0bbb591d0b4912 100644
--- a/dist/cjs/SqlClient.js.map
+++ b/dist/cjs/SqlClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"SqlClient.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","SqlClient","clientTag","make","makeWithTransaction","TransactionConnection"],"sources":["../../src/SqlClient.ts"],"sourcesContent":[null],"mappings":";;;;;;AAOA,IAAAA,QAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAgD,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAKhD;;;;AAIO,MAAMW,MAAM,GAAAC,OAAA,CAAAD,MAAA,GAAkBvB,QAAQ,CAACuB,MAAM;AA8BpD;;;;AAIO,MAAME,SAAS,GAAAD,OAAA,CAAAC,SAAA,GAA8BzB,QAAQ,CAAC0B,SAAS;AAwBtE;;;;AAIO,MAAMC,IAAI,GAAAH,OAAA,CAAAG,IAAA,GAQwB3B,QAAQ,CAAC2B,IAAI;AAEtD;;;;AAIO,MAAMC,mBAAmB,GAAAJ,OAAA,CAAAI,mBAAA,GAWwC5B,QAAQ,CAAC4B,mBAAmB;AASpG;;;AAGO,MAAMC,qBAAqB,GAAAL,OAAA,CAAAK,qBAAA,GAChC7B,QAAQ,CAAC6B,qBAAqB","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"SqlClient.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","SqlClient","clientTag","make","makeWithTransaction","TransactionConnection"],"sources":["../../src/SqlClient.ts"],"sourcesContent":[null],"mappings":";;;;;;AAWA,IAAAA,QAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAgD,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAKhD;;;;AAIO,MAAMW,MAAM,GAAAC,OAAA,CAAAD,MAAA,GAAkBvB,QAAQ,CAACuB,MAAM;AAoDpD;;;;AAIO,MAAME,SAAS,GAAAD,OAAA,CAAAC,SAAA,GAA8BzB,QAAQ,CAAC0B,SAAS;AA6BtE;;;;AAIO,MAAMC,IAAI,GAAAH,OAAA,CAAAG,IAAA,GAA6E3B,QAAQ,CAAC2B,IAAI;AAE3G;;;;AAIO,MAAMC,mBAAmB,GAAAJ,OAAA,CAAAI,mBAAA,GAWwC5B,QAAQ,CAAC4B,mBAAmB;AASpG;;;AAGO,MAAMC,qBAAqB,GAAAL,OAAA,CAAAK,qBAAA,GAChC7B,QAAQ,CAAC6B,qBAAqB","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/SqlConnection.js.map b/dist/cjs/SqlConnection.js.map
index 0cfc42966c505e53f8eadb003580065607d67617..d5e14e5e592362aef2a6cffc4e15f8a3a68afc28 100644
--- a/dist/cjs/SqlConnection.js.map
+++ b/dist/cjs/SqlConnection.js.map
@@ -1 +1 @@
-{"version":3,"file":"SqlConnection.js","names":["Context","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Connection","exports","GenericTag"],"sources":["../../src/SqlConnection.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,OAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAHzC;;;;AA6DA;;;;AAIO,MAAMW,UAAU,GAAAC,OAAA,CAAAD,UAAA,gBAAGvB,OAAO,CAACyB,UAAU,CAAa,sBAAsB,CAAC","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"SqlConnection.js","names":["Context","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Connection","exports","GenericTag"],"sources":["../../src/SqlConnection.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,OAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAHzC;;;;AA2DA;;;;AAIO,MAAMW,UAAU,GAAAC,OAAA,CAAAD,UAAA,gBAAGvB,OAAO,CAACyB,UAAU,CAAa,sBAAsB,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/Statement.js.map b/dist/cjs/Statement.js.map
index 9f47c2f4afccd017c5b9e304ccaf6a2ba4c0aedb..7772d5993123fc126afb9d3142b6342d04341768 100644
--- a/dist/cjs/Statement.js.map
+++ b/dist/cjs/Statement.js.map
@@ -1 +1 @@
-{"version":3,"file":"Statement.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","FragmentId","exports","currentTransformer","withTransformer","withTransformerDisabled","setTransformer","isFragment","isCustom","custom","make","unsafeFragment","and","or","csv","join","makeCompiler","makeCompilerSqlite","defaultEscape","primitiveKind","defaultTransforms"],"sources":["../../src/Statement.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Statement.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","FragmentId","exports","currentTransformer","withTransformer","withTransformerDisabled","setTransformer","isFragment","isCustom","custom","make","unsafeFragment","and","or","csv","join","makeCompiler","makeCompilerSqlite","defaultEscape","primitiveKind","defaultTransforms"],"sources":["../../src/Statement.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/client.js b/dist/cjs/internal/client.js
index 90db1f7af61a2205712136449da0cd0947c993b1..00d986b48824de66d7c316bef8c8378ca7ec3df2 100644
--- a/dist/cjs/internal/client.js
+++ b/dist/cjs/internal/client.js
@@ -6,13 +6,16 @@ Object.defineProperty(exports, "__esModule", {
 exports.clientTag = exports.TypeId = exports.TransactionConnection = void 0;
 exports.make = make;
 exports.makeWithTransaction = void 0;
+var Reactivity = _interopRequireWildcard(require("@effect/experimental/Reactivity"));
 var Clock = _interopRequireWildcard(require("effect/Clock"));
 var Context = _interopRequireWildcard(require("effect/Context"));
 var Effect = _interopRequireWildcard(require("effect/Effect"));
 var Exit = _interopRequireWildcard(require("effect/Exit"));
 var FiberRef = _interopRequireWildcard(require("effect/FiberRef"));
+var Mailbox = _interopRequireWildcard(require("effect/Mailbox"));
 var Option = _interopRequireWildcard(require("effect/Option"));
 var Scope = _interopRequireWildcard(require("effect/Scope"));
+var Stream = _interopRequireWildcard(require("effect/Stream"));
 var Tracer = _interopRequireWildcard(require("effect/Tracer"));
 var Statement = _interopRequireWildcard(require("../Statement.js"));
 function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
@@ -29,35 +32,55 @@ function make({
   beginTransaction = "BEGIN",
   commit = "COMMIT",
   compiler,
+  reactiveMailbox,
   rollback = "ROLLBACK",
   rollbackSavepoint = id => `ROLLBACK TO SAVEPOINT ${id}`,
   savepoint = id => `SAVEPOINT ${id}`,
   spanAttributes,
-  transactionAcquirer
+  transactionAcquirer,
+  transformRows
 }) {
-  const getConnection = Effect.flatMap(Effect.serviceOption(TransactionConnection), Option.match({
-    onNone: () => acquirer,
-    onSome: ([conn]) => Effect.succeed(conn)
-  }));
-  transactionAcquirer = transactionAcquirer ?? acquirer;
-  const withTransaction = makeWithTransaction({
-    transactionTag: TransactionConnection,
-    spanAttributes,
-    acquireConnection: Effect.flatMap(Scope.make(), scope => Effect.map(Scope.extend(transactionAcquirer, scope), conn => [scope, conn])),
-    begin: conn => conn.executeUnprepared(beginTransaction),
-    savepoint: (conn, id) => conn.executeUnprepared(savepoint(`effect_sql_${id}`)),
-    commit: conn => conn.executeUnprepared(commit),
-    rollback: conn => conn.executeUnprepared(rollback),
-    rollbackSavepoint: (conn, id) => conn.executeUnprepared(rollbackSavepoint(`effect_sql_${id}`))
+  return Effect.gen(function* () {
+    const getConnection = Effect.flatMap(Effect.serviceOption(TransactionConnection), Option.match({
+      onNone: () => acquirer,
+      onSome: ([conn]) => Effect.succeed(conn)
+    }));
+    transactionAcquirer = transactionAcquirer ?? acquirer;
+    const withTransaction = makeWithTransaction({
+      transactionTag: TransactionConnection,
+      spanAttributes,
+      acquireConnection: Effect.flatMap(Scope.make(), scope => Effect.map(Scope.extend(transactionAcquirer, scope), conn => [scope, conn])),
+      begin: conn => conn.executeUnprepared(beginTransaction, [], undefined),
+      savepoint: (conn, id) => conn.executeUnprepared(savepoint(`effect_sql_${id}`), [], undefined),
+      commit: conn => conn.executeUnprepared(commit, [], undefined),
+      rollback: conn => conn.executeUnprepared(rollback, [], undefined),
+      rollbackSavepoint: (conn, id) => conn.executeUnprepared(rollbackSavepoint(`effect_sql_${id}`), [], undefined)
+    });
+    const reactivity = yield* Reactivity.Reactivity;
+    const client = Object.assign(Statement.make(getConnection, compiler, spanAttributes, transformRows), {
+      [TypeId]: TypeId,
+      safe: undefined,
+      withTransaction,
+      reserve: transactionAcquirer,
+      withoutTransforms() {
+        if (transformRows === undefined) {
+          return this;
+        }
+        const statement = Statement.make(getConnection, compiler.withoutTransform, spanAttributes, undefined);
+        const client = Object.assign(statement, {
+          ...this,
+          ...statement
+        });
+        client.safe = client;
+        client.withoutTransforms = () => client;
+        return client;
+      },
+      reactive: reactiveMailbox ? (keys, effect) => reactiveMailbox(keys, effect).pipe(Effect.map(Mailbox.toStream), Stream.unwrapScoped) : reactivity.stream,
+      reactiveMailbox: reactiveMailbox ?? reactivity.query
+    });
+    client.safe = client;
+    return client;
   });
-  const client = Object.assign(Statement.make(getConnection, compiler, spanAttributes), {
-    [TypeId]: TypeId,
-    safe: undefined,
-    withTransaction,
-    reserve: transactionAcquirer
-  });
-  client.safe = client;
-  return client;
 }
 /** @internal */
 const makeWithTransaction = options => effect => Effect.uninterruptibleMask(restore => Effect.useSpan("sql.transaction", {
diff --git a/dist/cjs/internal/client.js.map b/dist/cjs/internal/client.js.map
index ad205882ef8aceb7e7b5eb74f083d23b10c29da7..0cd033e74c20b9de0a5a4f6da60798f2f3076446 100644
--- a/dist/cjs/internal/client.js.map
+++ b/dist/cjs/internal/client.js.map
@@ -1 +1 @@
-{"version":3,"file":"client.js","names":["Clock","_interopRequireWildcard","require","Context","Effect","Exit","FiberRef","Option","Scope","Tracer","Statement","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","clientTag","GenericTag","TransactionConnection","make","acquirer","beginTransaction","commit","compiler","rollback","rollbackSavepoint","id","savepoint","spanAttributes","transactionAcquirer","getConnection","flatMap","serviceOption","match","onNone","onSome","conn","succeed","withTransaction","makeWithTransaction","transactionTag","acquireConnection","scope","map","extend","begin","executeUnprepared","client","assign","safe","undefined","reserve","options","effect","uninterruptibleMask","restore","useSpan","kind","captureStackTrace","span","withFiberRuntime","fiber","key","value","attribute","context","currentContext","clock","currentDefaultServices","connOption","getOption","_tag","pipe","zipRight","locally","add","ParentSpan","exit","isSuccess","event","unsafeCurrentTimeNanos","orDie","void","withScope","ensuring","close"],"sources":["../../../src/internal/client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"client.js","names":["Reactivity","_interopRequireWildcard","require","Clock","Context","Effect","Exit","FiberRef","Mailbox","Option","Scope","Stream","Tracer","Statement","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","clientTag","GenericTag","TransactionConnection","make","acquirer","beginTransaction","commit","compiler","reactiveMailbox","rollback","rollbackSavepoint","id","savepoint","spanAttributes","transactionAcquirer","transformRows","gen","getConnection","flatMap","serviceOption","match","onNone","onSome","conn","succeed","withTransaction","makeWithTransaction","transactionTag","acquireConnection","scope","map","extend","begin","executeUnprepared","undefined","reactivity","client","assign","safe","reserve","withoutTransforms","statement","withoutTransform","reactive","keys","effect","pipe","toStream","unwrapScoped","stream","query","options","uninterruptibleMask","restore","useSpan","kind","captureStackTrace","span","withFiberRuntime","fiber","key","value","attribute","context","currentContext","clock","currentDefaultServices","connOption","getOption","_tag","zipRight","locally","add","ParentSpan","exit","isSuccess","event","unsafeCurrentTimeNanos","orDie","void","withScope","ensuring","close"],"sources":["../../../src/internal/client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/statement.js b/dist/cjs/internal/statement.js
index 9f0aead800b28b82ec833212d0d3a56e60bd311b..1ef937f774aac4ddf9abc555c47df7d4d8c334c4 100644
--- a/dist/cjs/internal/statement.js
+++ b/dist/cjs/internal/statement.js
@@ -46,7 +46,7 @@ const withStatement = (self, span, f) => Effect.withFiberRuntime(fiber => {
   if (transform._tag === "None") {
     return f(self);
   }
-  return Effect.flatMap(transform.value(self, make(self.acquirer, self.compiler), fiber.getFiberRefs(), span), f);
+  return Effect.flatMap(transform.value(self, make(self.acquirer, self.compiler, self.spanAttributes, self.transformRows), fiber.getFiberRefs(), span), f);
 });
 /** @internal */
 class StatementPrimitive extends Effectable.Class {
@@ -54,15 +54,17 @@ class StatementPrimitive extends Effectable.Class {
   acquirer;
   compiler;
   spanAttributes;
+  transformRows;
   get [FragmentId]() {
     return _Function.identity;
   }
-  constructor(segments, acquirer, compiler, spanAttributes) {
+  constructor(segments, acquirer, compiler, spanAttributes, transformRows) {
     super();
     this.segments = segments;
     this.acquirer = acquirer;
     this.compiler = compiler;
     this.spanAttributes = spanAttributes;
+    this.transformRows = transformRows;
   }
   withConnection(operation, f, withoutTransform = false) {
     return Effect.useSpan("sql.execute", {
@@ -79,7 +81,7 @@ class StatementPrimitive extends Effectable.Class {
     }));
   }
   get withoutTransform() {
-    return this.withConnection("executeWithoutTransform", (connection, sql, params) => connection.executeWithoutTransform(sql, params), true);
+    return this.withConnection("executeWithoutTransform", (connection, sql, params) => connection.execute(sql, params, undefined), true);
   }
   get raw() {
     return this.withConnection("executeRaw", (connection, sql, params) => connection.executeRaw(sql, params), true);
@@ -95,20 +97,20 @@ class StatementPrimitive extends Effectable.Class {
       }
       span.attribute(Otel.SEMATTRS_DB_OPERATION, "executeStream");
       span.attribute(Otel.SEMATTRS_DB_STATEMENT, sql);
-      return Effect.map(this.acquirer, _ => _.executeStream(sql, params));
+      return Effect.map(this.acquirer, _ => _.executeStream(sql, params, this.transformRows));
     })));
   }
   get values() {
     return this.withConnection("executeValues", (connection, sql, params) => connection.executeValues(sql, params));
   }
   get unprepared() {
-    return this.withConnection("executeUnprepared", (connection, sql, params) => connection.executeUnprepared(sql, params));
+    return this.withConnection("executeUnprepared", (connection, sql, params) => connection.executeUnprepared(sql, params, this.transformRows));
   }
   compile(withoutTransform) {
     return this.compiler.compile(this, withoutTransform ?? false);
   }
   commit() {
-    return this.withConnection("execute", (connection, sql, params) => connection.execute(sql, params));
+    return this.withConnection("execute", (connection, sql, params) => connection.execute(sql, params, this.transformRows));
   }
   toJSON() {
     const [sql, params] = this.compile();
@@ -220,22 +222,26 @@ class CustomImpl {
 const custom = kind => (i0, i1, i2) => new FragmentImpl([new CustomImpl(kind, i0, i1, i2)]);
 exports.custom = custom;
 const isHelper = u => u instanceof ArrayHelperImpl || u instanceof RecordInsertHelperImpl || u instanceof RecordUpdateHelperImpl || u instanceof RecordUpdateHelperSingleImpl || u instanceof IdentifierImpl;
-const constructorCache = /*#__PURE__*/(0, _GlobalValue.globalValue)("@effect/sql/Statement/constructorCache", () => new WeakMap());
+const constructorCache = /*#__PURE__*/(0, _GlobalValue.globalValue)("@effect/sql/Statement/constructorCache", () => ({
+  transforms: new WeakMap(),
+  noTransforms: new WeakMap()
+}));
 /** @internal */
-const make = (acquirer, compiler, spanAttributes = []) => {
-  if (constructorCache.has(acquirer)) {
-    return constructorCache.get(acquirer);
+const make = (acquirer, compiler, spanAttributes, transformRows) => {
+  const cache = transformRows === undefined ? constructorCache.noTransforms : constructorCache.transforms;
+  if (cache.has(acquirer)) {
+    return cache.get(acquirer);
   }
   const self = Object.assign(function sql(strings, ...args) {
     if (Array.isArray(strings) && "raw" in strings) {
-      return statement(acquirer, compiler, strings, args, spanAttributes);
+      return statement(acquirer, compiler, strings, args, spanAttributes, transformRows);
     } else if (typeof strings === "string") {
       return new IdentifierImpl(strings);
     }
     throw "absurd";
   }, {
     unsafe(sql, params) {
-      return new StatementPrimitive([new LiteralImpl(sql, params)], acquirer, compiler, spanAttributes);
+      return new StatementPrimitive([new LiteralImpl(sql, params)], acquirer, compiler, spanAttributes, transformRows);
     },
     literal(sql) {
       return new FragmentImpl([new LiteralImpl(sql)]);
@@ -261,12 +267,12 @@ const make = (acquirer, compiler, spanAttributes = []) => {
       return options[compiler.dialect] !== undefined ? options[compiler.dialect]() : options.orElse();
     }
   });
-  constructorCache.set(acquirer, self);
+  cache.set(acquirer, self);
   return self;
 };
 /** @internal */
 exports.make = make;
-const statement = (acquirer, compiler, strings, args, spanAttributes) => {
+const statement = (acquirer, compiler, strings, args, spanAttributes, transformRows) => {
   const segments = strings[0].length > 0 ? [new LiteralImpl(strings[0])] : [];
   for (let i = 0; i < args.length; i++) {
     const arg = args[i];
@@ -283,7 +289,7 @@ const statement = (acquirer, compiler, strings, args, spanAttributes) => {
       segments.push(new LiteralImpl(strings[i + 1]));
     }
   }
-  return new StatementPrimitive(segments, acquirer, compiler, spanAttributes);
+  return new StatementPrimitive(segments, acquirer, compiler, spanAttributes, transformRows);
 };
 /** @internal */
 exports.statement = statement;
@@ -354,7 +360,8 @@ class CompilerImpl {
   onCustom;
   onInsert;
   onRecordUpdateSingle;
-  constructor(dialect, parameterPlaceholder, onIdentifier, onRecordUpdate, onCustom, onInsert, onRecordUpdateSingle) {
+  disableTransforms;
+  constructor(dialect, parameterPlaceholder, onIdentifier, onRecordUpdate, onCustom, onInsert, onRecordUpdateSingle, disableTransforms = false) {
     this.dialect = dialect;
     this.parameterPlaceholder = parameterPlaceholder;
     this.onIdentifier = onIdentifier;
@@ -362,8 +369,10 @@ class CompilerImpl {
     this.onCustom = onCustom;
     this.onInsert = onInsert;
     this.onRecordUpdateSingle = onRecordUpdateSingle;
+    this.disableTransforms = disableTransforms;
   }
   compile(statement, withoutTransform = false, placeholderOverride) {
+    withoutTransform = withoutTransform || this.disableTransforms;
     const cacheSymbol = withoutTransform ? statementCacheNoTransformSymbol : statementCacheSymbol;
     if (cacheSymbol in statement) {
       return statement[cacheSymbol];
@@ -522,6 +531,9 @@ class CompilerImpl {
     }
     return statement[cacheSymbol] = result;
   }
+  get withoutTransform() {
+    return new CompilerImpl(this.dialect, this.parameterPlaceholder, this.onIdentifier, this.onRecordUpdate, this.onCustom, this.onInsert, this.onRecordUpdateSingle, true);
+  }
 }
 /** @internal */
 const makeCompiler = options => new CompilerImpl(options.dialect, options.placeholder, options.onIdentifier, options.onRecordUpdate, options.onCustom, options.onInsert, options.onRecordUpdateSingle);
diff --git a/dist/cjs/internal/statement.js.map b/dist/cjs/internal/statement.js.map
index 0dcedcc48f9356b39b5cd97dd8ff2861b6ad39b0..bacb28c3a5f28a1d57831488f16cf317267869b5 100644
--- a/dist/cjs/internal/statement.js.map
+++ b/dist/cjs/internal/statement.js.map
@@ -1 +1 @@
-{"version":3,"file":"statement.js","names":["Otel","_interopRequireWildcard","require","Effect","Effectable","FiberRef","_Function","_GlobalValue","Layer","Option","Predicate","Stream","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","FragmentId","exports","Symbol","for","isFragment","isParameter","isTagged","isCustom","kind","CustomImpl","currentTransformer","globalValue","unsafeMake","none","withTransformer","dual","effect","f","locally","some","withTransformerDisabled","setTransformer","locallyScoped","withStatement","self","span","withFiberRuntime","fiber","transform","getFiberRef","_tag","flatMap","value","make","acquirer","compiler","getFiberRefs","StatementPrimitive","Class","segments","spanAttributes","identity","constructor","withConnection","operation","withoutTransform","useSpan","captureStackTrace","statement","sql","params","compile","key","attribute","SEMATTRS_DB_OPERATION","SEMATTRS_DB_STATEMENT","scoped","_","connection","executeWithoutTransform","raw","executeRaw","stream","unwrapScoped","makeSpanScoped","map","executeStream","values","executeValues","unprepared","executeUnprepared","commit","execute","toJSON","_id","FragmentImpl","LiteralImpl","IdentifierImpl","ParameterImpl","ArrayHelperImpl","identifierWrap","RecordInsertHelperImpl","returningIdentifier","returning","RecordUpdateHelperImpl","alias","RecordUpdateHelperSingleImpl","omit","i0","i1","i2","custom","isHelper","constructorCache","assign","strings","args","Array","isArray","unsafe","literal","in","in_","insert","undefined","update","updateValues","and","or","csv","join","onDialect","options","dialect","onDialectOrElse","orElse","length","arg","segment","push","unsafeFragment","convertLiteralOrFragment","clause","arguments","column","addParens","fallback","literalStatement","clauses","apply","csvRaw","statementCacheSymbol","statementCacheNoTransformSymbol","CompilerImpl","parameterPlaceholder","onIdentifier","onRecordUpdate","onCustom","onInsert","onRecordUpdateSingle","placeholderOverride","cacheSymbol","len","binds","placeholderCount","placeholder","placeholderNoIncrement","placeholders","makePlaceholdersArray","keys","row","j","primitive","extractPrimitive","s","b","generateColumns","filter","includes","result","makeCompiler","evaluate","escape","str","defaultEscape","c","re","RegExp","double","dot","replace","primitiveKind","Date","Uint8Array","Int8Array","head","compiled","escapeSqlite","makeCompilerSqlite","defaultTransforms","transformer","nested","transformValue","array","transformObject","obj","newObj","transformArrayNested","rows","newRows","transformArray","object"],"sources":["../../../src/internal/statement.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"statement.js","names":["Otel","_interopRequireWildcard","require","Effect","Effectable","FiberRef","_Function","_GlobalValue","Layer","Option","Predicate","Stream","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","FragmentId","exports","Symbol","for","isFragment","isParameter","isTagged","isCustom","kind","CustomImpl","currentTransformer","globalValue","unsafeMake","none","withTransformer","dual","effect","f","locally","some","withTransformerDisabled","setTransformer","locallyScoped","withStatement","self","span","withFiberRuntime","fiber","transform","getFiberRef","_tag","flatMap","value","make","acquirer","compiler","spanAttributes","transformRows","getFiberRefs","StatementPrimitive","Class","segments","identity","constructor","withConnection","operation","withoutTransform","useSpan","captureStackTrace","statement","sql","params","compile","key","attribute","SEMATTRS_DB_OPERATION","SEMATTRS_DB_STATEMENT","scoped","_","connection","execute","undefined","raw","executeRaw","stream","unwrapScoped","makeSpanScoped","map","executeStream","values","executeValues","unprepared","executeUnprepared","commit","toJSON","_id","FragmentImpl","LiteralImpl","IdentifierImpl","ParameterImpl","ArrayHelperImpl","identifierWrap","RecordInsertHelperImpl","returningIdentifier","returning","RecordUpdateHelperImpl","alias","RecordUpdateHelperSingleImpl","omit","i0","i1","i2","custom","isHelper","constructorCache","transforms","noTransforms","cache","assign","strings","args","Array","isArray","unsafe","literal","in","in_","insert","update","updateValues","and","or","csv","join","onDialect","options","dialect","onDialectOrElse","orElse","length","arg","segment","push","unsafeFragment","convertLiteralOrFragment","clause","arguments","column","addParens","fallback","literalStatement","clauses","apply","csvRaw","statementCacheSymbol","statementCacheNoTransformSymbol","CompilerImpl","parameterPlaceholder","onIdentifier","onRecordUpdate","onCustom","onInsert","onRecordUpdateSingle","disableTransforms","placeholderOverride","cacheSymbol","len","binds","placeholderCount","placeholder","placeholderNoIncrement","placeholders","makePlaceholdersArray","keys","row","j","primitive","extractPrimitive","s","b","generateColumns","filter","includes","result","makeCompiler","evaluate","escape","str","defaultEscape","c","re","RegExp","double","dot","replace","primitiveKind","Date","Uint8Array","Int8Array","head","compiled","escapeSqlite","makeCompilerSqlite","defaultTransforms","transformer","nested","transformValue","array","transformObject","obj","newObj","transformArrayNested","rows","newRows","transformArray","object"],"sources":["../../../src/internal/statement.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/dts/Model.d.ts b/dist/dts/Model.d.ts
index fcf5143ad7c3974bb651b18418d8bf8d83bba922..d4b31cfbbed34ec5a01cd49ee545e9cdf7c8e9e2 100644
--- a/dist/dts/Model.d.ts
+++ b/dist/dts/Model.d.ts
@@ -123,6 +123,7 @@ export {
  * @since 1.0.0
  * @category constructors
  * @example
+ * ```ts
  * import { Schema } from "effect"
  * import { Model } from "@effect/sql"
  *
@@ -155,6 +156,7 @@ export {
  *     return this.name.toUpperCase()
  *   }
  * }
+ * ```
  */
 Class, 
 /**
@@ -508,6 +510,7 @@ export declare const makeRepository: <S extends Any, Id extends (keyof S["Type"]
     readonly tableName: string;
     readonly spanPrefix: string;
     readonly idColumn: Id;
+    readonly versionColumn?: string | undefined;
 }) => Effect.Effect<{
     readonly insert: (insert: S["insert"]["Type"]) => Effect.Effect<S["Type"], never, S["Context"] | S["insert"]["Context"]>;
     readonly insertVoid: (insert: S["insert"]["Type"]) => Effect.Effect<void, never, S["Context"] | S["insert"]["Context"]>;
diff --git a/dist/dts/Model.d.ts.map b/dist/dts/Model.d.ts.map
index 68872896cfcfcbed7e122a5662e59ceea71fc534..c128c5c50de266832e0f006e9f6c7a8e2cdb3533 100644
--- a/dist/dts/Model.d.ts.map
+++ b/dist/dts/Model.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/SqlClient.d.ts b/dist/dts/SqlClient.d.ts
index ae3d1091bffa814508ff4d9512eae2ba8f370a92..75c3c0ed08571a9552522bd18d12f5dce35d80df 100644
--- a/dist/dts/SqlClient.d.ts
+++ b/dist/dts/SqlClient.d.ts
@@ -1,9 +1,13 @@
 /**
  * @since 1.0.0
  */
+import type { Reactivity } from "@effect/experimental/Reactivity";
 import type { Tag } from "effect/Context";
 import type { Effect } from "effect/Effect";
+import type { ReadonlyMailbox } from "effect/Mailbox";
+import type { ReadonlyRecord } from "effect/Record";
 import type { CloseableScope, Scope } from "effect/Scope";
+import type { Stream } from "effect/Stream";
 import type { NoInfer } from "effect/Types";
 import type { Connection } from "./SqlConnection.js";
 import type { SqlError } from "./SqlError.js";
@@ -28,11 +32,25 @@ export interface SqlClient extends Constructor {
      * Copy of the client for safeql etc.
      */
     readonly safe: this;
+    /**
+     * Copy of the client without transformations.
+     */
+    readonly withoutTransforms: () => this;
     readonly reserve: Effect<Connection, SqlError, Scope>;
     /**
      * With the given effect, ensure all sql queries are run in a transaction.
      */
     readonly withTransaction: <R, E, A>(self: Effect<A, E, R>) => Effect<A, E | SqlError, R>;
+    /**
+     * Use the Reactivity service from @effect/experimental to create a reactive
+     * query.
+     */
+    readonly reactive: <A, E, R>(keys: ReadonlyArray<unknown> | ReadonlyRecord<string, ReadonlyArray<unknown>>, effect: Effect<A, E, R>) => Stream<A, E, R>;
+    /**
+     * Use the Reactivity service from @effect/experimental to create a reactive
+     * query.
+     */
+    readonly reactiveMailbox: <A, E, R>(keys: ReadonlyArray<unknown> | ReadonlyRecord<string, ReadonlyArray<unknown>>, effect: Effect<A, E, R>) => Effect<ReadonlyMailbox<A, E>, never, R | Scope>;
 }
 /**
  * @category models
@@ -58,13 +76,15 @@ export declare namespace SqlClient {
         readonly commit?: string | undefined;
         readonly savepoint?: ((name: string) => string) | undefined;
         readonly rollbackSavepoint?: ((name: string) => string) | undefined;
+        readonly transformRows?: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined;
+        readonly reactiveMailbox?: <A, E, R>(keys: ReadonlyArray<unknown> | ReadonlyRecord<string, ReadonlyArray<unknown>>, effect: Effect<A, E, R>) => Effect<ReadonlyMailbox<A, E>, never, R | Scope>;
     }
 }
 /**
  * @category constructors
  * @since 1.0.0
  */
-export declare const make: ({ acquirer, beginTransaction, commit, rollback, rollbackSavepoint, savepoint, transactionAcquirer }: SqlClient.MakeOptions) => SqlClient;
+export declare const make: (options: SqlClient.MakeOptions) => Effect<SqlClient, never, Reactivity>;
 /**
  * @since 1.0.0
  * @category transactions
diff --git a/dist/dts/SqlClient.d.ts.map b/dist/dts/SqlClient.d.ts.map
index e3b7e5abc26a905c442aca07e3a447219c1e25b5..62dfd31505961a5edfcde145a882f67cfdbaa67c 100644
--- a/dist/dts/SqlClient.d.ts.map
+++ b/dist/dts/SqlClient.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"SqlClient.d.ts","sourceRoot":"","sources":["../../src/SqlClient.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"SqlClient.d.ts","sourceRoot":"","sources":["../../src/SqlClient.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/SqlConnection.d.ts b/dist/dts/SqlConnection.d.ts
index 27a6859a9dc9b269c6585ef8ba5fe6469db5cb11..5cc0a3e8294dd5c2cf273b973220e0e94feee8a2 100644
--- a/dist/dts/SqlConnection.d.ts
+++ b/dist/dts/SqlConnection.d.ts
@@ -12,16 +12,15 @@ import type { Primitive } from "./Statement.js";
  * @since 1.0.0
  */
 export interface Connection {
-    readonly execute: (sql: string, params: ReadonlyArray<Primitive>) => Effect<ReadonlyArray<any>, SqlError>;
+    readonly execute: (sql: string, params: ReadonlyArray<Primitive>, transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined) => Effect<ReadonlyArray<any>, SqlError>;
     /**
      * Execute the specified SQL query and return the raw results directly from
      * underlying SQL client.
      */
     readonly executeRaw: (sql: string, params: ReadonlyArray<Primitive>) => Effect<unknown, SqlError>;
-    readonly executeStream: (sql: string, params: ReadonlyArray<Primitive>) => Stream<any, SqlError>;
-    readonly executeWithoutTransform: (sql: string, params: ReadonlyArray<Primitive>) => Effect<ReadonlyArray<any>, SqlError>;
+    readonly executeStream: (sql: string, params: ReadonlyArray<Primitive>, transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined) => Stream<any, SqlError>;
     readonly executeValues: (sql: string, params: ReadonlyArray<Primitive>) => Effect<ReadonlyArray<ReadonlyArray<Primitive>>, SqlError>;
-    readonly executeUnprepared: (sql: string, params?: ReadonlyArray<Primitive> | undefined) => Effect<ReadonlyArray<any>, SqlError>;
+    readonly executeUnprepared: (sql: string, params: ReadonlyArray<Primitive>, transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined) => Effect<ReadonlyArray<any>, SqlError>;
 }
 /**
  * @since 1.0.0
diff --git a/dist/dts/SqlConnection.d.ts.map b/dist/dts/SqlConnection.d.ts.map
index f1e62eaf4032cf5220ca46added3df99d9e30a2d..9a2df9895a3dd88260d09f71dd3484d58db5b27b 100644
--- a/dist/dts/SqlConnection.d.ts.map
+++ b/dist/dts/SqlConnection.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"SqlConnection.d.ts","sourceRoot":"","sources":["../../src/SqlConnection.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,KAAK,OAAO,MAAM,gBAAgB,CAAA;AACzC,OAAO,KAAK,EAAE,MAAM,EAAE,MAAM,eAAe,CAAA;AAC3C,OAAO,KAAK,EAAE,KAAK,EAAE,MAAM,cAAc,CAAA;AACzC,OAAO,KAAK,EAAE,MAAM,EAAE,MAAM,eAAe,CAAA;AAC3C,OAAO,KAAK,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAA;AAC7C,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAA;AAE/C;;;GAGG;AACH,MAAM,WAAW,UAAU;IACzB,QAAQ,CAAC,OAAO,EAAE,CAChB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,KAC7B,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAA;IAEzC;;;OAGG;IACH,QAAQ,CAAC,UAAU,EAAE,CACnB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,KAC7B,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAA;IAE9B,QAAQ,CAAC,aAAa,EAAE,CACtB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,KAC7B,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAA;IAE1B,QAAQ,CAAC,uBAAuB,EAAE,CAChC,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,KAC7B,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAA;IAEzC,QAAQ,CAAC,aAAa,EAAE,CACtB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,KAC7B,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAA;IAE9D,QAAQ,CAAC,iBAAiB,EAAE,CAC1B,GAAG,EAAE,MAAM,EACX,MAAM,CAAC,EAAE,aAAa,CAAC,SAAS,CAAC,GAAG,SAAS,KAC1C,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAA;CAC1C;AAED;;GAEG;AACH,yBAAiB,UAAU,CAAC;IAC1B;;;OAGG;IACH,KAAY,QAAQ,GAAG,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAA;CAC3D;AAED;;;GAGG;AACH,eAAO,MAAM,UAAU,qCAAyD,CAAA;AAEhF;;;GAGG;AACH,MAAM,MAAM,GAAG,GAAG;IAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,GAAG,SAAS,CAAA;CAAE,CAAA"}
\ No newline at end of file
+{"version":3,"file":"SqlConnection.d.ts","sourceRoot":"","sources":["../../src/SqlConnection.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,KAAK,OAAO,MAAM,gBAAgB,CAAA;AACzC,OAAO,KAAK,EAAE,MAAM,EAAE,MAAM,eAAe,CAAA;AAC3C,OAAO,KAAK,EAAE,KAAK,EAAE,MAAM,cAAc,CAAA;AACzC,OAAO,KAAK,EAAE,MAAM,EAAE,MAAM,eAAe,CAAA;AAC3C,OAAO,KAAK,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAA;AAC7C,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAA;AAE/C;;;GAGG;AACH,MAAM,WAAW,UAAU;IACzB,QAAQ,CAAC,OAAO,EAAE,CAChB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,EAChC,aAAa,EAAE,CAAC,CAAC,CAAC,SAAS,MAAM,EAAE,GAAG,EAAE,aAAa,CAAC,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,KACvF,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAA;IAEzC;;;OAGG;IACH,QAAQ,CAAC,UAAU,EAAE,CACnB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,KAC7B,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAA;IAE9B,QAAQ,CAAC,aAAa,EAAE,CACtB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,EAChC,aAAa,EAAE,CAAC,CAAC,CAAC,SAAS,MAAM,EAAE,GAAG,EAAE,aAAa,CAAC,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,KACvF,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAA;IAE1B,QAAQ,CAAC,aAAa,EAAE,CACtB,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,KAC7B,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAA;IAE9D,QAAQ,CAAC,iBAAiB,EAAE,CAC1B,GAAG,EAAE,MAAM,EACX,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,EAChC,aAAa,EAAE,CAAC,CAAC,CAAC,SAAS,MAAM,EAAE,GAAG,EAAE,aAAa,CAAC,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,KACvF,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAA;CAC1C;AAED;;GAEG;AACH,yBAAiB,UAAU,CAAC;IAC1B;;;OAGG;IACH,KAAY,QAAQ,GAAG,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAA;CAC3D;AAED;;;GAGG;AACH,eAAO,MAAM,UAAU,qCAAyD,CAAA;AAEhF;;;GAGG;AACH,MAAM,MAAM,GAAG,GAAG;IAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,GAAG,SAAS,CAAA;CAAE,CAAA"}
\ No newline at end of file
diff --git a/dist/dts/Statement.d.ts b/dist/dts/Statement.d.ts
index b4a9574a1fd5707377b6e552f58519cfe06e6b25..4b523f53ddd6be49ff146c63d9b97899eaa82fb7 100644
--- a/dist/dts/Statement.d.ts
+++ b/dist/dts/Statement.d.ts
@@ -270,7 +270,7 @@ export interface Constructor {
  * @category constructor
  * @since 1.0.0
  */
-export declare const make: (acquirer: Connection.Acquirer, compiler: Compiler, spanAttributes?: ReadonlyArray<readonly [string, unknown]>) => Constructor;
+export declare const make: (acquirer: Connection.Acquirer, compiler: Compiler, spanAttributes: ReadonlyArray<readonly [string, unknown]>, transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined) => Constructor;
 /**
  * @category constructor
  * @since 1.0.0
@@ -314,6 +314,7 @@ export declare const join: (literal: string, addParens?: boolean, fallback?: str
 export interface Compiler {
     readonly dialect: Dialect;
     readonly compile: (statement: Fragment, withoutTransform: boolean) => readonly [sql: string, params: ReadonlyArray<Primitive>];
+    readonly withoutTransform: this;
 }
 /**
  * @category compiler
diff --git a/dist/dts/Statement.d.ts.map b/dist/dts/Statement.d.ts.map
index 4c159ab6555d03cdf729d72408e3df6d08c70fed..58f7479d9767ecaa0dc40cea43c6bcf9157a5c75 100644
--- a/dist/dts/Statement.d.ts.map
+++ b/dist/dts/Statement.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Statement.d.ts","sourceRoot":"","sources":["../../src/Statement.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Statement.d.ts","sourceRoot":"","sources":["../../src/Statement.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/Model.js b/dist/esm/Model.js
index 207da4276fbd0bf7f174b57f4b53e18eab6e1c97..e60e3b66c46c9ce6c38e8105d3d5316bab922abd 100644
--- a/dist/esm/Model.js
+++ b/dist/esm/Model.js
@@ -34,6 +34,7 @@ export {
  * @since 1.0.0
  * @category constructors
  * @example
+ * ```ts
  * import { Schema } from "effect"
  * import { Model } from "@effect/sql"
  *
@@ -66,6 +67,7 @@ export {
  *     return this.name.toUpperCase()
  *   }
  * }
+ * ```
  */
 Class,
 /**
@@ -363,6 +365,7 @@ export const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -391,7 +394,11 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -405,7 +412,7 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/esm/Model.js.map b/dist/esm/Model.js.map
index a2b39e6378d7283aad0b70da22cd2ff419f6c914..c0870a04764086d47a71e0d3e52cccce33b864f7 100644
--- a/dist/esm/Model.js.map
+++ b/dist/esm/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","VariantSchema","DateTime","Effect","Option","ParseResult","Schema","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"AAAA;;;AAGA,OAAO,KAAKA,GAAG,MAAM,sCAAsC;AAC3D,OAAO,KAAKC,aAAa,MAAM,oCAAoC;AAEnE,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAE3C,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,WAAW,MAAM,oBAAoB;AACjD,OAAO,KAAKC,MAAM,MAAM,eAAe;AAEvC,SAASC,SAAS,QAAQ,gBAAgB;AAC1C,OAAO,KAAKC,WAAW,MAAM,kBAAkB;AAC/C,OAAO,KAAKC,SAAS,MAAM,gBAAgB;AAE3C,MAAM;EACJC,KAAK;EACLC,KAAK;EACLC,WAAW;EACXC,SAAS;EACTC,MAAM;EACNC,KAAK;EACLC,OAAO;EACPC,WAAW;EACXC;AAAY,CACb,gBAAGjB,aAAa,CAACkB,IAAI,CAAC;EACrBC,QAAQ,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,CAAC;EAC5EC,cAAc,EAAE;CACjB,CAAC;AAwCF;AACE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CAX,KAAK;AACL;;;;AAIAM,OAAO;AACP;;;;AAIAL,KAAK;AACL;;;;AAIAM,WAAW;AACX;;;;AAIAL,WAAW;AACX;;;;AAIAM,YAAY;AACZ;;;;AAIAL,SAAS;AACT;;;;AAIAC,MAAM;AACN;;;;AAIAC,KAAK;AAGP;;;;AAIA,OAAO,MAAMO,MAAM,GAA8ErB,aAAa,CAACqB,MAAM;AAErH;;;;AAIA,OAAO,MAAMC,QAAQ,GAA2CtB,aAAa,CAACsB,QAAQ;AActF;;;;;;;;AAQA,OAAO,MAAMC,SAAS,GACpBC,MAAS,IAETd,KAAK,CAAC;EACJe,MAAM,EAAED,MAAM;EACdE,MAAM,EAAEF,MAAM;EACdG,IAAI,EAAEH;CACP,CAAC;AAgBJ;;;;;;;;AAQA,OAAO,MAAMI,cAAc,GACzBJ,MAAS,IAETd,KAAK,CAAC;EACJe,MAAM,EAAED,MAAM;EACdK,MAAM,EAAEL,MAAM;EACdE,MAAM,EAAEF,MAAM;EACdG,IAAI,EAAEH;CACP,CAAC;AAcJ;;;;;;;AAOA,OAAO,MAAMM,SAAS,GACpBN,MAAS,IAETd,KAAK,CAAC;EACJe,MAAM,EAAED,MAAM;EACdK,MAAM,EAAEL,MAAM;EACdE,MAAM,EAAEF;CACT,CAAC;AAsBJ;;;;;;;;;AASA,OAAO,MAAMO,WAAW,gBAWdf,WAAW,CAAC;EAClBS,MAAM,EAAEpB,MAAM,CAAC2B,gBAAgB;EAC/BH,MAAM,EAAExB,MAAM,CAAC2B,gBAAgB;EAC/BN,MAAM,EAAErB,MAAM,CAAC2B,gBAAgB;EAC/BL,IAAI,eAAEtB,MAAM,CAAC4B,YAAY,CAAC;IAAEC,EAAE,EAAE;EAAQ,CAAE,CAAC;EAC3CC,UAAU,eAAE9B,MAAM,CAAC4B,YAAY,CAAC;IAAEC,EAAE,EAAE,QAAQ;IAAEE,QAAQ,EAAE;EAAI,CAAE,CAAC;EACjEC,UAAU,eAAEhC,MAAM,CAAC4B,YAAY,CAAC;IAAEC,EAAE,EAAE,QAAQ;IAAEE,QAAQ,EAAE;EAAI,CAAE;CACjE,CAAQ;AAaX;;;;AAIA,OAAO,MAAME,gBAAgB,gBAAqBjC,MAAM,CAACkC,SAAS,CAChElC,MAAM,CAACmC,iBAAiB,EACxBnC,MAAM,CAACoC,mBAAmB,EAC1B;EACEC,MAAM,EAAEzC,QAAQ,CAAC0C,cAAc;EAC/BC,MAAM,EAAE3C,QAAQ,CAAC4C;CAClB,CACF;AAQD;;;;;;;AAOA,OAAO,MAAMC,IAAI,gBAASzC,MAAM,CAAC0C,eAAe,CAC9C1C,MAAM,CAAC2C,MAAM,EACb3C,MAAM,CAACoC,mBAAmB,EAC1B;EACEC,MAAM,EAAEA,CAACO,CAAC,EAAEC,CAAC,EAAEC,GAAG,KAChBlD,QAAQ,CAACiB,IAAI,CAAC+B,CAAC,CAAC,CAACG,IAAI,CACnBjD,MAAM,CAACkD,GAAG,CAACpD,QAAQ,CAACqD,UAAU,CAAC,EAC/BnD,MAAM,CAACoD,KAAK,CAAC;IACXC,MAAM,EAAEA,CAAA,KAAMpD,WAAW,CAACqD,IAAI,CAAC,IAAIrD,WAAW,CAACsD,IAAI,CAACP,GAAG,EAAEF,CAAC,CAAC,CAAC;IAC5DU,MAAM,EAAGC,EAAE,IAAKxD,WAAW,CAACyD,OAAO,CAACD,EAAE;GACvC,CAAC,CACH;EACHhB,MAAM,EAAGgB,EAAE,IAAKxD,WAAW,CAACyD,OAAO,CAAC5D,QAAQ,CAAC6D,aAAa,CAACF,EAAE,CAAC;CAC/D,CACF;AAED;;;;AAIA,OAAO,MAAMG,WAAW,gBAAG/D,aAAa,CAACgE,YAAY,CAAClB,IAAI,EAAEzC,MAAM,CAACoC,mBAAmB,EAAE;EACtFwB,QAAQ,eAAE9D,MAAM,CAACoD,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAMtD,MAAM,CAACmD,GAAG,CAACpD,QAAQ,CAACiE,GAAG,EAAEjE,QAAQ,CAACqD,UAAU,CAAC;IAC3DK,MAAM,EAAGC,EAAE,IAAK1D,MAAM,CAAC2D,OAAO,CAAC5D,QAAQ,CAACqD,UAAU,CAACM,EAAE,CAAC;GACvD;CACF,CAAC;AAEF;;;;AAIA,OAAO,MAAMO,eAAe,gBAAGnE,aAAa,CAACgE,YAAY,CAAC3D,MAAM,CAAC2C,MAAM,EAAE3C,MAAM,CAACoC,mBAAmB,EAAE;EACnGwB,QAAQ,eAAE9D,MAAM,CAACoD,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAMtD,MAAM,CAACmD,GAAG,CAACpD,QAAQ,CAACiE,GAAG,EAAEjE,QAAQ,CAACmE,SAAS,CAAC;IAC1DT,MAAM,EAAGC,EAAE,IAAK1D,MAAM,CAAC2D,OAAO,CAAC5D,QAAQ,CAACmE,SAAS,CAACR,EAAE,CAAC;GACtD;CACF,CAAC;AAEF;;;;AAIA,OAAO,MAAMS,uBAAuB,gBAAGrE,aAAa,CAACgE,YAAY,CAAC3D,MAAM,CAACiE,YAAY,EAAEjE,MAAM,CAACoC,mBAAmB,EAAE;EACjHwB,QAAQ,eAAE9D,MAAM,CAACoD,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAMtD,MAAM,CAACmD,GAAG,CAACpD,QAAQ,CAACiE,GAAG,EAAEjE,QAAQ,CAAC4C,SAAS,CAAC;IAC1Dc,MAAM,EAAGC,EAAE,IAAK1D,MAAM,CAAC2D,OAAO,CAAC5D,QAAQ,CAAC4C,SAAS,CAACe,EAAE,CAAC;GACtD;CACF,CAAC;AAEF;;;;AAIA,OAAO,MAAMW,yBAAyB,gBAAGvE,aAAa,CAACgE,YAAY,CAAC3D,MAAM,CAACmE,MAAM,EAAEnE,MAAM,CAACoC,mBAAmB,EAAE;EAC7GwB,QAAQ,eAAE9D,MAAM,CAACoD,KAAK,CAAC;IACrBC,MAAM,EAAEA,CAAA,KAAMtD,MAAM,CAACmD,GAAG,CAACpD,QAAQ,CAACiE,GAAG,EAAEjE,QAAQ,CAACwE,aAAa,CAAC;IAC9Dd,MAAM,EAAGC,EAAE,IAAK1D,MAAM,CAAC2D,OAAO,CAAC5D,QAAQ,CAACwE,aAAa,CAACb,EAAE,CAAC;GAC1D;CACF,CAAC;AAcF;;;;;;;;;AASA,OAAO,MAAMc,cAAc,gBAAmBhE,KAAK,CAAC;EAClDe,MAAM,EAAEpB,MAAM,CAACsE,WAAW;EAC1B9C,MAAM,EAAEsC,eAAe;EACvBxC,IAAI,EAAEtB,MAAM,CAACsE;CACd,CAAC;AAcF;;;;;;;;;AASA,OAAO,MAAMC,sBAAsB,gBAA2BlE,KAAK,CAAC;EAClEe,MAAM,EAAEa,gBAAgB;EACxBT,MAAM,EAAEwC,uBAAuB;EAC/B1C,IAAI,EAAEtB,MAAM,CAACsE;CACd,CAAC;AAcF;;;;;;;;;AASA,OAAO,MAAME,wBAAwB,gBAA6BnE,KAAK,CAAC;EACtEe,MAAM,EAAEpB,MAAM,CAACyE,qBAAqB;EACpCjD,MAAM,EAAE0C,yBAAyB;EACjC5C,IAAI,EAAEtB,MAAM,CAACyE;CACd,CAAC;AAeF;;;;;;;;;;AAUA,OAAO,MAAMC,cAAc,gBAAmBrE,KAAK,CAAC;EAClDe,MAAM,EAAEpB,MAAM,CAACsE,WAAW;EAC1B9C,MAAM,EAAEsC,eAAe;EACvBzC,MAAM,EAAEyC,eAAe;EACvBxC,IAAI,EAAEtB,MAAM,CAACsE;CACd,CAAC;AAeF;;;;;;;;;;AAUA,OAAO,MAAMK,sBAAsB,gBAA2BtE,KAAK,CAAC;EAClEe,MAAM,EAAEa,gBAAgB;EACxBT,MAAM,EAAEwC,uBAAuB;EAC/B3C,MAAM,EAAE2C,uBAAuB;EAC/B1C,IAAI,EAAEtB,MAAM,CAACsE;CACd,CAAC;AAeF;;;;;;;;;;AAUA,OAAO,MAAMM,wBAAwB,gBAA6BvE,KAAK,CAAC;EACtEe,MAAM,EAAEpB,MAAM,CAACyE,qBAAqB;EACpCjD,MAAM,EAAE0C,yBAAyB;EACjC7C,MAAM,EAAE6C,yBAAyB;EACjC5C,IAAI,EAAEtB,MAAM,CAACyE;CACd,CAAC;AAkBF;;;;;;;;AAQA,OAAO,MAAMI,cAAc,GACzB1D,MAAS,IACY;EACrB,MAAM2D,MAAM,GAAG9E,MAAM,CAAC+E,SAAS,CAAC5D,MAAa,CAAC;EAC9C,OAAOd,KAAK,CAAC;IACXe,MAAM,EAAE0D,MAAM;IACdtD,MAAM,EAAEsD,MAAM;IACdzD,MAAM,EAAEyD,MAAM;IACdxD,IAAI,EAAEH,MAAM;IACZW,UAAU,EAAEX,MAAM;IAClBa,UAAU,EAAEb;GACb,CAAQ;AACX,CAAC;AAED;;;;;;AAMA,OAAO,MAAM6D,cAAc,GAAGA,CAG5BC,KAAQ,EAAEC,OAKX,KAwBCrF,MAAM,CAACsF,GAAG,CAAC,aAAS;EAClB,MAAMC,GAAG,GAAG,OAAOnF,SAAS;EAC5B,MAAMoF,QAAQ,GAAGJ,KAAK,CAACjE,MAAM,CAACkE,OAAO,CAACI,QAAQ,CAAsB;EACpE,MAAMA,QAAQ,GAAGJ,OAAO,CAACI,QAAkB;EAC3C,MAAMC,aAAa,GAAGL,OAAO,CAACK,aAAa;EAE3C,MAAMC,YAAY,GAAGrF,SAAS,CAACsF,MAAM,CAAC;IACpCC,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBmE,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAGC,OAAO,IACfT,GAAG,CAACU,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLX,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;gBAC3DT,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACE,QAAQ,CAAC,sBAAsB,CAACW,UAAU,CAAClD,IAAI,CACrFlD,MAAM,CAACmD,GAAG,CAAC,CAAC,GAAGkD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KAAMf,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC,CAACO,SAAS,CAAC,GAAG,CAAC;KAC7F;GACJ,CAAC;EACF,MAAM5E,MAAM,GACVA,MAA2B,IAE3BgE,YAAY,CAAChE,MAAM,CAAC,CAACuB,IAAI,CACvBlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMkF,gBAAgB,GAAGvG,SAAS,CAACwG,IAAI,CAAC;IACtCjB,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBoE,OAAO,EAAGC,OAAO,IAAKT,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;GACtF,CAAC;EACF,MAAMe,UAAU,GACdpF,MAA2B,IAE3BkF,gBAAgB,CAAClF,MAAM,CAAC,CAACuB,IAAI,CAC3BlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMqF,YAAY,GAAG1G,SAAS,CAACsF,MAAM,CAAC;IACpCC,OAAO,EAAET,KAAK,CAAC5D,MAAM;IACrBsE,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAEL,aAAa,GACnBM,OAAO,IACNT,GAAG,CAACU,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLX,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUF,GAAG,CAACE,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB,QAAQF,GAAG,CAACG,aAAa,CAAC,MAAMM,OAAO,CAACN,aAAa,CAAC;gBACpDH,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACE,QAAQ,CAAC,MAAMO,OAAO,CAACP,QAAQ,CAAC,GAAG,CAACW,UAAU,CAAClD,IAAI,CACvFlD,MAAM,CAACmD,GAAG,CAAC,CAAC,GAAGkD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KACNf,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUF,GAAG,CAACE,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB,QAAQF,GAAG,CAACG,aAAa,CAAC,MAAMM,OAAO,CAACN,aAAa,CAAC;KACzD,CAAC,GACHM,OAAO,IACNT,GAAG,CAACU,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLX,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUF,GAAG,CAACE,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB;gBACEF,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACE,QAAQ,CAAC,MAAMO,OAAO,CAACP,QAAQ,CAAC,GAAG,CAACW,UAAU,CAAClD,IAAI,CACvFlD,MAAM,CAACmD,GAAG,CAAC,CAAC,GAAGkD,OAAO,CAAC,KAAKA,OAAc,CAAC,CAC5C;MACHC,MAAM,EAAEA,CAAA,KACNf,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUF,GAAG,CAACE,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB;KACH;GACN,CAAC;EACF,MAAMjE,MAAM,GACVA,MAA2B,IAE3BwF,YAAY,CAACxF,MAAM,CAAC,CAAC0B,IAAI,CACvBlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEpF;IAAM;GACrB,CAAC,CACI;EAEV,MAAMyF,gBAAgB,GAAG3G,SAAS,CAACwG,IAAI,CAAC;IACtCjB,OAAO,EAAET,KAAK,CAAC5D,MAAM;IACrBuE,OAAO,EAAEL,aAAa,GACnBM,OAAO,IACNT,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUF,GAAG,CAACE,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB,QAAQF,GAAG,CAACG,aAAa,CAAC,MAAMM,OAAO,CAACN,aAAa,CAAC,EAAE,GACvDM,OAAO,IACRT,GAAG,UAAUA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,QAAQZ,GAAG,CAAC/D,MAAM,CAACwE,OAAO,EAAE,CAACP,QAAQ,CAAC,CAAC,UAAUF,GAAG,CAACE,QAAQ,CAAC,MAC/FO,OAAO,CAACP,QAAQ,CAClB;GACL,CAAC;EACF,MAAMyB,UAAU,GACd1F,MAA2B,IAE3ByF,gBAAgB,CAACzF,MAAM,CAAC,CAAC0B,IAAI,CAC3BlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEpF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM2F,cAAc,GAAG7G,SAAS,CAAC8G,OAAO,CAAC;IACvCvB,OAAO,EAAEL,QAAQ;IACjBM,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAGsB,EAAE,IAAK9B,GAAG,iBAAiBA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACE,QAAQ,CAAC,MAAM4B,EAAE;GAC3F,CAAC;EACF,MAAMC,QAAQ,GACZD,EAAuC,IAEvCF,cAAc,CAACE,EAAE,CAAC,CAACnE,IAAI,CACrBlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,WAAW,EAAE;IAChDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,MAAME,YAAY,GAAGjH,SAAS,CAACwG,IAAI,CAAC;IAClCjB,OAAO,EAAEL,QAAQ;IACjBO,OAAO,EAAGsB,EAAE,IAAK9B,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACE,QAAQ,CAAC,MAAM4B,EAAE;GACzF,CAAC;EACF,MAAMG,OAAO,GACXH,EAAuC,IAEvCE,YAAY,CAACF,EAAE,CAAC,CAACnE,IAAI,CACnBlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,OAAO;IAAE1F,MAAM;IAAEoF,UAAU;IAAEvF,MAAM;IAAE0F,UAAU;IAAEI,QAAQ;IAAEG,MAAM,EAAED;EAAO,CAAW;AACvF,CAAC,CAAC;AAEJ;;;;;;AAMA,OAAO,MAAME,eAAe,GAAGA,CAI7BtC,KAAQ,EACRC,OAMC,KAWDrF,MAAM,CAACsF,GAAG,CAAC,aAAS;EAClB,MAAMC,GAAG,GAAG,OAAOnF,SAAS;EAC5B,MAAMoF,QAAQ,GAAGJ,KAAK,CAACjE,MAAM,CAACkE,OAAO,CAACI,QAAQ,CAAsB;EACpE,MAAMA,QAAQ,GAAGJ,OAAO,CAACI,QAAkB;EAE3C,MAAMkC,cAAc,GAAG,OAAOtH,WAAW,CAACuH,OAAO,CAAC,GAAGvC,OAAO,CAACqB,UAAU,SAAS,EAAE;IAChFb,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBmE,MAAM,EAAEV,KAAK;IACbW,OAAO,EAAGC,OAAO,IACfT,GAAG,CAACU,eAAe,CAAC;MAClBC,KAAK,EAAEA,CAAA,KACLlG,MAAM,CAAC6H,OAAO,CAAC7B,OAAO,EAAGA,OAAO,IAC9BT,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;gBAC7DT,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACE,QAAQ,CAAC,sBAAsB,CAACW,UAAU,CAAClD,IAAI,CACnFlD,MAAM,CAACmD,GAAG,CAAC,CAAC,GAAGkD,OAAO,CAAC,KAAKA,OAAO,CAAC,CAAC,CAAQ,CAAC,CAC/C,EAAE;QAAEyB,WAAW,EAAE;MAAE,CAAE,CAAC;MAC3BxB,MAAM,EAAEA,CAAA,KAAMf,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC,CAACO,SAAS,CAAC,GAAG,CAAC;KAC7F;GACJ,CAAC;EACF,MAAMwB,YAAY,GAAG,OAAOlI,GAAG,CAACmI,UAAU,CAACL,cAAc,EAAE;IACzDM,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMC,aAAa,GAAGR,cAAc,CAACS,WAAW,CAACL,YAAY,CAAC;EAC9D,MAAMpG,MAAM,GACVA,MAA2B,IAE3BwG,aAAa,CAACxG,MAAM,CAAC,CAACuB,IAAI,CACxBlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM0G,kBAAkB,GAAG,OAAOhI,WAAW,CAACyG,IAAI,CAAC,GAAGzB,OAAO,CAACqB,UAAU,aAAa,EAAE;IACrFb,OAAO,EAAET,KAAK,CAACzD,MAAM;IACrBoE,OAAO,EAAGC,OAAO,IAAKT,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,IAAIZ,GAAG,CAAC5D,MAAM,CAACqE,OAAO,CAAC;GACtF,CAAC;EACF,MAAMsC,gBAAgB,GAAG,OAAOzI,GAAG,CAACmI,UAAU,CAACK,kBAAkB,EAAE;IACjEJ,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMK,iBAAiB,GAAGF,kBAAkB,CAACD,WAAW,CAACE,gBAAgB,CAAC;EAC1E,MAAMvB,UAAU,GACdpF,MAA2B,IAE3B4G,iBAAiB,CAAC5G,MAAM,CAAC,CAACuB,IAAI,CAC5BlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,aAAa,EAAE;IAClDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAEjF;IAAM;GACrB,CAAC,CACI;EAEV,MAAM6G,gBAAgB,GAAG,OAAOnI,WAAW,CAACiH,QAAQ,CAAC,GAAGjC,OAAO,CAACqB,UAAU,WAAW,EAAE;IACrF+B,EAAE,EAAEjD,QAAQ;IACZM,MAAM,EAAEV,KAAK;IACbsD,QAAQA,CAAC1C,OAAO;MACd,OAAOA,OAAO,CAACP,QAAQ,CAAC;IAC1B,CAAC;IACDM,OAAO,EAAG4C,GAAG,IAAKpD,GAAG,iBAAiBA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACqD,EAAE,CAACnD,QAAQ,EAAEkD,GAAG,CAAC;GAC5F,CAAC;EACF,MAAME,cAAc,GAAG,OAAOhJ,GAAG,CAACmI,UAAU,CAACQ,gBAAgB,EAAE;IAC7DP,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMY,eAAe,GAAGN,gBAAgB,CAACJ,WAAW,CAACS,cAAc,CAAC;EACpE,MAAMvB,QAAQ,GAAID,EAAuC,IACvDyB,eAAe,CAACzB,EAAE,CAAC,CAACnE,IAAI,CACtBlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,WAAW,EAAE;IAChDC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,MAAM0B,cAAc,GAAG,OAAO1I,WAAW,CAACyG,IAAI,CAAC,GAAGzB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC7Eb,OAAO,EAAEL,QAAQ;IACjBO,OAAO,EAAG4C,GAAG,IAAKpD,GAAG,eAAeA,GAAG,CAACF,OAAO,CAACc,SAAS,CAAC,UAAUZ,GAAG,CAACqD,EAAE,CAACnD,QAAQ,EAAEkD,GAAG,CAAC;GAC1F,CAAC;EACF,MAAMK,YAAY,GAAG,OAAOnJ,GAAG,CAACmI,UAAU,CAACe,cAAc,EAAE;IACzDd,MAAM,EAAE5C,OAAO,CAAC4C,MAAM;IACtBC,YAAY,EAAE7C,OAAO,CAAC6C;GACvB,CAAC;EACF,MAAMe,aAAa,GAAGF,cAAc,CAACX,WAAW,CAACY,YAAY,CAAC;EAC9D,MAAMxB,OAAO,GAAIH,EAAuC,IACtD4B,aAAa,CAAC5B,EAAE,CAAC,CAACnE,IAAI,CACpBlD,MAAM,CAACwG,KAAK,EACZxG,MAAM,CAACyG,QAAQ,CAAC,GAAGpB,OAAO,CAACqB,UAAU,SAAS,EAAE;IAC9CC,iBAAiB,EAAE,KAAK;IACxBC,UAAU,EAAE;MAAES;IAAE;GACjB,CAAC,CACI;EAEV,OAAO;IAAE1F,MAAM;IAAEoF,UAAU;IAAEO,QAAQ;IAAEG,MAAM,EAAED;EAAO,CAAW;AACnE,CAAC,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/SqlClient.js.map b/dist/esm/SqlClient.js.map
index c5dae9bf547eeccd0d554c36f73376a740ec09d9..c5f6221b5cce1ab077421cf2036f33a4e2c63582 100644
--- a/dist/esm/SqlClient.js.map
+++ b/dist/esm/SqlClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"SqlClient.js","names":["internal","TypeId","SqlClient","clientTag","make","makeWithTransaction","TransactionConnection"],"sources":["../../src/SqlClient.ts"],"sourcesContent":[null],"mappings":"AAOA,OAAO,KAAKA,QAAQ,MAAM,sBAAsB;AAKhD;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBD,QAAQ,CAACC,MAAM;AA8BpD;;;;AAIA,OAAO,MAAMC,SAAS,GAA8BF,QAAQ,CAACG,SAAS;AAwBtE;;;;AAIA,OAAO,MAAMC,IAAI,GAQwBJ,QAAQ,CAACI,IAAI;AAEtD;;;;AAIA,OAAO,MAAMC,mBAAmB,GAWwCL,QAAQ,CAACK,mBAAmB;AASpG;;;AAGA,OAAO,MAAMC,qBAAqB,GAChCN,QAAQ,CAACM,qBAAqB","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"SqlClient.js","names":["internal","TypeId","SqlClient","clientTag","make","makeWithTransaction","TransactionConnection"],"sources":["../../src/SqlClient.ts"],"sourcesContent":[null],"mappings":"AAWA,OAAO,KAAKA,QAAQ,MAAM,sBAAsB;AAKhD;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBD,QAAQ,CAACC,MAAM;AAoDpD;;;;AAIA,OAAO,MAAMC,SAAS,GAA8BF,QAAQ,CAACG,SAAS;AA6BtE;;;;AAIA,OAAO,MAAMC,IAAI,GAA6EJ,QAAQ,CAACI,IAAI;AAE3G;;;;AAIA,OAAO,MAAMC,mBAAmB,GAWwCL,QAAQ,CAACK,mBAAmB;AASpG;;;AAGA,OAAO,MAAMC,qBAAqB,GAChCN,QAAQ,CAACM,qBAAqB","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/SqlConnection.js.map b/dist/esm/SqlConnection.js.map
index 759bf2ba66869da2714d82b1efb9bd721db8de68..80cc9d0fc9251f1fe3d6c4e324ceba7929b475f0 100644
--- a/dist/esm/SqlConnection.js.map
+++ b/dist/esm/SqlConnection.js.map
@@ -1 +1 @@
-{"version":3,"file":"SqlConnection.js","names":["Context","Connection","GenericTag"],"sources":["../../src/SqlConnection.ts"],"sourcesContent":[null],"mappings":"AAAA;;;AAGA,OAAO,KAAKA,OAAO,MAAM,gBAAgB;AA0DzC;;;;AAIA,OAAO,MAAMC,UAAU,gBAAGD,OAAO,CAACE,UAAU,CAAa,sBAAsB,CAAC","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"SqlConnection.js","names":["Context","Connection","GenericTag"],"sources":["../../src/SqlConnection.ts"],"sourcesContent":[null],"mappings":"AAAA;;;AAGA,OAAO,KAAKA,OAAO,MAAM,gBAAgB;AAwDzC;;;;AAIA,OAAO,MAAMC,UAAU,gBAAGD,OAAO,CAACE,UAAU,CAAa,sBAAsB,CAAC","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/Statement.js.map b/dist/esm/Statement.js.map
index ecd4944b72aa3a7e45b1c10e9377a5ed4936fec8..bbce21f52f45e55b882a75ad8af078d7ab34e2e9 100644
--- a/dist/esm/Statement.js.map
+++ b/dist/esm/Statement.js.map
@@ -1 +1 @@
-{"version":3,"file":"Statement.js","names":["internal","FragmentId","currentTransformer","withTransformer","withTransformerDisabled","setTransformer","isFragment","isCustom","custom","make","unsafeFragment","and","or","csv","join","makeCompiler","makeCompilerSqlite","defaultEscape","primitiveKind","defaultTransforms"],"sources":["../../src/Statement.ts"],"sourcesContent":[null],"mappings":"AAWA,OAAO,KAAKA,QAAQ,MAAM,yBAAyB;AAInD;;;;AAIA,OAAO,MAAMC,UAAU,GAAkBD,QAAQ,CAACC,UAAU;AAwD5D;;;;AAIA,OAAO,MAAMC,kBAAkB,GAA4DF,QAAQ,CAACE,kBAAkB;AAEtH;;;;AAIA,OAAO,MAAMC,eAAe,GAWxBH,QAAQ,CAACG,eAAe;AAE5B;;;;AAIA,OAAO,MAAMC,uBAAuB,GAClCJ,QAAQ,CAACI,uBAAuB;AAElC;;;;AAIA,OAAO,MAAMC,cAAc,GAAmEL,QAAQ,CAACK,cAAc;AAErH;;;;AAIA,OAAO,MAAMC,UAAU,GAAkCN,QAAQ,CAACM,UAAU;AAE5E;;;;AAIA,OAAO,MAAMC,QAAQ,GAESP,QAAQ,CAACO,QAAQ;AA4G/C;;;;AAIA,OAAO,MAAMC,MAAM,GAEwCR,QAAQ,CAACQ,MAAM;AA8I1E;;;;AAIA,OAAO,MAAMC,IAAI,GAIET,QAAQ,CAACS,IAAI;AAEhC;;;;AAIA,OAAO,MAAMC,cAAc,GAGXV,QAAQ,CAACU,cAAc;AAEvC;;;;AAIA,OAAO,MAAMC,GAAG,GAA4DX,QAAQ,CAACW,GAAG;AAExF;;;;AAIA,OAAO,MAAMC,EAAE,GAA4DZ,QAAQ,CAACY,EAAE;AAEtF;;;;AAIA,OAAO,MAAMC,GAAG,GAWZb,QAAQ,CAACa,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAI8Cd,QAAQ,CAACc,IAAI;AAc5E;;;;AAIA,OAAO,MAAMC,YAAY,GA6BTf,QAAQ,CAACe,YAAY;AAErC;;;;AAIA,OAAO,MAAMC,kBAAkB,GAC7BhB,QAAQ,CAACgB,kBAAkB;AAE7B;;;AAGA,OAAO,MAAMC,aAAa,GAA2CjB,QAAQ,CAACiB,aAAa;AAE3F;;;AAGA,OAAO,MAAMC,aAAa,GAAwClB,QAAQ,CAACkB,aAAa;AAExF;;;AAGA,OAAO,MAAMC,iBAAiB,GAO1BnB,QAAQ,CAACmB,iBAAiB","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Statement.js","names":["internal","FragmentId","currentTransformer","withTransformer","withTransformerDisabled","setTransformer","isFragment","isCustom","custom","make","unsafeFragment","and","or","csv","join","makeCompiler","makeCompilerSqlite","defaultEscape","primitiveKind","defaultTransforms"],"sources":["../../src/Statement.ts"],"sourcesContent":[null],"mappings":"AAWA,OAAO,KAAKA,QAAQ,MAAM,yBAAyB;AAInD;;;;AAIA,OAAO,MAAMC,UAAU,GAAkBD,QAAQ,CAACC,UAAU;AAwD5D;;;;AAIA,OAAO,MAAMC,kBAAkB,GAA4DF,QAAQ,CAACE,kBAAkB;AAEtH;;;;AAIA,OAAO,MAAMC,eAAe,GAWxBH,QAAQ,CAACG,eAAe;AAE5B;;;;AAIA,OAAO,MAAMC,uBAAuB,GAClCJ,QAAQ,CAACI,uBAAuB;AAElC;;;;AAIA,OAAO,MAAMC,cAAc,GAAmEL,QAAQ,CAACK,cAAc;AAErH;;;;AAIA,OAAO,MAAMC,UAAU,GAAkCN,QAAQ,CAACM,UAAU;AAE5E;;;;AAIA,OAAO,MAAMC,QAAQ,GAESP,QAAQ,CAACO,QAAQ;AA4G/C;;;;AAIA,OAAO,MAAMC,MAAM,GAEwCR,QAAQ,CAACQ,MAAM;AA8I1E;;;;AAIA,OAAO,MAAMC,IAAI,GAKET,QAAQ,CAACS,IAAI;AAEhC;;;;AAIA,OAAO,MAAMC,cAAc,GAGXV,QAAQ,CAACU,cAAc;AAEvC;;;;AAIA,OAAO,MAAMC,GAAG,GAA4DX,QAAQ,CAACW,GAAG;AAExF;;;;AAIA,OAAO,MAAMC,EAAE,GAA4DZ,QAAQ,CAACY,EAAE;AAEtF;;;;AAIA,OAAO,MAAMC,GAAG,GAWZb,QAAQ,CAACa,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAI8Cd,QAAQ,CAACc,IAAI;AAe5E;;;;AAIA,OAAO,MAAMC,YAAY,GA6BTf,QAAQ,CAACe,YAAY;AAErC;;;;AAIA,OAAO,MAAMC,kBAAkB,GAC7BhB,QAAQ,CAACgB,kBAAkB;AAE7B;;;AAGA,OAAO,MAAMC,aAAa,GAA2CjB,QAAQ,CAACiB,aAAa;AAE3F;;;AAGA,OAAO,MAAMC,aAAa,GAAwClB,QAAQ,CAACkB,aAAa;AAExF;;;AAGA,OAAO,MAAMC,iBAAiB,GAO1BnB,QAAQ,CAACmB,iBAAiB","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/client.js b/dist/esm/internal/client.js
index dfa44243c274e30bdea58bbaa3fb674f4c132c07..696b8966447e3c276199549c5adb97c8bd1a2359 100644
--- a/dist/esm/internal/client.js
+++ b/dist/esm/internal/client.js
@@ -1,10 +1,13 @@
+import * as Reactivity from "@effect/experimental/Reactivity";
 import * as Clock from "effect/Clock";
 import * as Context from "effect/Context";
 import * as Effect from "effect/Effect";
 import * as Exit from "effect/Exit";
 import * as FiberRef from "effect/FiberRef";
+import * as Mailbox from "effect/Mailbox";
 import * as Option from "effect/Option";
 import * as Scope from "effect/Scope";
+import * as Stream from "effect/Stream";
 import * as Tracer from "effect/Tracer";
 import * as Statement from "../Statement.js";
 /** @internal */
@@ -19,35 +22,55 @@ export function make({
   beginTransaction = "BEGIN",
   commit = "COMMIT",
   compiler,
+  reactiveMailbox,
   rollback = "ROLLBACK",
   rollbackSavepoint = id => `ROLLBACK TO SAVEPOINT ${id}`,
   savepoint = id => `SAVEPOINT ${id}`,
   spanAttributes,
-  transactionAcquirer
+  transactionAcquirer,
+  transformRows
 }) {
-  const getConnection = Effect.flatMap(Effect.serviceOption(TransactionConnection), Option.match({
-    onNone: () => acquirer,
-    onSome: ([conn]) => Effect.succeed(conn)
-  }));
-  transactionAcquirer = transactionAcquirer ?? acquirer;
-  const withTransaction = makeWithTransaction({
-    transactionTag: TransactionConnection,
-    spanAttributes,
-    acquireConnection: Effect.flatMap(Scope.make(), scope => Effect.map(Scope.extend(transactionAcquirer, scope), conn => [scope, conn])),
-    begin: conn => conn.executeUnprepared(beginTransaction),
-    savepoint: (conn, id) => conn.executeUnprepared(savepoint(`effect_sql_${id}`)),
-    commit: conn => conn.executeUnprepared(commit),
-    rollback: conn => conn.executeUnprepared(rollback),
-    rollbackSavepoint: (conn, id) => conn.executeUnprepared(rollbackSavepoint(`effect_sql_${id}`))
+  return Effect.gen(function* () {
+    const getConnection = Effect.flatMap(Effect.serviceOption(TransactionConnection), Option.match({
+      onNone: () => acquirer,
+      onSome: ([conn]) => Effect.succeed(conn)
+    }));
+    transactionAcquirer = transactionAcquirer ?? acquirer;
+    const withTransaction = makeWithTransaction({
+      transactionTag: TransactionConnection,
+      spanAttributes,
+      acquireConnection: Effect.flatMap(Scope.make(), scope => Effect.map(Scope.extend(transactionAcquirer, scope), conn => [scope, conn])),
+      begin: conn => conn.executeUnprepared(beginTransaction, [], undefined),
+      savepoint: (conn, id) => conn.executeUnprepared(savepoint(`effect_sql_${id}`), [], undefined),
+      commit: conn => conn.executeUnprepared(commit, [], undefined),
+      rollback: conn => conn.executeUnprepared(rollback, [], undefined),
+      rollbackSavepoint: (conn, id) => conn.executeUnprepared(rollbackSavepoint(`effect_sql_${id}`), [], undefined)
+    });
+    const reactivity = yield* Reactivity.Reactivity;
+    const client = Object.assign(Statement.make(getConnection, compiler, spanAttributes, transformRows), {
+      [TypeId]: TypeId,
+      safe: undefined,
+      withTransaction,
+      reserve: transactionAcquirer,
+      withoutTransforms() {
+        if (transformRows === undefined) {
+          return this;
+        }
+        const statement = Statement.make(getConnection, compiler.withoutTransform, spanAttributes, undefined);
+        const client = Object.assign(statement, {
+          ...this,
+          ...statement
+        });
+        client.safe = client;
+        client.withoutTransforms = () => client;
+        return client;
+      },
+      reactive: reactiveMailbox ? (keys, effect) => reactiveMailbox(keys, effect).pipe(Effect.map(Mailbox.toStream), Stream.unwrapScoped) : reactivity.stream,
+      reactiveMailbox: reactiveMailbox ?? reactivity.query
+    });
+    client.safe = client;
+    return client;
   });
-  const client = Object.assign(Statement.make(getConnection, compiler, spanAttributes), {
-    [TypeId]: TypeId,
-    safe: undefined,
-    withTransaction,
-    reserve: transactionAcquirer
-  });
-  client.safe = client;
-  return client;
 }
 /** @internal */
 export const makeWithTransaction = options => effect => Effect.uninterruptibleMask(restore => Effect.useSpan("sql.transaction", {
diff --git a/dist/esm/internal/client.js.map b/dist/esm/internal/client.js.map
index a9e553fc7591325b00160e144460293456093aca..14b871d13d4fb50ddcf90a200449559d5021723f 100644
--- a/dist/esm/internal/client.js.map
+++ b/dist/esm/internal/client.js.map
@@ -1 +1 @@
-{"version":3,"file":"client.js","names":["Clock","Context","Effect","Exit","FiberRef","Option","Scope","Tracer","Statement","TypeId","Symbol","for","clientTag","GenericTag","TransactionConnection","make","acquirer","beginTransaction","commit","compiler","rollback","rollbackSavepoint","id","savepoint","spanAttributes","transactionAcquirer","getConnection","flatMap","serviceOption","match","onNone","onSome","conn","succeed","withTransaction","makeWithTransaction","transactionTag","acquireConnection","scope","map","extend","begin","executeUnprepared","client","Object","assign","safe","undefined","reserve","options","effect","uninterruptibleMask","restore","useSpan","kind","captureStackTrace","span","withFiberRuntime","fiber","key","value","attribute","context","currentContext","clock","get","currentDefaultServices","connOption","getOption","_tag","pipe","zipRight","locally","add","ParentSpan","exit","isSuccess","event","unsafeCurrentTimeNanos","orDie","void","withScope","ensuring","close"],"sources":["../../../src/internal/client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"client.js","names":["Reactivity","Clock","Context","Effect","Exit","FiberRef","Mailbox","Option","Scope","Stream","Tracer","Statement","TypeId","Symbol","for","clientTag","GenericTag","TransactionConnection","make","acquirer","beginTransaction","commit","compiler","reactiveMailbox","rollback","rollbackSavepoint","id","savepoint","spanAttributes","transactionAcquirer","transformRows","gen","getConnection","flatMap","serviceOption","match","onNone","onSome","conn","succeed","withTransaction","makeWithTransaction","transactionTag","acquireConnection","scope","map","extend","begin","executeUnprepared","undefined","reactivity","client","Object","assign","safe","reserve","withoutTransforms","statement","withoutTransform","reactive","keys","effect","pipe","toStream","unwrapScoped","stream","query","options","uninterruptibleMask","restore","useSpan","kind","captureStackTrace","span","withFiberRuntime","fiber","key","value","attribute","context","currentContext","clock","get","currentDefaultServices","connOption","getOption","_tag","zipRight","locally","add","ParentSpan","exit","isSuccess","event","unsafeCurrentTimeNanos","orDie","void","withScope","ensuring","close"],"sources":["../../../src/internal/client.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,UAAU,MAAM,iCAAiC;AAC7D,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,OAAO,MAAM,gBAAgB;AACzC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,IAAI,MAAM,aAAa;AACnC,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,OAAO,KAAKC,OAAO,MAAM,gBAAgB;AACzC,OAAO,KAAKC,MAAM,MAAM,eAAe;AAEvC,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,MAAM,MAAM,eAAe;AAKvC,OAAO,KAAKC,SAAS,MAAM,iBAAiB;AAE5C;AACA,OAAO,MAAMC,MAAM,gBAAkBC,MAAM,CAACC,GAAG,CAAC,uBAAuB,CAAkB;AAEzF;AACA,OAAO,MAAMC,SAAS,gBAAGb,OAAO,CAACc,UAAU,CAAmB,uBAAuB,CAAC;AAEtF;AACA,OAAO,MAAMC,qBAAqB,gBAAGf,OAAO,CAACc,UAAU,CAGrD,6CAA6C,CAAC;AAEhD;AACA,OAAM,SAAUE,IAAIA,CAAC;EACnBC,QAAQ;EACRC,gBAAgB,GAAG,OAAO;EAC1BC,MAAM,GAAG,QAAQ;EACjBC,QAAQ;EACRC,eAAe;EACfC,QAAQ,GAAG,UAAU;EACrBC,iBAAiB,GAAIC,EAAE,IAAK,yBAAyBA,EAAE,EAAE;EACzDC,SAAS,GAAID,EAAE,IAAK,aAAaA,EAAE,EAAE;EACrCE,cAAc;EACdC,mBAAmB;EACnBC;AAAa,CACgB;EAC7B,OAAO3B,MAAM,CAAC4B,GAAG,CAAC,aAAS;IACzB,MAAMC,aAAa,GAAG7B,MAAM,CAAC8B,OAAO,CAClC9B,MAAM,CAAC+B,aAAa,CAACjB,qBAAqB,CAAC,EAC3CV,MAAM,CAAC4B,KAAK,CAAC;MACXC,MAAM,EAAEA,CAAA,KAAMjB,QAAQ;MACtBkB,MAAM,EAAEA,CAAC,CAACC,IAAI,CAAC,KAAKnC,MAAM,CAACoC,OAAO,CAACD,IAAI;KACxC,CAAC,CACH;IAEDT,mBAAmB,GAAGA,mBAAmB,IAAIV,QAAQ;IACrD,MAAMqB,eAAe,GAAGC,mBAAmB,CAAC;MAC1CC,cAAc,EAAEzB,qBAAqB;MACrCW,cAAc;MACde,iBAAiB,EAAExC,MAAM,CAAC8B,OAAO,CAC/BzB,KAAK,CAACU,IAAI,EAAE,EACX0B,KAAK,IAAKzC,MAAM,CAAC0C,GAAG,CAACrC,KAAK,CAACsC,MAAM,CAACjB,mBAAoB,EAAEe,KAAK,CAAC,EAAGN,IAAI,IAAK,CAACM,KAAK,EAAEN,IAAI,CAAU,CAAC,CACnG;MACDS,KAAK,EAAGT,IAAI,IAAKA,IAAI,CAACU,iBAAiB,CAAC5B,gBAAgB,EAAE,EAAE,EAAE6B,SAAS,CAAC;MACxEtB,SAAS,EAAEA,CAACW,IAAI,EAAEZ,EAAE,KAAKY,IAAI,CAACU,iBAAiB,CAACrB,SAAS,CAAC,cAAcD,EAAE,EAAE,CAAC,EAAE,EAAE,EAAEuB,SAAS,CAAC;MAC7F5B,MAAM,EAAGiB,IAAI,IAAKA,IAAI,CAACU,iBAAiB,CAAC3B,MAAM,EAAE,EAAE,EAAE4B,SAAS,CAAC;MAC/DzB,QAAQ,EAAGc,IAAI,IAAKA,IAAI,CAACU,iBAAiB,CAACxB,QAAQ,EAAE,EAAE,EAAEyB,SAAS,CAAC;MACnExB,iBAAiB,EAAEA,CAACa,IAAI,EAAEZ,EAAE,KAAKY,IAAI,CAACU,iBAAiB,CAACvB,iBAAiB,CAAC,cAAcC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAEuB,SAAS;KAC7G,CAAC;IAEF,MAAMC,UAAU,GAAG,OAAOlD,UAAU,CAACA,UAAU;IAC/C,MAAMmD,MAAM,GAAqBC,MAAM,CAACC,MAAM,CAC5C1C,SAAS,CAACO,IAAI,CAACc,aAAa,EAAEV,QAAQ,EAAEM,cAAc,EAAEE,aAAa,CAAC,EACtE;MACE,CAAClB,MAAuB,GAAGA,MAAuB;MAClD0C,IAAI,EAAEL,SAAgB;MACtBT,eAAe;MACfe,OAAO,EAAE1B,mBAAmB;MAC5B2B,iBAAiBA,CAAA;QACf,IAAI1B,aAAa,KAAKmB,SAAS,EAAE;UAC/B,OAAO,IAAI;QACb;QACA,MAAMQ,SAAS,GAAG9C,SAAS,CAACO,IAAI,CAACc,aAAa,EAAEV,QAAQ,CAACoC,gBAAgB,EAAE9B,cAAc,EAAEqB,SAAS,CAAC;QACrG,MAAME,MAAM,GAAGC,MAAM,CAACC,MAAM,CAACI,SAAS,EAAE;UACtC,GAAG,IAAI;UACP,GAAGA;SACJ,CAAC;QACAN,MAAc,CAACG,IAAI,GAAGH,MAAM;QAC5BA,MAAc,CAACK,iBAAiB,GAAG,MAAML,MAAM;QACjD,OAAOA,MAAM;MACf,CAAC;MACDQ,QAAQ,EAAEpC,eAAe,GACvB,CACEqC,IAA6E,EAC7EC,MAA8B,KAE9BtC,eAAe,CAACqC,IAAI,EAAEC,MAAM,CAAC,CAACC,IAAI,CAChC3D,MAAM,CAAC0C,GAAG,CAACvC,OAAO,CAACyD,QAAQ,CAAC,EAC5BtD,MAAM,CAACuD,YAAY,CACpB,GACHd,UAAU,CAACe,MAAM;MACnB1C,eAAe,EAAEA,eAAe,IAAI2B,UAAU,CAACgB;KAChD,CACF;IACCf,MAAc,CAACG,IAAI,GAAGH,MAAM;IAE9B,OAAOA,MAAM;EACf,CAAC,CAAC;AACJ;AAEA;AACA,OAAO,MAAMV,mBAAmB,GAAU0B,OASzC,IAECN,MAA8B,IAE9B1D,MAAM,CAACiE,mBAAmB,CAAEC,OAAO,IACjClE,MAAM,CAACmE,OAAO,CACZ,iBAAiB,EACjB;EAAEC,IAAI,EAAE,QAAQ;EAAEC,iBAAiB,EAAE;AAAK,CAAE,EAC3CC,IAAI,IACHtE,MAAM,CAACuE,gBAAgB,CAA4BC,KAAK,IAAI;EAC1D,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIV,OAAO,CAACvC,cAAc,EAAE;IACjD6C,IAAI,CAACK,SAAS,CAACF,GAAG,EAAEC,KAAK,CAAC;EAC5B;EACA,MAAME,OAAO,GAAGJ,KAAK,CAACK,cAAc;EACpC,MAAMC,KAAK,GAAG/E,OAAO,CAACgF,GAAG,CAACP,KAAK,CAACQ,sBAAsB,EAAElF,KAAK,CAACA,KAAK,CAAC;EACpE,MAAMmF,UAAU,GAAGlF,OAAO,CAACmF,SAAS,CAACN,OAAO,EAAEZ,OAAO,CAACzB,cAAc,CAAC;EACrE,MAAMJ,IAAI,GAAG8C,UAAU,CAACE,IAAI,KAAK,MAAM,GACnCnF,MAAM,CAACoC,OAAO,CAAC,CAACU,SAAS,EAAEmC,UAAU,CAACP,KAAK,CAAC,CAAC,CAAC,CAAU,CAAC,GACzDV,OAAO,CAACxB,iBAAiB;EAC7B,MAAMjB,EAAE,GAAG0D,UAAU,CAACE,IAAI,KAAK,MAAM,GAAGF,UAAU,CAACP,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;EACnE,OAAO1E,MAAM,CAAC8B,OAAO,CACnBK,IAAI,EACJ,CACE,CAACM,KAAK,EAAEN,IAAI,CAAC,KAEb,CAACZ,EAAE,KAAK,CAAC,GAAGyC,OAAO,CAACpB,KAAK,CAACT,IAAI,CAAC,GAAG6B,OAAO,CAACxC,SAAS,CAACW,IAAI,EAAEZ,EAAE,CAAC,EAAEoC,IAAI,CACjE3D,MAAM,CAACoF,QAAQ,CAACpF,MAAM,CAACqF,OAAO,CAC5BnB,OAAO,CAACR,MAAM,CAAC,EACfxD,QAAQ,CAAC2E,cAAc,EACvB9E,OAAO,CAACuF,GAAG,CAACV,OAAO,EAAEZ,OAAO,CAACzB,cAAc,EAAE,CAACJ,IAAI,EAAEZ,EAAE,CAAC,CAAC,CAACoC,IAAI,CAC3D5D,OAAO,CAACuF,GAAG,CAAC/E,MAAM,CAACgF,UAAU,EAAEjB,IAAI,CAAC,CACrC,CACF,CAAC,EACFtE,MAAM,CAACwF,IAAI,EACXxF,MAAM,CAAC8B,OAAO,CAAE0D,IAAI,IAAI;IACtB,IAAI9B,MAA2B;IAC/B,IAAIzD,IAAI,CAACwF,SAAS,CAACD,IAAI,CAAC,EAAE;MACxB,IAAIjE,EAAE,KAAK,CAAC,EAAE;QACZ+C,IAAI,CAACoB,KAAK,CAAC,uBAAuB,EAAEZ,KAAK,CAACa,sBAAsB,EAAE,CAAC;QACnEjC,MAAM,GAAG1D,MAAM,CAAC4F,KAAK,CAAC5B,OAAO,CAAC9C,MAAM,CAACiB,IAAI,CAAC,CAAC;MAC7C,CAAC,MAAM;QACLmC,IAAI,CAACoB,KAAK,CAAC,0BAA0B,EAAEZ,KAAK,CAACa,sBAAsB,EAAE,CAAC;QACtEjC,MAAM,GAAG1D,MAAM,CAAC6F,IAAI;MACtB;IACF,CAAC,MAAM;MACLvB,IAAI,CAACoB,KAAK,CAAC,yBAAyB,EAAEZ,KAAK,CAACa,sBAAsB,EAAE,CAAC;MACrEjC,MAAM,GAAG1D,MAAM,CAAC4F,KAAK,CACnBrE,EAAE,GAAG,CAAC,GACFyC,OAAO,CAAC1C,iBAAiB,CAACa,IAAI,EAAEZ,EAAE,CAAC,GACnCyC,OAAO,CAAC3C,QAAQ,CAACc,IAAI,CAAC,CAC3B;IACH;IACA,MAAM2D,SAAS,GAAGrD,KAAK,KAAKK,SAAS,GAAG9C,MAAM,CAAC+F,QAAQ,CAACrC,MAAM,EAAErD,KAAK,CAAC2F,KAAK,CAACvD,KAAK,EAAE+C,IAAI,CAAC,CAAC,GAAG9B,MAAM;IAClG,OAAO1D,MAAM,CAACoF,QAAQ,CAACU,SAAS,EAAEN,IAAI,CAAC;EACzC,CAAC,CAAC,CACH,CACJ;AACH,CAAC,CAAC,CACL,CACF","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/statement.js b/dist/esm/internal/statement.js
index 6c48293a8a9d31b6a021ea0114adbab7701c332f..6c33adb9db971a76188088ea3e1ca5622bf5af00 100644
--- a/dist/esm/internal/statement.js
+++ b/dist/esm/internal/statement.js
@@ -29,7 +29,7 @@ const withStatement = (self, span, f) => Effect.withFiberRuntime(fiber => {
   if (transform._tag === "None") {
     return f(self);
   }
-  return Effect.flatMap(transform.value(self, make(self.acquirer, self.compiler), fiber.getFiberRefs(), span), f);
+  return Effect.flatMap(transform.value(self, make(self.acquirer, self.compiler, self.spanAttributes, self.transformRows), fiber.getFiberRefs(), span), f);
 });
 /** @internal */
 export class StatementPrimitive extends Effectable.Class {
@@ -37,15 +37,17 @@ export class StatementPrimitive extends Effectable.Class {
   acquirer;
   compiler;
   spanAttributes;
+  transformRows;
   get [FragmentId]() {
     return identity;
   }
-  constructor(segments, acquirer, compiler, spanAttributes) {
+  constructor(segments, acquirer, compiler, spanAttributes, transformRows) {
     super();
     this.segments = segments;
     this.acquirer = acquirer;
     this.compiler = compiler;
     this.spanAttributes = spanAttributes;
+    this.transformRows = transformRows;
   }
   withConnection(operation, f, withoutTransform = false) {
     return Effect.useSpan("sql.execute", {
@@ -62,7 +64,7 @@ export class StatementPrimitive extends Effectable.Class {
     }));
   }
   get withoutTransform() {
-    return this.withConnection("executeWithoutTransform", (connection, sql, params) => connection.executeWithoutTransform(sql, params), true);
+    return this.withConnection("executeWithoutTransform", (connection, sql, params) => connection.execute(sql, params, undefined), true);
   }
   get raw() {
     return this.withConnection("executeRaw", (connection, sql, params) => connection.executeRaw(sql, params), true);
@@ -78,20 +80,20 @@ export class StatementPrimitive extends Effectable.Class {
       }
       span.attribute(Otel.SEMATTRS_DB_OPERATION, "executeStream");
       span.attribute(Otel.SEMATTRS_DB_STATEMENT, sql);
-      return Effect.map(this.acquirer, _ => _.executeStream(sql, params));
+      return Effect.map(this.acquirer, _ => _.executeStream(sql, params, this.transformRows));
     })));
   }
   get values() {
     return this.withConnection("executeValues", (connection, sql, params) => connection.executeValues(sql, params));
   }
   get unprepared() {
-    return this.withConnection("executeUnprepared", (connection, sql, params) => connection.executeUnprepared(sql, params));
+    return this.withConnection("executeUnprepared", (connection, sql, params) => connection.executeUnprepared(sql, params, this.transformRows));
   }
   compile(withoutTransform) {
     return this.compiler.compile(this, withoutTransform ?? false);
   }
   commit() {
-    return this.withConnection("execute", (connection, sql, params) => connection.execute(sql, params));
+    return this.withConnection("execute", (connection, sql, params) => connection.execute(sql, params, this.transformRows));
   }
   toJSON() {
     const [sql, params] = this.compile();
@@ -201,22 +203,26 @@ class CustomImpl {
 /** @internal */
 export const custom = kind => (i0, i1, i2) => new FragmentImpl([new CustomImpl(kind, i0, i1, i2)]);
 const isHelper = u => u instanceof ArrayHelperImpl || u instanceof RecordInsertHelperImpl || u instanceof RecordUpdateHelperImpl || u instanceof RecordUpdateHelperSingleImpl || u instanceof IdentifierImpl;
-const constructorCache = /*#__PURE__*/globalValue("@effect/sql/Statement/constructorCache", () => new WeakMap());
+const constructorCache = /*#__PURE__*/globalValue("@effect/sql/Statement/constructorCache", () => ({
+  transforms: new WeakMap(),
+  noTransforms: new WeakMap()
+}));
 /** @internal */
-export const make = (acquirer, compiler, spanAttributes = []) => {
-  if (constructorCache.has(acquirer)) {
-    return constructorCache.get(acquirer);
+export const make = (acquirer, compiler, spanAttributes, transformRows) => {
+  const cache = transformRows === undefined ? constructorCache.noTransforms : constructorCache.transforms;
+  if (cache.has(acquirer)) {
+    return cache.get(acquirer);
   }
   const self = Object.assign(function sql(strings, ...args) {
     if (Array.isArray(strings) && "raw" in strings) {
-      return statement(acquirer, compiler, strings, args, spanAttributes);
+      return statement(acquirer, compiler, strings, args, spanAttributes, transformRows);
     } else if (typeof strings === "string") {
       return new IdentifierImpl(strings);
     }
     throw "absurd";
   }, {
     unsafe(sql, params) {
-      return new StatementPrimitive([new LiteralImpl(sql, params)], acquirer, compiler, spanAttributes);
+      return new StatementPrimitive([new LiteralImpl(sql, params)], acquirer, compiler, spanAttributes, transformRows);
     },
     literal(sql) {
       return new FragmentImpl([new LiteralImpl(sql)]);
@@ -242,11 +248,11 @@ export const make = (acquirer, compiler, spanAttributes = []) => {
       return options[compiler.dialect] !== undefined ? options[compiler.dialect]() : options.orElse();
     }
   });
-  constructorCache.set(acquirer, self);
+  cache.set(acquirer, self);
   return self;
 };
 /** @internal */
-export const statement = (acquirer, compiler, strings, args, spanAttributes) => {
+export const statement = (acquirer, compiler, strings, args, spanAttributes, transformRows) => {
   const segments = strings[0].length > 0 ? [new LiteralImpl(strings[0])] : [];
   for (let i = 0; i < args.length; i++) {
     const arg = args[i];
@@ -263,7 +269,7 @@ export const statement = (acquirer, compiler, strings, args, spanAttributes) =>
       segments.push(new LiteralImpl(strings[i + 1]));
     }
   }
-  return new StatementPrimitive(segments, acquirer, compiler, spanAttributes);
+  return new StatementPrimitive(segments, acquirer, compiler, spanAttributes, transformRows);
 };
 /** @internal */
 export const unsafeFragment = (sql, params) => new FragmentImpl([new LiteralImpl(sql, params)]);
@@ -331,7 +337,8 @@ class CompilerImpl {
   onCustom;
   onInsert;
   onRecordUpdateSingle;
-  constructor(dialect, parameterPlaceholder, onIdentifier, onRecordUpdate, onCustom, onInsert, onRecordUpdateSingle) {
+  disableTransforms;
+  constructor(dialect, parameterPlaceholder, onIdentifier, onRecordUpdate, onCustom, onInsert, onRecordUpdateSingle, disableTransforms = false) {
     this.dialect = dialect;
     this.parameterPlaceholder = parameterPlaceholder;
     this.onIdentifier = onIdentifier;
@@ -339,8 +346,10 @@ class CompilerImpl {
     this.onCustom = onCustom;
     this.onInsert = onInsert;
     this.onRecordUpdateSingle = onRecordUpdateSingle;
+    this.disableTransforms = disableTransforms;
   }
   compile(statement, withoutTransform = false, placeholderOverride) {
+    withoutTransform = withoutTransform || this.disableTransforms;
     const cacheSymbol = withoutTransform ? statementCacheNoTransformSymbol : statementCacheSymbol;
     if (cacheSymbol in statement) {
       return statement[cacheSymbol];
@@ -499,6 +508,9 @@ class CompilerImpl {
     }
     return statement[cacheSymbol] = result;
   }
+  get withoutTransform() {
+    return new CompilerImpl(this.dialect, this.parameterPlaceholder, this.onIdentifier, this.onRecordUpdate, this.onCustom, this.onInsert, this.onRecordUpdateSingle, true);
+  }
 }
 /** @internal */
 export const makeCompiler = options => new CompilerImpl(options.dialect, options.placeholder, options.onIdentifier, options.onRecordUpdate, options.onCustom, options.onInsert, options.onRecordUpdateSingle);
diff --git a/dist/esm/internal/statement.js.map b/dist/esm/internal/statement.js.map
index a35c6cbc26b4071ddbf3b8fccbc2b16ef94e457b..50e9ef2b89fc52e1a04179f33c12c4714ee9c898 100644
--- a/dist/esm/internal/statement.js.map
+++ b/dist/esm/internal/statement.js.map
@@ -1 +1 @@
-{"version":3,"file":"statement.js","names":["Otel","Effect","Effectable","FiberRef","dual","identity","globalValue","Layer","Option","Predicate","Stream","FragmentId","Symbol","for","isFragment","u","isParameter","isTagged","isCustom","kind","CustomImpl","currentTransformer","unsafeMake","none","withTransformer","effect","f","locally","some","withTransformerDisabled","setTransformer","locallyScoped","withStatement","self","span","withFiberRuntime","fiber","transform","getFiberRef","_tag","flatMap","value","make","acquirer","compiler","getFiberRefs","StatementPrimitive","Class","segments","spanAttributes","constructor","withConnection","operation","withoutTransform","useSpan","captureStackTrace","statement","sql","params","compile","key","attribute","SEMATTRS_DB_OPERATION","SEMATTRS_DB_STATEMENT","scoped","_","connection","executeWithoutTransform","raw","executeRaw","stream","unwrapScoped","makeSpanScoped","map","executeStream","values","executeValues","unprepared","executeUnprepared","commit","execute","toJSON","_id","FragmentImpl","LiteralImpl","IdentifierImpl","ParameterImpl","ArrayHelperImpl","identifierWrap","RecordInsertHelperImpl","returningIdentifier","returning","RecordUpdateHelperImpl","alias","RecordUpdateHelperSingleImpl","omit","i0","i1","i2","custom","isHelper","constructorCache","WeakMap","has","get","Object","assign","strings","args","Array","isArray","unsafe","literal","in","in_","insert","undefined","update","updateValues","and","or","csv","join","onDialect","options","dialect","onDialectOrElse","orElse","set","length","i","arg","segment","push","unsafeFragment","convertLiteralOrFragment","clause","arguments","column","addParens","fallback","literalStatement","clauses","apply","csvRaw","statementCacheSymbol","statementCacheNoTransformSymbol","CompilerImpl","parameterPlaceholder","onIdentifier","onRecordUpdate","onCustom","onInsert","onRecordUpdateSingle","placeholderOverride","cacheSymbol","len","binds","placeholderCount","placeholder","placeholderNoIncrement","placeholders","makePlaceholdersArray","keys","row","j","primitive","extractPrimitive","s","b","generateColumns","filter","includes","result","makeCompiler","evaluate","escape","str","defaultEscape","c","re","RegExp","double","dot","replace","primitiveKind","Date","Uint8Array","Int8Array","head","compiled","escapeSqlite","makeCompilerSqlite","defaultTransforms","transformer","nested","transformValue","array","transformObject","obj","newObj","transformArrayNested","rows","newRows","transformArray","object"],"sources":["../../../src/internal/statement.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,IAAI,MAAM,qCAAqC;AAC3D,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,UAAU,MAAM,mBAAmB;AAC/C,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,SAASC,IAAI,EAAEC,QAAQ,QAAQ,iBAAiB;AAChD,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,SAAS,MAAM,kBAAkB;AAC7C,OAAO,KAAKC,MAAM,MAAM,eAAe;AAMvC;AACA,OAAO,MAAMC,UAAU,gBAAyBC,MAAM,CAACC,GAAG,CACxD,sBAAsB,CACC;AAEzB;AACA,OAAO,MAAMC,UAAU,GAAIC,CAAU,IACnC,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,KAAK,IAAI,IAAIJ,UAAU,IAAII,CAAC;AAExD;AACA,OAAO,MAAMC,WAAW,GACtBD,CAAoB,IACSN,SAAS,CAACQ,QAAQ,CAACF,CAAC,EAAE,WAAW,CAAC;AAEjE;AACA,OAAO,MAAMG,QAAQ,GACnBC,IAAe,IAEhBJ,CAAU,IAAaA,CAAC,YAAYK,UAAU,IAAIL,CAAC,CAACI,IAAI,KAAKA,IAAI;AAElE;AACA,OAAO,MAAME,kBAAkB,gBAAGf,WAAW,CAC3C,0CAA0C,EAC1C,MACEH,QAAQ,CAACmB,UAAU,CACjBd,MAAM,CAACe,IAAI,EAAmC,CAC/C,CACJ;AAED;AACA,OAAO,MAAMC,eAAe,gBAAGpB,IAAI,CAQjC,CAAC,EAAE,CAACqB,MAAM,EAAEC,CAAC,KAAKzB,MAAM,CAAC0B,OAAO,CAACF,MAAM,EAAEJ,kBAAkB,EAAEb,MAAM,CAACoB,IAAI,CAACF,CAAC,CAAC,CAAC,CAAC;AAE/E;AACA,OAAO,MAAMG,uBAAuB,GAAaJ,MAA8B,IAC7ExB,MAAM,CAAC0B,OAAO,CAACF,MAAM,EAAEJ,kBAAkB,EAAEb,MAAM,CAACe,IAAI,EAAE,CAAC;AAE3D;AACA,OAAO,MAAMO,cAAc,GACzBJ,CAAkC,IAC/BnB,KAAK,CAACwB,aAAa,CAACV,kBAAkB,EAAEb,MAAM,CAACoB,IAAI,CAACF,CAAC,CAAC,CAAC;AAE5D,MAAMM,aAAa,GAAGA,CACpBC,IAA2B,EAC3BC,IAAiB,EACjBR,CAA+D,KAE/DzB,MAAM,CAACkC,gBAAgB,CAAWC,KAAK,IAAI;EACzC,MAAMC,SAAS,GAAGD,KAAK,CAACE,WAAW,CAACjB,kBAAkB,CAAC;EACvD,IAAIgB,SAAS,CAACE,IAAI,KAAK,MAAM,EAAE;IAC7B,OAAOb,CAAC,CAACO,IAAI,CAAC;EAChB;EACA,OAAOhC,MAAM,CAACuC,OAAO,CACnBH,SAAS,CAACI,KAAK,CAACR,IAAI,EAAES,IAAI,CAACT,IAAI,CAACU,QAAQ,EAAEV,IAAI,CAACW,QAAQ,CAAC,EAAER,KAAK,CAACS,YAAY,EAAE,EAAEX,IAAI,CAEnF,EACDR,CAAC,CACF;AACH,CAAC,CAAC;AAEJ;AACA,OAAM,MAAOoB,kBAAsB,SAAQ5C,UAAU,CAAC6C,KAAuC;EAQhFC,QAAA;EACAL,QAAA;EACAC,QAAA;EACAK,cAAA;EARX,KAAKtC,UAAU,IAAC;IACd,OAAON,QAAQ;EACjB;EAEA6C,YACWF,QAA0C,EAC1CL,QAAwC,EACxCC,QAA4B,EAC5BK,cAAyD;IAElE,KAAK,EAAE;IALE,KAAAD,QAAQ,GAARA,QAAQ;IACR,KAAAL,QAAQ,GAARA,QAAQ;IACR,KAAAC,QAAQ,GAARA,QAAQ;IACR,KAAAK,cAAc,GAAdA,cAAc;EAGzB;EAEQE,cAAcA,CACpBC,SAAiB,EACjB1B,CAIyB,EACzB2B,gBAAgB,GAAG,KAAK;IAExB,OAAOpD,MAAM,CAACqD,OAAO,CACnB,aAAa,EACb;MAAEnC,IAAI,EAAE,QAAQ;MAAEoC,iBAAiB,EAAE;IAAK,CAAE,EAC3CrB,IAAI,IACHF,aAAa,CAAC,IAAI,EAAEE,IAAI,EAAGsB,SAAS,IAAI;MACtC,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGF,SAAS,CAACG,OAAO,CAACN,gBAAgB,CAAC;MACzD,KAAK,MAAM,CAACO,GAAG,EAAEnB,KAAK,CAAC,IAAI,IAAI,CAACQ,cAAc,EAAE;QAC9Cf,IAAI,CAAC2B,SAAS,CAACD,GAAG,EAAEnB,KAAK,CAAC;MAC5B;MACAP,IAAI,CAAC2B,SAAS,CAAC7D,IAAI,CAAC8D,qBAAqB,EAAEV,SAAS,CAAC;MACrDlB,IAAI,CAAC2B,SAAS,CAAC7D,IAAI,CAAC+D,qBAAqB,EAAEN,GAAG,CAAC;MAC/C,OAAOxD,MAAM,CAAC+D,MAAM,CAAC/D,MAAM,CAACuC,OAAO,CAAC,IAAI,CAACG,QAAQ,EAAGsB,CAAC,IAAKvC,CAAC,CAACuC,CAAC,EAAER,GAAG,EAAEC,MAAM,CAAC,CAAC,CAAC;IAC/E,CAAC,CAAC,CACL;EACH;EAEA,IAAIL,gBAAgBA,CAAA;IAClB,OAAO,IAAI,CAACF,cAAc,CACxB,yBAAyB,EACzB,CAACe,UAAU,EAAET,GAAG,EAAEC,MAAM,KAAKQ,UAAU,CAACC,uBAAuB,CAACV,GAAG,EAAEC,MAAM,CAAC,EAC5E,IAAI,CACL;EACH;EAEA,IAAIU,GAAGA,CAAA;IACL,OAAO,IAAI,CAACjB,cAAc,CACxB,YAAY,EACZ,CAACe,UAAU,EAAET,GAAG,EAAEC,MAAM,KAAKQ,UAAU,CAACG,UAAU,CAACZ,GAAG,EAAEC,MAAM,CAAC,EAC/D,IAAI,CACL;EACH;EAEA,IAAIY,MAAMA,CAAA;IACR,OAAO5D,MAAM,CAAC6D,YAAY,CAACtE,MAAM,CAACuC,OAAO,CACvCvC,MAAM,CAACuE,cAAc,CAAC,aAAa,EAAE;MAAErD,IAAI,EAAE,QAAQ;MAAEoC,iBAAiB,EAAE;IAAK,CAAE,CAAC,EACjFrB,IAAI,IACHF,aAAa,CAAC,IAAI,EAAEE,IAAI,EAAGsB,SAAS,IAAI;MACtC,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGF,SAAS,CAACG,OAAO,EAAE;MACzC,KAAK,MAAM,CAACC,GAAG,EAAEnB,KAAK,CAAC,IAAI,IAAI,CAACQ,cAAc,EAAE;QAC9Cf,IAAI,CAAC2B,SAAS,CAACD,GAAG,EAAEnB,KAAK,CAAC;MAC5B;MACAP,IAAI,CAAC2B,SAAS,CAAC7D,IAAI,CAAC8D,qBAAqB,EAAE,eAAe,CAAC;MAC3D5B,IAAI,CAAC2B,SAAS,CAAC7D,IAAI,CAAC+D,qBAAqB,EAAEN,GAAG,CAAC;MAC/C,OAAOxD,MAAM,CAACwE,GAAG,CAAC,IAAI,CAAC9B,QAAQ,EAAGsB,CAAC,IAAKA,CAAC,CAACS,aAAa,CAACjB,GAAG,EAAEC,MAAM,CAAC,CAAC;IACvE,CAAC,CAAC,CACL,CAAC;EACJ;EAEA,IAAIiB,MAAMA,CAAA;IAIR,OAAO,IAAI,CAACxB,cAAc,CAAC,eAAe,EAAE,CAACe,UAAU,EAAET,GAAG,EAAEC,MAAM,KAAKQ,UAAU,CAACU,aAAa,CAACnB,GAAG,EAAEC,MAAM,CAAC,CAAC;EACjH;EAEA,IAAImB,UAAUA,CAAA;IACZ,OAAO,IAAI,CAAC1B,cAAc,CACxB,mBAAmB,EACnB,CAACe,UAAU,EAAET,GAAG,EAAEC,MAAM,KAAKQ,UAAU,CAACY,iBAAiB,CAACrB,GAAG,EAAEC,MAAM,CAAC,CACvE;EACH;EAEAC,OAAOA,CAACN,gBAAsC;IAC5C,OAAO,IAAI,CAACT,QAAQ,CAACe,OAAO,CAAC,IAAI,EAAEN,gBAAgB,IAAI,KAAK,CAAC;EAC/D;EACA0B,MAAMA,CAAA;IACJ,OAAO,IAAI,CAAC5B,cAAc,CAAC,SAAS,EAAE,CAACe,UAAU,EAAET,GAAG,EAAEC,MAAM,KAAKQ,UAAU,CAACc,OAAO,CAACvB,GAAG,EAAEC,MAAM,CAAC,CAAC;EACrG;EACAuB,MAAMA,CAAA;IACJ,MAAM,CAACxB,GAAG,EAAEC,MAAM,CAAC,GAAG,IAAI,CAACC,OAAO,EAAE;IACpC,OAAO;MACLuB,GAAG,EAAE,uBAAuB;MAC5BlC,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBS,GAAG;MACHC;KACD;EACH;;AAGF,MAAMyB,YAAY;EAIKnC,QAAA;EAHrB,KAAKrC,UAAU,IAAC;IACd,OAAON,QAAQ;EACjB;EACA6C,YAAqBF,QAA0C;IAA1C,KAAAA,QAAQ,GAARA,QAAQ;EAAqC;;AAGpE,MAAMoC,WAAW;EAGJ3C,KAAA;EACAiB,MAAA;EAHFnB,IAAI,GAAG,SAAS;EACzBW,YACWT,KAAa,EACbiB,MAA2C;IAD3C,KAAAjB,KAAK,GAALA,KAAK;IACL,KAAAiB,MAAM,GAANA,MAAM;EACd;;AAGL,MAAM2B,cAAc;EAEG5C,KAAA;EADZF,IAAI,GAAG,YAAY;EAC5BW,YAAqBT,KAAa;IAAb,KAAAA,KAAK,GAALA,KAAK;EAAW;;AAGvC,MAAM6C,aAAa;EAEI7C,KAAA;EADZF,IAAI,GAAG,WAAW;EAC3BW,YAAqBT,KAA0B;IAA1B,KAAAA,KAAK,GAALA,KAAK;EAAwB;;AAGpD,MAAM8C,eAAe;EAEE9C,KAAA;EADZF,IAAI,GAAG,aAAa;EAC7BW,YAAqBT,KAAyC;IAAzC,KAAAA,KAAK,GAALA,KAAK;EAAuC;;AAGnE,SAAS+C,cAAcA,CAAC/B,GAAuD;EAC7E,OAAO,OAAOA,GAAG,KAAK,QAAQ,GAC1BA,GAAG,GACH9C,UAAU,IAAI8C,GAAG,GACjBA,GAAG,GACH,IAAI0B,YAAY,CAAC,CAAC1B,GAAG,CAAC,CAAC;AAC7B;AAEA,MAAMgC,sBAAsB;EAGfhD,KAAA;EACAiD,mBAAA;EAHFnD,IAAI,GAAG,oBAAoB;EACpCW,YACWT,KAAyD,EACzDiD,mBAA4D;IAD5D,KAAAjD,KAAK,GAALA,KAAK;IACL,KAAAiD,mBAAmB,GAAnBA,mBAAmB;EAC3B;EACHC,SAASA,CAAClC,GAAuD;IAC/D,OAAO,IAAIgC,sBAAsB,CAAC,IAAI,CAAChD,KAAK,EAAE+C,cAAc,CAAC/B,GAAG,CAAC,CAAC;EACpE;;AAGF,MAAMmC,sBAAsB;EAGfnD,KAAA;EACAoD,KAAA;EACAH,mBAAA;EAJFnD,IAAI,GAAG,oBAAoB;EACpCW,YACWT,KAAyD,EACzDoD,KAAa,EACbH,mBAA4D;IAF5D,KAAAjD,KAAK,GAALA,KAAK;IACL,KAAAoD,KAAK,GAALA,KAAK;IACL,KAAAH,mBAAmB,GAAnBA,mBAAmB;EAC3B;EACHC,SAASA,CAAClC,GAAuD;IAC/D,OAAO,IAAImC,sBAAsB,CAAC,IAAI,CAACnD,KAAK,EAAE,IAAI,CAACoD,KAAK,EAAEL,cAAc,CAAC/B,GAAG,CAAC,CAAC;EAChF;;AAGF,MAAMqC,4BAA4B;EAGrBrD,KAAA;EACAsD,IAAA;EACAL,mBAAA;EAJFnD,IAAI,GAAG,0BAA0B;EAC1CW,YACWT,KAA0C,EAC1CsD,IAA2B,EAC3BL,mBAA4D;IAF5D,KAAAjD,KAAK,GAALA,KAAK;IACL,KAAAsD,IAAI,GAAJA,IAAI;IACJ,KAAAL,mBAAmB,GAAnBA,mBAAmB;EAC3B;EACHC,SAASA,CAAClC,GAAuD;IAC/D,OAAO,IAAIqC,4BAA4B,CAAC,IAAI,CAACrD,KAAK,EAAE,IAAI,CAACsD,IAAI,EAAEP,cAAc,CAAC/B,GAAG,CAAC,CAAC;EACrF;;AAGF,MAAMrC,UAAU;EAGHD,IAAA;EACA6E,EAAA;EACAC,EAAA;EACAC,EAAA;EALF3D,IAAI,GAAG,QAAQ;EACxBW,YACW/B,IAAO,EACP6E,EAAK,EACLC,EAAK,EACLC,EAAK;IAHL,KAAA/E,IAAI,GAAJA,IAAI;IACJ,KAAA6E,EAAE,GAAFA,EAAE;IACF,KAAAC,EAAE,GAAFA,EAAE;IACF,KAAAC,EAAE,GAAFA,EAAE;EACV;;AAGL;AACA,OAAO,MAAMC,MAAM,GACjBhF,IAAe,IAEjB,CAAC6E,EAAW,EAAEC,EAAW,EAAEC,EAAW,KAAyB,IAAIf,YAAY,CAAC,CAAC,IAAI/D,UAAU,CAACD,IAAI,EAAE6E,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC,CAAC,CAAC;AAEnH,MAAME,QAAQ,GAAIrF,CAAU,IAC1BA,CAAC,YAAYwE,eAAe,IAC5BxE,CAAC,YAAY0E,sBAAsB,IACnC1E,CAAC,YAAY6E,sBAAsB,IACnC7E,CAAC,YAAY+E,4BAA4B,IACzC/E,CAAC,YAAYsE,cAAc;AAE7B,MAAMgB,gBAAgB,gBAAG/F,WAAW,CAClC,wCAAwC,EACxC,MAAM,IAAIgG,OAAO,EAAyD,CAC3E;AAED;AACA,OAAO,MAAM5D,IAAI,GAAGA,CAClBC,QAAwC,EACxCC,QAA4B,EAC5BK,cAAA,GAA4D,EAAE,KACrC;EACzB,IAAIoD,gBAAgB,CAACE,GAAG,CAAC5D,QAAQ,CAAC,EAAE;IAClC,OAAO0D,gBAAgB,CAACG,GAAG,CAAC7D,QAAQ,CAAE;EACxC;EACA,MAAMV,IAAI,GAAGwE,MAAM,CAACC,MAAM,CACxB,SAASjD,GAAGA,CAACkD,OAAgB,EAAE,GAAGC,IAAgB;IAChD,IAAIC,KAAK,CAACC,OAAO,CAACH,OAAO,CAAC,IAAI,KAAK,IAAIA,OAAO,EAAE;MAC9C,OAAOnD,SAAS,CACdb,QAAQ,EACRC,QAAQ,EACR+D,OAA+B,EAC/BC,IAAI,EACJ3D,cAAc,CACf;IACH,CAAC,MAAM,IAAI,OAAO0D,OAAO,KAAK,QAAQ,EAAE;MACtC,OAAO,IAAItB,cAAc,CAACsB,OAAO,CAAC;IACpC;IAEA,MAAM,QAAQ;EAChB,CAAC,EACD;IACEI,MAAMA,CACJtD,GAAW,EACXC,MAA2C;MAE3C,OAAO,IAAIZ,kBAAkB,CAC3B,CAAC,IAAIsC,WAAW,CAAC3B,GAAG,EAAEC,MAAM,CAAC,CAAC,EAC9Bf,QAAQ,EACRC,QAAQ,EACRK,cAAc,CACf;IACH,CAAC;IACD+D,OAAOA,CAACvD,GAAW;MACjB,OAAO,IAAI0B,YAAY,CAAC,CAAC,IAAIC,WAAW,CAAC3B,GAAG,CAAC,CAAC,CAAC;IACjD,CAAC;IACDwD,EAAE,EAAEC,GAAG;IACPC,MAAMA,CAAC1E,KAAU;MACf,OAAO,IAAIgD,sBAAsB,CAC/BoB,KAAK,CAACC,OAAO,CAACrE,KAAK,CAAC,GAAGA,KAAK,GAAG,CAACA,KAAK,CAAC,EACtC2E,SAAS,CACV;IACH,CAAC;IACDC,MAAMA,CAAC5E,KAAU,EAAEsD,IAAS;MAC1B,OAAO,IAAID,4BAA4B,CAACrD,KAAK,EAAEsD,IAAI,IAAI,EAAE,EAAEqB,SAAS,CAAC;IACvE,CAAC;IACDE,YAAYA,CAAC7E,KAAU,EAAEoD,KAAU;MACjC,OAAO,IAAID,sBAAsB,CAACnD,KAAK,EAAEoD,KAAK,EAAEuB,SAAS,CAAC;IAC5D,CAAC;IACDG,GAAG;IACHC,EAAE;IACFC,GAAG;IACHC,IAAI;IACJC,SAASA,CAACC,OAAuC;MAC/C,OAAOA,OAAO,CAAChF,QAAQ,CAACiF,OAAO,CAAC,EAAE;IACpC,CAAC;IACDC,eAAeA,CAACF,OAAY;MAC1B,OAAOA,OAAO,CAAChF,QAAQ,CAACiF,OAAO,CAAC,KAAKT,SAAS,GAAGQ,OAAO,CAAChF,QAAQ,CAACiF,OAAO,CAAC,EAAE,GAAGD,OAAO,CAACG,MAAM,EAAE;IACjG;GACD,CACF;EAED1B,gBAAgB,CAAC2B,GAAG,CAACrF,QAAQ,EAAEV,IAAI,CAAC;EAEpC,OAAOA,IAAI;AACb,CAAC;AAED;AACA,OAAO,MAAMuB,SAAS,GAAGA,CACvBb,QAAwC,EACxCC,QAA4B,EAC5B+D,OAA6B,EAC7BC,IAA+B,EAC/B3D,cAAyD,KAClB;EACvC,MAAMD,QAAQ,GAA6B2D,OAAO,CAAC,CAAC,CAAC,CAACsB,MAAM,GAAG,CAAC,GAAG,CAAC,IAAI7C,WAAW,CAACuB,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;EAErG,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtB,IAAI,CAACqB,MAAM,EAAEC,CAAC,EAAE,EAAE;IACpC,MAAMC,GAAG,GAAGvB,IAAI,CAACsB,CAAC,CAAC;IAEnB,IAAIpH,UAAU,CAACqH,GAAG,CAAC,EAAE;MACnB,KAAK,MAAMC,OAAO,IAAID,GAAG,CAACnF,QAAQ,EAAE;QAClCA,QAAQ,CAACqF,IAAI,CAACD,OAAO,CAAC;MACxB;IACF,CAAC,MAAM,IAAIhC,QAAQ,CAAC+B,GAAG,CAAC,EAAE;MACxBnF,QAAQ,CAACqF,IAAI,CAACF,GAAG,CAAC;IACpB,CAAC,MAAM;MACLnF,QAAQ,CAACqF,IAAI,CAAC,IAAI/C,aAAa,CAAC6C,GAAG,CAAC,CAAC;IACvC;IAEA,IAAIxB,OAAO,CAACuB,CAAC,GAAG,CAAC,CAAC,CAACD,MAAM,GAAG,CAAC,EAAE;MAC7BjF,QAAQ,CAACqF,IAAI,CAAC,IAAIjD,WAAW,CAACuB,OAAO,CAACuB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAChD;EACF;EAEA,OAAO,IAAIpF,kBAAkB,CAAiBE,QAAQ,EAAEL,QAAQ,EAAEC,QAAQ,EAAEK,cAAc,CAAC;AAC7F,CAAC;AAED;AACA,OAAO,MAAMqF,cAAc,GAAGA,CAC5B7E,GAAW,EACXC,MAA2C,KACpB,IAAIyB,YAAY,CAAC,CAAC,IAAIC,WAAW,CAAC3B,GAAG,EAAEC,MAAM,CAAC,CAAC,CAAC;AAEzE,SAAS6E,wBAAwBA,CAACC,MAAmC;EACnE,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;IAC9B,OAAO,CAAC,IAAIpD,WAAW,CAACoD,MAAM,CAAC,CAAC;EAClC;EACA,OAAOA,MAAM,CAACxF,QAAoC;AACpD;AAIA,SAASkE,GAAGA,CAAA;EACV,IAAIuB,SAAS,CAACR,MAAM,KAAK,CAAC,EAAE;IAC1B,OAAO,IAAI1C,eAAe,CAACkD,SAAS,CAAC,CAAC,CAAC,CAAC;EAC1C;EACA,MAAMC,MAAM,GAAGD,SAAS,CAAC,CAAC,CAAC;EAC3B,MAAM9D,MAAM,GAAG8D,SAAS,CAAC,CAAC,CAAC;EAC3B,OAAO9D,MAAM,CAACsD,MAAM,KAAK,CAAC,GAAGK,cAAc,CAAC,KAAK,CAAC,GAAG,IAAInD,YAAY,CAAC,CACpE,IAAIE,cAAc,CAACqD,MAAM,CAAC,EAC1B,IAAItD,WAAW,CAAC,MAAM,CAAC,EACvB,IAAIG,eAAe,CAACZ,MAAM,CAAC,CAC5B,CAAC;AACJ;AAEA;AACA,OAAM,SAAU+C,IAAIA,CAACV,OAAe,EAAE2B,SAAS,GAAG,IAAI,EAAEC,QAAQ,GAAG,EAAE;EACnE,MAAMC,gBAAgB,GAAG,IAAIzD,WAAW,CAAC4B,OAAO,CAAC;EAEjD,OAAQ8B,OAAmD,IAAwB;IACjF,IAAIA,OAAO,CAACb,MAAM,KAAK,CAAC,EAAE;MACxB,OAAOK,cAAc,CAACM,QAAQ,CAAC;IACjC,CAAC,MAAM,IAAIE,OAAO,CAACb,MAAM,KAAK,CAAC,EAAE;MAC/B,OAAO,IAAI9C,YAAY,CAACoD,wBAAwB,CAACO,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/D;IAEA,MAAM9F,QAAQ,GAA6B,EAAE;IAE7C,IAAI2F,SAAS,EAAE;MACb3F,QAAQ,CAACqF,IAAI,CAAC,IAAIjD,WAAW,CAAC,GAAG,CAAC,CAAC;IACrC;IAEApC,QAAQ,CAACqF,IAAI,CAACU,KAAK,CAAC/F,QAAQ,EAAEuF,wBAAwB,CAACO,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAEnE,KAAK,IAAIZ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGY,OAAO,CAACb,MAAM,EAAEC,CAAC,EAAE,EAAE;MACvClF,QAAQ,CAACqF,IAAI,CAACQ,gBAAgB,CAAC;MAC/B7F,QAAQ,CAACqF,IAAI,CAACU,KAAK,CAAC/F,QAAQ,EAAEuF,wBAAwB,CAACO,OAAO,CAACZ,CAAC,CAAC,CAAC,CAAC;IACrE;IAEA,IAAIS,SAAS,EAAE;MACb3F,QAAQ,CAACqF,IAAI,CAAC,IAAIjD,WAAW,CAAC,GAAG,CAAC,CAAC;IACrC;IAEA,OAAO,IAAID,YAAY,CAACnC,QAAQ,CAAC;EACnC,CAAC;AACH;AAEA;AACA,OAAO,MAAMuE,GAAG,gBAAGG,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC;AAE7C;AACA,OAAO,MAAMF,EAAE,gBAAGE,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC;AAE3C,MAAMsB,MAAM,gBAAGtB,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;AAEhC;AACA,OAAO,MAAMD,GAAG,GAGZA,CACF,GAAGb,IAEqE,KACtE;EACF,IAAIA,IAAI,CAACA,IAAI,CAACqB,MAAM,GAAG,CAAC,CAAC,CAACA,MAAM,KAAK,CAAC,EAAE;IACtC,OAAOK,cAAc,CAAC,EAAE,CAAC;EAC3B;EAEA,IAAI1B,IAAI,CAACqB,MAAM,KAAK,CAAC,EAAE;IACrB,OAAOe,MAAM,CAACpC,IAAI,CAAC,CAAC,CAAC,CAAC;EACxB;EAEA,OAAO,IAAIzB,YAAY,CAAC,CACtB,IAAIC,WAAW,CAAC,GAAGwB,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAC9B,GAAGoC,MAAM,CAACpC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC5D,QAAQ,CAC5B,CAAC;AACJ,CAAC;AAED,MAAMiG,oBAAoB,gBAAGrI,MAAM,CAACC,GAAG,CAAC,sCAAsC,CAAC;AAC/E,MAAMqI,+BAA+B,gBAAGtI,MAAM,CAACC,GAAG,CAAC,iDAAiD,CAAC;AAErG;AACA,MAAMsI,YAAY;EAELtB,OAAA;EACAuB,oBAAA;EACAC,YAAA;EACAC,cAAA;EAOAC,QAAA;EAKAC,QAAA;EAMAC,oBAAA;EAtBXvG,YACW2E,OAA0B,EAC1BuB,oBAA+D,EAC/DC,YAAkE,EAClEC,cAM6D,EAC7DC,QAI6D,EAC7DC,QAK6D,EAC7DC,oBAI6D;IAzB7D,KAAA5B,OAAO,GAAPA,OAAO;IACP,KAAAuB,oBAAoB,GAApBA,oBAAoB;IACpB,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,cAAc,GAAdA,cAAc;IAOd,KAAAC,QAAQ,GAARA,QAAQ;IAKR,KAAAC,QAAQ,GAARA,QAAQ;IAMR,KAAAC,oBAAoB,GAApBA,oBAAoB;EAK5B;EAEH9F,OAAOA,CACLH,SAA6B,EAC7BH,gBAAgB,GAAG,KAAK,EACxBqG,mBAA4C;IAE5C,MAAMC,WAAW,GAAGtG,gBAAgB,GAAG6F,+BAA+B,GAAGD,oBAAoB;IAC7F,IAAIU,WAAW,IAAInG,SAAS,EAAE;MAC5B,OAAQA,SAAiB,CAACmG,WAAW,CAAC;IACxC;IAEA,MAAM3G,QAAQ,GAAGQ,SAAS,CAACR,QAAQ;IACnC,MAAM4G,GAAG,GAAG5G,QAAQ,CAACiF,MAAM;IAE3B,IAAIxE,GAAG,GAAG,EAAE;IACZ,MAAMoG,KAAK,GAA+B,EAAE;IAC5C,IAAIC,gBAAgB,GAAG,CAAC;IACxB,MAAMC,WAAW,GAAGL,mBAAmB,KAAM3I,CAAU,IAAK,IAAI,CAACqI,oBAAoB,CAAC,EAAEU,gBAAgB,EAAE/I,CAAC,CAAC,CAAC;IAC7G,MAAMiJ,sBAAsB,GAAIjJ,CAAU,IAAK,IAAI,CAACqI,oBAAoB,CAACU,gBAAgB,EAAE/I,CAAC,CAAC;IAC7F,MAAMkJ,YAAY,GAAGC,qBAAqB,CAACH,WAAW,CAAC;IAEvD,KAAK,IAAI7B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0B,GAAG,EAAE1B,CAAC,EAAE,EAAE;MAC5B,MAAME,OAAO,GAAGpF,QAAQ,CAACkF,CAAC,CAAC;MAE3B,QAAQE,OAAO,CAAC7F,IAAI;QAClB,KAAK,SAAS;UAAE;YACdkB,GAAG,IAAI2E,OAAO,CAAC3F,KAAK;YACpB,IAAI2F,OAAO,CAAC1E,MAAM,EAAE;cAClBmG,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEzB,OAAO,CAAC1E,MAAa,CAAC;YAChD;YACA;UACF;QAEA,KAAK,YAAY;UAAE;YACjBD,GAAG,IAAI,IAAI,CAAC4F,YAAY,CAACjB,OAAO,CAAC3F,KAAK,EAAEY,gBAAgB,CAAC;YACzD;UACF;QAEA,KAAK,WAAW;UAAE;YAChBI,GAAG,IAAIsG,WAAW,CAAC3B,OAAO,CAAC3F,KAAK,CAAC;YACjCoH,KAAK,CAACxB,IAAI,CAACD,OAAO,CAAC3F,KAAK,CAAC;YACzB;UACF;QAEA,KAAK,aAAa;UAAE;YAClBgB,GAAG,IAAI,IAAIwG,YAAY,CAAC7B,OAAO,CAAC3F,KAAK,CAAC,GAAG;YACzCoH,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEzB,OAAO,CAAC3F,KAAY,CAAC;YAC7C;UACF;QAEA,KAAK,oBAAoB;UAAE;YACzB,MAAM0H,IAAI,GAAG1D,MAAM,CAAC0D,IAAI,CAAC/B,OAAO,CAAC3F,KAAK,CAAC,CAAC,CAAC,CAAC;YAE1C,IAAI,IAAI,CAAC+G,QAAQ,EAAE;cACjB,MAAM7E,MAAM,GAA8C,IAAIkC,KAAK,CAACuB,OAAO,CAAC3F,KAAK,CAACwF,MAAM,CAAC;cACzF,IAAIgC,YAAY,GAAG,EAAE;cACrB,KAAK,IAAI/B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,OAAO,CAAC3F,KAAK,CAACwF,MAAM,EAAEC,CAAC,EAAE,EAAE;gBAC7C,MAAMkC,GAAG,GAA+B,IAAIvD,KAAK,CAACsD,IAAI,CAAClC,MAAM,CAAC;gBAC9DtD,MAAM,CAACuD,CAAC,CAAC,GAAGkC,GAAG;gBACfH,YAAY,IAAI/B,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,IAAI;gBACpC,KAAK,IAAImC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAAClC,MAAM,EAAEoC,CAAC,EAAE,EAAE;kBACpC,MAAMzG,GAAG,GAAGuG,IAAI,CAACE,CAAC,CAAC;kBACnB,MAAM5H,KAAK,GAAG2F,OAAO,CAAC3F,KAAK,CAACyF,CAAC,CAAC,CAACtE,GAAG,CAAC;kBACnC,MAAM0G,SAAS,GAAGC,gBAAgB,CAAC9H,KAAK,EAAE,IAAI,CAAC8G,QAAQ,EAAES,sBAAsB,EAAE3G,gBAAgB,CAAC;kBAClG+G,GAAG,CAACC,CAAC,CAAC,GAAGC,SAAS;kBAClBL,YAAY,IAAII,CAAC,KAAK,CAAC,GAAGN,WAAW,CAACtH,KAAK,CAAC,GAAG,IAAIsH,WAAW,CAACtH,KAAK,CAAC,EAAE;gBACzE;gBACAwH,YAAY,IAAI,GAAG;cACrB;cACA,MAAM,CAACO,CAAC,EAAEC,CAAC,CAAC,GAAG,IAAI,CAACjB,QAAQ,CAC1BW,IAAI,CAAC1F,GAAG,CAAER,CAAC,IAAK,IAAI,CAACoF,YAAY,CAACpF,CAAC,EAAEZ,gBAAgB,CAAC,CAAC,EACvD4G,YAAY,EACZtF,MAAM,EACN,OAAOyD,OAAO,CAAC1C,mBAAmB,KAAK,QAAQ,GAC3C,CAAC0C,OAAO,CAAC1C,mBAAmB,EAAE,EAAE,CAAC,GACjC0C,OAAO,CAAC1C,mBAAmB,GAC3B,IAAI,CAAC/B,OAAO,CAACyE,OAAO,CAAC1C,mBAAmB,EAAErC,gBAAgB,EAAE0G,WAAW,CAAC,GACxE3C,SAAS,CACd;cACD3D,GAAG,IAAI+G,CAAC;cACRX,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEY,CAAQ,CAAC;YACnC,CAAC,MAAM;cACL,IAAIR,YAAY,GAAG,EAAE;cACrB,KAAK,IAAI/B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,OAAO,CAAC3F,KAAK,CAACwF,MAAM,EAAEC,CAAC,EAAE,EAAE;gBAC7C+B,YAAY,IAAI/B,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,IAAI;gBACpC,KAAK,IAAImC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAAClC,MAAM,EAAEoC,CAAC,EAAE,EAAE;kBACpC,MAAM5H,KAAK,GAAG2F,OAAO,CAAC3F,KAAK,CAACyF,CAAC,CAAC,CAACiC,IAAI,CAACE,CAAC,CAAC,CAAC;kBACvC,MAAMC,SAAS,GAAGC,gBAAgB,CAAC9H,KAAK,EAAE,IAAI,CAAC8G,QAAQ,EAAES,sBAAsB,EAAE3G,gBAAgB,CAAC;kBAClGwG,KAAK,CAACxB,IAAI,CAACiC,SAAS,CAAC;kBACrBL,YAAY,IAAII,CAAC,KAAK,CAAC,GAAGN,WAAW,CAACtH,KAAK,CAAC,GAAG,IAAIsH,WAAW,CAACtH,KAAK,CAAC,EAAE;gBACzE;gBACAwH,YAAY,IAAI,GAAG;cACrB;cACAxG,GAAG,IAAI,GACLiH,eAAe,CACbP,IAAI,EACJ,IAAI,CAACd,YAAY,EACjBhG,gBAAgB,CAEpB,WAAW4G,YAAY,EAAE;cAEzB,IAAI,OAAO7B,OAAO,CAAC1C,mBAAmB,KAAK,QAAQ,EAAE;gBACnDjC,GAAG,IAAI,cAAc2E,OAAO,CAAC1C,mBAAmB,EAAE;cACpD,CAAC,MAAM,IAAI0C,OAAO,CAAC1C,mBAAmB,EAAE;gBACtCjC,GAAG,IAAI,aAAa;gBACpB,MAAM,CAAC+G,CAAC,EAAEC,CAAC,CAAC,GAAG,IAAI,CAAC9G,OAAO,CAACyE,OAAO,CAAC1C,mBAAmB,EAAErC,gBAAgB,EAAE0G,WAAW,CAAC;gBACvFtG,GAAG,IAAI+G,CAAC;gBACRX,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEY,CAAQ,CAAC;cACnC;YACF;YACA;UACF;QAEA,KAAK,0BAA0B;UAAE;YAC/B,IAAIN,IAAI,GAAG1D,MAAM,CAAC0D,IAAI,CAAC/B,OAAO,CAAC3F,KAAK,CAAC;YACrC,IAAI2F,OAAO,CAACrC,IAAI,CAACkC,MAAM,GAAG,CAAC,EAAE;cAC3BkC,IAAI,GAAGA,IAAI,CAACQ,MAAM,CAAE/G,GAAG,IAAK,CAACwE,OAAO,CAACrC,IAAI,CAAC6E,QAAQ,CAAChH,GAAG,CAAC,CAAC;YAC1D;YACA,IAAI,IAAI,CAAC6F,oBAAoB,EAAE;cAC7B,MAAM,CAACe,CAAC,EAAEC,CAAC,CAAC,GAAG,IAAI,CAAChB,oBAAoB,CACtCU,IAAI,CAAC1F,GAAG,CAAER,CAAC,IAAK,IAAI,CAACoF,YAAY,CAACpF,CAAC,EAAEZ,gBAAgB,CAAC,CAAC,EACvD8G,IAAI,CAAC1F,GAAG,CAAEb,GAAG,IACX2G,gBAAgB,CACdnC,OAAO,CAAC3F,KAAK,CAACmB,GAAG,CAAC,EAClB,IAAI,CAAC2F,QAAQ,EACbS,sBAAsB,EACtB3G,gBAAgB,CACjB,CACF,EACD,OAAO+E,OAAO,CAAC1C,mBAAmB,KAAK,QAAQ,GAC3C,CAAC0C,OAAO,CAAC1C,mBAAmB,EAAE,EAAE,CAAC,GACjC0C,OAAO,CAAC1C,mBAAmB,GAC3B,IAAI,CAAC/B,OAAO,CAACyE,OAAO,CAAC1C,mBAAmB,EAAErC,gBAAgB,EAAE0G,WAAW,CAAC,GACxE3C,SAAS,CACd;cACD3D,GAAG,IAAI+G,CAAC;cACRX,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEY,CAAQ,CAAC;YACnC,CAAC,MAAM;cACL,KAAK,IAAIvC,CAAC,GAAG,CAAC,EAAE0B,GAAG,GAAGO,IAAI,CAAClC,MAAM,EAAEC,CAAC,GAAG0B,GAAG,EAAE1B,CAAC,EAAE,EAAE;gBAC/C,MAAMQ,MAAM,GAAG,IAAI,CAACW,YAAY,CAACc,IAAI,CAACjC,CAAC,CAAC,EAAE7E,gBAAgB,CAAC;gBAC3D,IAAI6E,CAAC,KAAK,CAAC,EAAE;kBACXzE,GAAG,IAAI,GAAGiF,MAAM,MAAMqB,WAAW,CAAC3B,OAAO,CAAC3F,KAAK,CAAC0H,IAAI,CAACjC,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC7D,CAAC,MAAM;kBACLzE,GAAG,IAAI,KAAKiF,MAAM,MAAMqB,WAAW,CAAC3B,OAAO,CAAC3F,KAAK,CAAC0H,IAAI,CAACjC,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC/D;gBACA2B,KAAK,CAACxB,IAAI,CACRkC,gBAAgB,CACdnC,OAAO,CAAC3F,KAAK,CAAC0H,IAAI,CAACjC,CAAC,CAAC,CAAC,EACtB,IAAI,CAACqB,QAAQ,EACbS,sBAAsB,EACtB3G,gBAAgB,CACjB,CACF;cACH;cACA,IAAI,OAAO+E,OAAO,CAAC1C,mBAAmB,KAAK,QAAQ,EAAE;gBACnD,IAAI,IAAI,CAACmC,OAAO,KAAK,OAAO,EAAE;kBAC5BpE,GAAG,IAAI,WAAW2E,OAAO,CAAC1C,mBAAmB,KAAK,GAAG,GAAG,YAAY,GAAG0C,OAAO,CAAC1C,mBAAmB,EAAE;gBACtG,CAAC,MAAM;kBACLjC,GAAG,IAAI,cAAc2E,OAAO,CAAC1C,mBAAmB,EAAE;gBACpD;cACF,CAAC,MAAM,IAAI0C,OAAO,CAAC1C,mBAAmB,EAAE;gBACtCjC,GAAG,IAAI,IAAI,CAACoE,OAAO,KAAK,OAAO,GAAG,UAAU,GAAG,aAAa;gBAC5D,MAAM,CAAC2C,CAAC,EAAEC,CAAC,CAAC,GAAG,IAAI,CAAC9G,OAAO,CAACyE,OAAO,CAAC1C,mBAAmB,EAAErC,gBAAgB,EAAE0G,WAAW,CAAC;gBACvFtG,GAAG,IAAI+G,CAAC;gBACRX,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEY,CAAQ,CAAC;cACnC;YACF;YACA;UACF;QAEA,KAAK,oBAAoB;UAAE;YACzB,MAAMN,IAAI,GAAG1D,MAAM,CAAC0D,IAAI,CAAC/B,OAAO,CAAC3F,KAAK,CAAC,CAAC,CAAC,CAAC;YAC1C,MAAMkC,MAAM,GAA8C,IAAIkC,KAAK,CAACuB,OAAO,CAAC3F,KAAK,CAACwF,MAAM,CAAC;YACzF,IAAIgC,YAAY,GAAG,EAAE;YACrB,KAAK,IAAI/B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,OAAO,CAAC3F,KAAK,CAACwF,MAAM,EAAEC,CAAC,EAAE,EAAE;cAC7C,MAAMkC,GAAG,GAA+B,IAAIvD,KAAK,CAACsD,IAAI,CAAClC,MAAM,CAAC;cAC9DtD,MAAM,CAACuD,CAAC,CAAC,GAAGkC,GAAG;cACfH,YAAY,IAAI/B,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,IAAI;cACpC,KAAK,IAAImC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAAClC,MAAM,EAAEoC,CAAC,EAAE,EAAE;gBACpC,MAAMzG,GAAG,GAAGuG,IAAI,CAACE,CAAC,CAAC;gBACnB,MAAM5H,KAAK,GAAG2F,OAAO,CAAC3F,KAAK,CAACyF,CAAC,CAAC,CAACtE,GAAG,CAAC;gBACnCwG,GAAG,CAACC,CAAC,CAAC,GAAGE,gBAAgB,CAAC9H,KAAK,EAAE,IAAI,CAAC8G,QAAQ,EAAES,sBAAsB,EAAE3G,gBAAgB,CAAC;gBACzF4G,YAAY,IAAII,CAAC,KAAK,CAAC,GAAGN,WAAW,CAACtH,KAAK,CAAC,GAAG,IAAIsH,WAAW,CAACtH,KAAK,CAAC,EAAE;cACzE;cACAwH,YAAY,IAAI,GAAG;YACrB;YACA,MAAM,CAACO,CAAC,EAAEC,CAAC,CAAC,GAAG,IAAI,CAACnB,cAAc,CAChCW,YAAY,EACZ7B,OAAO,CAACvC,KAAK,EACb6E,eAAe,CAACP,IAAI,EAAE,IAAI,CAACd,YAAY,EAAEhG,gBAAgB,CAAC,EAC1DsB,MAAM,EACN,OAAOyD,OAAO,CAAC1C,mBAAmB,KAAK,QAAQ,GAC3C,CAAC0C,OAAO,CAAC1C,mBAAmB,EAAE,EAAE,CAAC,GACjC0C,OAAO,CAAC1C,mBAAmB,GAC3B,IAAI,CAAC/B,OAAO,CAACyE,OAAO,CAAC1C,mBAAmB,EAAErC,gBAAgB,EAAE0G,WAAW,CAAC,GACxE3C,SAAS,CACd;YACD3D,GAAG,IAAI+G,CAAC;YACRX,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEY,CAAQ,CAAC;YACjC;UACF;QAEA,KAAK,QAAQ;UAAE;YACb,MAAM,CAACD,CAAC,EAAEC,CAAC,CAAC,GAAG,IAAI,CAAClB,QAAQ,CAACnB,OAAO,EAAE2B,WAAW,EAAE1G,gBAAgB,CAAC;YACpEI,GAAG,IAAI+G,CAAC;YACRX,KAAK,CAACxB,IAAI,CAACU,KAAK,CAACc,KAAK,EAAEY,CAAQ,CAAC;YACjC;UACF;MACF;IACF;IAEA,MAAMI,MAAM,GAAG,CAACpH,GAAG,EAAEoG,KAAK,CAAU;IACpC,IAAIH,mBAAmB,KAAKtC,SAAS,EAAE;MACrC,OAAOyD,MAAM;IACf;IACA,OAAQrH,SAAiB,CAACmG,WAAW,CAAC,GAAGkB,MAAM;EACjD;;AAGF;AACA,OAAO,MAAMC,YAAY,GACvBlD,OA2BC,IAED,IAAIuB,YAAY,CACdvB,OAAO,CAACC,OAAO,EACfD,OAAO,CAACmC,WAAW,EACnBnC,OAAO,CAACyB,YAAY,EACpBzB,OAAO,CAAC0B,cAAc,EACtB1B,OAAO,CAAC2B,QAAe,EACvB3B,OAAO,CAAC4B,QAAQ,EAChB5B,OAAO,CAAC6B,oBAAoB,CAC7B;AAEH,MAAMS,qBAAqB,GAAIa,QAAgC,IAAMpG,MAA8B,IAAY;EAC7G,IAAIA,MAAM,CAACsD,MAAM,KAAK,CAAC,EAAE;IACvB,OAAO,EAAE;EACX;EAEA,IAAI4C,MAAM,GAAGE,QAAQ,CAACpG,MAAM,CAAC,CAAC,CAAC,CAAC;EAChC,KAAK,IAAIuD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGvD,MAAM,CAACsD,MAAM,EAAEC,CAAC,EAAE,EAAE;IACtC2C,MAAM,IAAI,IAAIE,QAAQ,CAACpG,MAAM,CAACuD,CAAC,CAAC,CAAC,EAAE;EACrC;EAEA,OAAO2C,MAAM;AACf,CAAC;AAED,MAAMH,eAAe,GAAGA,CACtBP,IAA2B,EAC3Ba,MAAwD,EACxD3H,gBAAyB,KACvB;EACF,IAAI8G,IAAI,CAAClC,MAAM,KAAK,CAAC,EAAE;IACrB,OAAO,IAAI;EACb;EAEA,IAAIgD,GAAG,GAAG,IAAID,MAAM,CAACb,IAAI,CAAC,CAAC,CAAC,EAAE9G,gBAAgB,CAAC,EAAE;EACjD,KAAK,IAAI6E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiC,IAAI,CAAClC,MAAM,EAAEC,CAAC,EAAE,EAAE;IACpC+C,GAAG,IAAI,IAAID,MAAM,CAACb,IAAI,CAACjC,CAAC,CAAC,EAAE7E,gBAAgB,CAAC,EAAE;EAChD;EACA,OAAO4H,GAAG,GAAG,GAAG;AAClB,CAAC;AAED;AACA,OAAM,SAAUC,aAAaA,CAACC,CAAS;EACrC,MAAMC,EAAE,GAAG,IAAIC,MAAM,CAACF,CAAC,EAAE,GAAG,CAAC;EAC7B,MAAMG,MAAM,GAAGH,CAAC,GAAGA,CAAC;EACpB,MAAMI,GAAG,GAAGJ,CAAC,GAAG,GAAG,GAAGA,CAAC;EACvB,OAAO,UAASF,GAAW;IACzB,OAAOE,CAAC,GAAGF,GAAG,CAACO,OAAO,CAACJ,EAAE,EAAEE,MAAM,CAAC,CAACE,OAAO,CAAC,KAAK,EAAED,GAAG,CAAC,GAAGJ,CAAC;EAC5D,CAAC;AACH;AAEA;AACA,OAAO,MAAMM,aAAa,GAAIhJ,KAA0B,IAA6B;EACnF,QAAQ,OAAOA,KAAK;IAClB,KAAK,QAAQ;MACX,OAAO,QAAQ;IACjB,KAAK,QAAQ;MACX,OAAO,QAAQ;IACjB,KAAK,SAAS;MACZ,OAAO,SAAS;IAClB,KAAK,QAAQ;MACX,OAAO,QAAQ;IACjB,KAAK,WAAW;MACd,OAAO,MAAM;EACjB;EAEA,IAAIA,KAAK,KAAK,IAAI,EAAE;IAClB,OAAO,MAAM;EACf,CAAC,MAAM,IAAIA,KAAK,YAAYiJ,IAAI,EAAE;IAChC,OAAO,MAAM;EACf,CAAC,MAAM,IAAIjJ,KAAK,YAAYkJ,UAAU,EAAE;IACtC,OAAO,YAAY;EACrB,CAAC,MAAM,IAAIlJ,KAAK,YAAYmJ,SAAS,EAAE;IACrC,OAAO,WAAW;EACpB;EAEA,OAAO,QAAQ;AACjB,CAAC;AAED,MAAMrB,gBAAgB,GAAGA,CACvB9H,KAA2D,EAC3D8G,QAIsE,EACtEQ,WAAmC,EACnC1G,gBAAyB,KACF;EACvB,IAAIZ,KAAK,KAAK2E,SAAS,EAAE;IACvB,OAAO,IAAI;EACb,CAAC,MAAM,IAAItG,UAAU,CAAC2B,KAAK,CAAC,EAAE;IAC5B,MAAMoJ,IAAI,GAAGpJ,KAAK,CAACO,QAAQ,CAAC,CAAC,CAAC;IAC9B,IAAI6I,IAAI,CAACtJ,IAAI,KAAK,QAAQ,EAAE;MAC1B,MAAMuJ,QAAQ,GAAGvC,QAAQ,CAACsC,IAAI,EAAE9B,WAAW,EAAE1G,gBAAgB,CAAC;MAC9D,OAAOyI,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI;IAC/B,CAAC,MAAM,IAAID,IAAI,CAACtJ,IAAI,KAAK,WAAW,EAAE;MACpC,OAAOsJ,IAAI,CAACpJ,KAAK;IACnB;IACA,OAAO,IAAI;EACb;EACA,OAAOA,KAAK;AACd,CAAC;AAED,MAAMsJ,YAAY,gBAAGb,aAAa,CAAC,IAAI,CAAC;AAExC;AACA,OAAO,MAAMc,kBAAkB,GAAI3J,SAAiC,IAClEyI,YAAY,CAAC;EACXjD,OAAO,EAAE,QAAQ;EACjBkC,WAAWA,CAAC9F,CAAC;IACX,OAAO,GAAG;EACZ,CAAC;EACDoF,YAAY,EAAEhH,SAAS,GACrB,UAASI,KAAK,EAAEY,gBAAgB;IAC9B,OAAOA,gBAAgB,GAAG0I,YAAY,CAACtJ,KAAK,CAAC,GAAGsJ,YAAY,CAAC1J,SAAS,CAACI,KAAK,CAAC,CAAC;EAChF,CAAC,GACDsJ,YAAY;EACdzC,cAAcA,CAAA;IACZ,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC;EACjB,CAAC;EACDC,QAAQA,CAAA;IACN,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC;EACjB;CACD,CAAC;AAEJ;AACA,OAAO,MAAM0C,iBAAiB,GAAGA,CAC/BC,WAAoC,EACpCC,MAAM,GAAG,IAAI,KACX;EACF,MAAMC,cAAc,GAAI3J,KAAU,IAAI;IACpC,IAAIoE,KAAK,CAACC,OAAO,CAACrE,KAAK,CAAC,EAAE;MACxB,IAAIA,KAAK,CAACwF,MAAM,KAAK,CAAC,IAAIxF,KAAK,CAAC,CAAC,CAAC,CAACS,WAAW,KAAKuD,MAAM,EAAE;QACzD,OAAOhE,KAAK;MACd;MACA,OAAO4J,KAAK,CAAC5J,KAAK,CAAC;IACrB,CAAC,MAAM,IAAIA,KAAK,EAAES,WAAW,KAAKuD,MAAM,EAAE;MACxC,OAAO6F,eAAe,CAAC7J,KAAK,CAAC;IAC/B;IACA,OAAOA,KAAK;EACd,CAAC;EAED,MAAM6J,eAAe,GAAIC,GAAwB,IAAS;IACxD,MAAMC,MAAM,GAAwB,EAAE;IACtC,KAAK,MAAM5I,GAAG,IAAI2I,GAAG,EAAE;MACrBC,MAAM,CAACN,WAAW,CAACtI,GAAG,CAAC,CAAC,GAAGwI,cAAc,CAACG,GAAG,CAAC3I,GAAG,CAAC,CAAC;IACrD;IACA,OAAO4I,MAAM;EACf,CAAC;EAED,MAAMC,oBAAoB,GACxBC,IAAsB,IACF;IACpB,MAAMC,OAAO,GAAa,IAAI9F,KAAK,CAAC6F,IAAI,CAACzE,MAAM,CAAC;IAChD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAE0B,GAAG,GAAG8C,IAAI,CAACzE,MAAM,EAAEC,CAAC,GAAG0B,GAAG,EAAE1B,CAAC,EAAE,EAAE;MAC/C,MAAMkC,GAAG,GAAGsC,IAAI,CAACxE,CAAC,CAAC;MACnB,MAAMqE,GAAG,GAAQ,EAAE;MACnB,KAAK,MAAM3I,GAAG,IAAIwG,GAAG,EAAE;QACrBmC,GAAG,CAACL,WAAW,CAACtI,GAAG,CAAC,CAAC,GAAGwI,cAAc,CAAChC,GAAG,CAACxG,GAAG,CAAC,CAAC;MAClD;MACA+I,OAAO,CAACzE,CAAC,CAAC,GAAGqE,GAAG;IAClB;IACA,OAAOI,OAAO;EAChB,CAAC;EAED,MAAMC,cAAc,GAClBF,IAAsB,IACF;IACpB,MAAMC,OAAO,GAAa,IAAI9F,KAAK,CAAC6F,IAAI,CAACzE,MAAM,CAAC;IAChD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAE0B,GAAG,GAAG8C,IAAI,CAACzE,MAAM,EAAEC,CAAC,GAAG0B,GAAG,EAAE1B,CAAC,EAAE,EAAE;MAC/C,MAAMkC,GAAG,GAAGsC,IAAI,CAACxE,CAAC,CAAC;MACnB,MAAMqE,GAAG,GAAQ,EAAE;MACnB,KAAK,MAAM3I,GAAG,IAAIwG,GAAG,EAAE;QACrBmC,GAAG,CAACL,WAAW,CAACtI,GAAG,CAAC,CAAC,GAAGwG,GAAG,CAACxG,GAAG,CAAC;MAClC;MACA+I,OAAO,CAACzE,CAAC,CAAC,GAAGqE,GAAG;IAClB;IACA,OAAOI,OAAO;EAChB,CAAC;EAED,MAAMN,KAAK,GAAGF,MAAM,GAAGM,oBAAoB,GAAGG,cAAc;EAE5D,OAAO;IACLnK,KAAK,EAAE2J,cAAc;IACrBS,MAAM,EAAEP,eAAe;IACvBD;GACQ;AACZ,CAAC","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"statement.js","names":["Otel","Effect","Effectable","FiberRef","dual","identity","globalValue","Layer","Option","Predicate","Stream","FragmentId","Symbol","for","isFragment","u","isParameter","isTagged","isCustom","kind","CustomImpl","currentTransformer","unsafeMake","none","withTransformer","effect","f","locally","some","withTransformerDisabled","setTransformer","locallyScoped","withStatement","self","span","withFiberRuntime","fiber","transform","getFiberRef","_tag","flatMap","value","make","acquirer","compiler","spanAttributes","transformRows","getFiberRefs","StatementPrimitive","Class","segments","constructor","withConnection","operation","withoutTransform","useSpan","captureStackTrace","statement","sql","params","compile","key","attribute","SEMATTRS_DB_OPERATION","SEMATTRS_DB_STATEMENT","scoped","_","connection","execute","undefined","raw","executeRaw","stream","unwrapScoped","makeSpanScoped","map","executeStream","values","executeValues","unprepared","executeUnprepared","commit","toJSON","_id","FragmentImpl","LiteralImpl","IdentifierImpl","ParameterImpl","ArrayHelperImpl","identifierWrap","RecordInsertHelperImpl","returningIdentifier","returning","RecordUpdateHelperImpl","alias","RecordUpdateHelperSingleImpl","omit","i0","i1","i2","custom","isHelper","constructorCache","transforms","WeakMap","noTransforms","cache","has","get","Object","assign","strings","args","Array","isArray","unsafe","literal","in","in_","insert","update","updateValues","and","or","csv","join","onDialect","options","dialect","onDialectOrElse","orElse","set","length","i","arg","segment","push","unsafeFragment","convertLiteralOrFragment","clause","arguments","column","addParens","fallback","literalStatement","clauses","apply","csvRaw","statementCacheSymbol","statementCacheNoTransformSymbol","CompilerImpl","parameterPlaceholder","onIdentifier","onRecordUpdate","onCustom","onInsert","onRecordUpdateSingle","disableTransforms","placeholderOverride","cacheSymbol","len","binds","placeholderCount","placeholder","placeholderNoIncrement","placeholders","makePlaceholdersArray","keys","row","j","primitive","extractPrimitive","s","b","generateColumns","filter","includes","result","makeCompiler","evaluate","escape","str","defaultEscape","c","re","RegExp","double","dot","replace","primitiveKind","Date","Uint8Array","Int8Array","head","compiled","escapeSqlite","makeCompilerSqlite","defaultTransforms","transformer","nested","transformValue","array","transformObject","obj","newObj","transformArrayNested","rows","newRows","transformArray","object"],"sources":["../../../src/internal/statement.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/src/Model.ts b/src/Model.ts
index 5b4280a2c30451cff1dd557b8bd9c61b3676112a..178938561b2ecd362229e8c129294916977a38a3 100644
--- a/src/Model.ts
+++ b/src/Model.ts
@@ -77,6 +77,7 @@ export {
    * @since 1.0.0
    * @category constructors
    * @example
+   * ```ts
    * import { Schema } from "effect"
    * import { Model } from "@effect/sql"
    *
@@ -109,6 +110,7 @@ export {
    *     return this.name.toUpperCase()
    *   }
    * }
+   * ```
    */
   Class,
   /**
@@ -622,6 +624,7 @@ export const makeRepository = <
   readonly tableName: string
   readonly spanPrefix: string
   readonly idColumn: Id
+  readonly versionColumn?: string | undefined
 }): Effect.Effect<
   {
     readonly insert: (
@@ -650,6 +653,7 @@ export const makeRepository = <
     const sql = yield* SqlClient
     const idSchema = Model.fields[options.idColumn] as Schema.Schema.Any
     const idColumn = options.idColumn as string
+    const versionColumn = options.versionColumn
 
     const insertSchema = SqlSchema.single({
       Request: Model.insert,
@@ -693,20 +697,35 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
     const updateSchema = SqlSchema.single({
       Request: Model.update,
       Result: Model,
-      execute: (request) =>
-        sql.onDialectOrElse({
-          mysql: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            };
+      execute: versionColumn ?
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } and ${sql(versionColumn)} = ${request[versionColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
-              Effect.map(([, results]) => results as any)
-            ),
-          orElse: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            } returning *`
-        })
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+          }) :
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              };
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } returning *`
+          })
     })
     const update = (
       update: S["update"]["Type"]
@@ -721,10 +740,15 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
 
     const updateVoidSchema = SqlSchema.void({
       Request: Model.update,
-      execute: (request) =>
-        sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-          request[idColumn]
-        }`
+      execute: versionColumn ?
+        (request) =>
+          sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+            request[idColumn]
+          } and ${sql(versionColumn)} = ${request[versionColumn]}`
+        : (request) =>
+          sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+            request[idColumn]
+          }`
     })
     const updateVoid = (
       update: S["update"]["Type"]
diff --git a/src/SqlClient.ts b/src/SqlClient.ts
index 5409425d47720fe8a851502940d8fc0128097ffe..46d9621cc83cea59a08b58775cdee5f376a45e56 100644
--- a/src/SqlClient.ts
+++ b/src/SqlClient.ts
@@ -1,9 +1,13 @@
 /**
  * @since 1.0.0
  */
+import type { Reactivity } from "@effect/experimental/Reactivity"
 import type { Tag } from "effect/Context"
 import type { Effect } from "effect/Effect"
+import type { ReadonlyMailbox } from "effect/Mailbox"
+import type { ReadonlyRecord } from "effect/Record"
 import type { CloseableScope, Scope } from "effect/Scope"
+import type { Stream } from "effect/Stream"
 import type { NoInfer } from "effect/Types"
 import * as internal from "./internal/client.js"
 import type { Connection } from "./SqlConnection.js"
@@ -34,6 +38,11 @@ export interface SqlClient extends Constructor {
    */
   readonly safe: this
 
+  /**
+   * Copy of the client without transformations.
+   */
+  readonly withoutTransforms: () => this
+
   readonly reserve: Effect<Connection, SqlError, Scope>
 
   /**
@@ -42,6 +51,23 @@ export interface SqlClient extends Constructor {
   readonly withTransaction: <R, E, A>(
     self: Effect<A, E, R>
   ) => Effect<A, E | SqlError, R>
+
+  /**
+   * Use the Reactivity service from @effect/experimental to create a reactive
+   * query.
+   */
+  readonly reactive: <A, E, R>(
+    keys: ReadonlyArray<unknown> | ReadonlyRecord<string, ReadonlyArray<unknown>>,
+    effect: Effect<A, E, R>
+  ) => Stream<A, E, R>
+  /**
+   * Use the Reactivity service from @effect/experimental to create a reactive
+   * query.
+   */
+  readonly reactiveMailbox: <A, E, R>(
+    keys: ReadonlyArray<unknown> | ReadonlyRecord<string, ReadonlyArray<unknown>>,
+    effect: Effect<A, E, R>
+  ) => Effect<ReadonlyMailbox<A, E>, never, R | Scope>
 }
 
 /**
@@ -69,6 +95,11 @@ export namespace SqlClient {
     readonly commit?: string | undefined
     readonly savepoint?: ((name: string) => string) | undefined
     readonly rollbackSavepoint?: ((name: string) => string) | undefined
+    readonly transformRows?: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
+    readonly reactiveMailbox?: <A, E, R>(
+      keys: ReadonlyArray<unknown> | ReadonlyRecord<string, ReadonlyArray<unknown>>,
+      effect: Effect<A, E, R>
+    ) => Effect<ReadonlyMailbox<A, E>, never, R | Scope>
   }
 }
 
@@ -76,15 +107,7 @@ export namespace SqlClient {
  * @category constructors
  * @since 1.0.0
  */
-export const make: ({
-  acquirer,
-  beginTransaction,
-  commit,
-  rollback,
-  rollbackSavepoint,
-  savepoint,
-  transactionAcquirer
-}: SqlClient.MakeOptions) => SqlClient = internal.make
+export const make: (options: SqlClient.MakeOptions) => Effect<SqlClient, never, Reactivity> = internal.make
 
 /**
  * @since 1.0.0
diff --git a/src/SqlConnection.ts b/src/SqlConnection.ts
index c083419c6e2e87fc9f0eda8122c321242871b8af..74b92349aacda37dd727a375093d0005906d2a5f 100644
--- a/src/SqlConnection.ts
+++ b/src/SqlConnection.ts
@@ -15,7 +15,8 @@ import type { Primitive } from "./Statement.js"
 export interface Connection {
   readonly execute: (
     sql: string,
-    params: ReadonlyArray<Primitive>
+    params: ReadonlyArray<Primitive>,
+    transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
   ) => Effect<ReadonlyArray<any>, SqlError>
 
   /**
@@ -29,14 +30,10 @@ export interface Connection {
 
   readonly executeStream: (
     sql: string,
-    params: ReadonlyArray<Primitive>
+    params: ReadonlyArray<Primitive>,
+    transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
   ) => Stream<any, SqlError>
 
-  readonly executeWithoutTransform: (
-    sql: string,
-    params: ReadonlyArray<Primitive>
-  ) => Effect<ReadonlyArray<any>, SqlError>
-
   readonly executeValues: (
     sql: string,
     params: ReadonlyArray<Primitive>
@@ -44,7 +41,8 @@ export interface Connection {
 
   readonly executeUnprepared: (
     sql: string,
-    params?: ReadonlyArray<Primitive> | undefined
+    params: ReadonlyArray<Primitive>,
+    transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
   ) => Effect<ReadonlyArray<any>, SqlError>
 }
 
diff --git a/src/Statement.ts b/src/Statement.ts
index e6f407975c4d148775d90559e56f3985b65da8d6..cb4243981e9530628dad6c7570a2a03bdacc8af3 100644
--- a/src/Statement.ts
+++ b/src/Statement.ts
@@ -384,7 +384,8 @@ export interface Constructor {
 export const make: (
   acquirer: Connection.Acquirer,
   compiler: Compiler,
-  spanAttributes?: ReadonlyArray<readonly [string, unknown]>
+  spanAttributes: ReadonlyArray<readonly [string, unknown]>,
+  transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
 ) => Constructor = internal.make
 
 /**
@@ -445,6 +446,7 @@ export interface Compiler {
     statement: Fragment,
     withoutTransform: boolean
   ) => readonly [sql: string, params: ReadonlyArray<Primitive>]
+  readonly withoutTransform: this
 }
 
 /**
diff --git a/src/internal/client.ts b/src/internal/client.ts
index 7a3c3444806da8401b3eb1f5532bb473d5ba4e9a..e7fcddc294f8ac130075f7369e7a51a5fee4c8ee 100644
--- a/src/internal/client.ts
+++ b/src/internal/client.ts
@@ -1,10 +1,14 @@
+import * as Reactivity from "@effect/experimental/Reactivity"
 import * as Clock from "effect/Clock"
 import * as Context from "effect/Context"
 import * as Effect from "effect/Effect"
 import * as Exit from "effect/Exit"
 import * as FiberRef from "effect/FiberRef"
+import * as Mailbox from "effect/Mailbox"
 import * as Option from "effect/Option"
+import type { ReadonlyRecord } from "effect/Record"
 import * as Scope from "effect/Scope"
+import * as Stream from "effect/Stream"
 import * as Tracer from "effect/Tracer"
 import type { NoInfer } from "effect/Types"
 import type * as Client from "../SqlClient.js"
@@ -30,47 +34,76 @@ export function make({
   beginTransaction = "BEGIN",
   commit = "COMMIT",
   compiler,
+  reactiveMailbox,
   rollback = "ROLLBACK",
   rollbackSavepoint = (id) => `ROLLBACK TO SAVEPOINT ${id}`,
   savepoint = (id) => `SAVEPOINT ${id}`,
   spanAttributes,
-  transactionAcquirer
-}: Client.SqlClient.MakeOptions): Client.SqlClient {
-  const getConnection = Effect.flatMap(
-    Effect.serviceOption(TransactionConnection),
-    Option.match({
-      onNone: () => acquirer,
-      onSome: ([conn]) => Effect.succeed(conn)
-    })
-  )
+  transactionAcquirer,
+  transformRows
+}: Client.SqlClient.MakeOptions): Effect.Effect<Client.SqlClient, never, Reactivity.Reactivity> {
+  return Effect.gen(function*() {
+    const getConnection = Effect.flatMap(
+      Effect.serviceOption(TransactionConnection),
+      Option.match({
+        onNone: () => acquirer,
+        onSome: ([conn]) => Effect.succeed(conn)
+      })
+    )
 
-  transactionAcquirer = transactionAcquirer ?? acquirer
-  const withTransaction = makeWithTransaction({
-    transactionTag: TransactionConnection,
-    spanAttributes,
-    acquireConnection: Effect.flatMap(
-      Scope.make(),
-      (scope) => Effect.map(Scope.extend(transactionAcquirer, scope), (conn) => [scope, conn] as const)
-    ),
-    begin: (conn) => conn.executeUnprepared(beginTransaction),
-    savepoint: (conn, id) => conn.executeUnprepared(savepoint(`effect_sql_${id}`)),
-    commit: (conn) => conn.executeUnprepared(commit),
-    rollback: (conn) => conn.executeUnprepared(rollback),
-    rollbackSavepoint: (conn, id) => conn.executeUnprepared(rollbackSavepoint(`effect_sql_${id}`))
-  })
+    transactionAcquirer = transactionAcquirer ?? acquirer
+    const withTransaction = makeWithTransaction({
+      transactionTag: TransactionConnection,
+      spanAttributes,
+      acquireConnection: Effect.flatMap(
+        Scope.make(),
+        (scope) => Effect.map(Scope.extend(transactionAcquirer!, scope), (conn) => [scope, conn] as const)
+      ),
+      begin: (conn) => conn.executeUnprepared(beginTransaction, [], undefined),
+      savepoint: (conn, id) => conn.executeUnprepared(savepoint(`effect_sql_${id}`), [], undefined),
+      commit: (conn) => conn.executeUnprepared(commit, [], undefined),
+      rollback: (conn) => conn.executeUnprepared(rollback, [], undefined),
+      rollbackSavepoint: (conn, id) => conn.executeUnprepared(rollbackSavepoint(`effect_sql_${id}`), [], undefined)
+    })
 
-  const client: Client.SqlClient = Object.assign(
-    Statement.make(getConnection, compiler, spanAttributes),
-    {
-      [TypeId as Client.TypeId]: TypeId as Client.TypeId,
-      safe: undefined as any,
-      withTransaction,
-      reserve: transactionAcquirer
-    }
-  )
-  ;(client as any).safe = client
+    const reactivity = yield* Reactivity.Reactivity
+    const client: Client.SqlClient = Object.assign(
+      Statement.make(getConnection, compiler, spanAttributes, transformRows),
+      {
+        [TypeId as Client.TypeId]: TypeId as Client.TypeId,
+        safe: undefined as any,
+        withTransaction,
+        reserve: transactionAcquirer,
+        withoutTransforms(): any {
+          if (transformRows === undefined) {
+            return this
+          }
+          const statement = Statement.make(getConnection, compiler.withoutTransform, spanAttributes, undefined)
+          const client = Object.assign(statement, {
+            ...this,
+            ...statement
+          })
+          ;(client as any).safe = client
+          ;(client as any).withoutTransforms = () => client
+          return client
+        },
+        reactive: reactiveMailbox ?
+          <A, E, R>(
+            keys: ReadonlyArray<unknown> | ReadonlyRecord<string, ReadonlyArray<unknown>>,
+            effect: Effect.Effect<A, E, R>
+          ) =>
+            reactiveMailbox(keys, effect).pipe(
+              Effect.map(Mailbox.toStream),
+              Stream.unwrapScoped
+            ) :
+          reactivity.stream,
+        reactiveMailbox: reactiveMailbox ?? reactivity.query
+      }
+    )
+    ;(client as any).safe = client
 
-  return client
+    return client
+  })
 }
 
 /** @internal */
diff --git a/src/internal/statement.ts b/src/internal/statement.ts
index 416e9d4a329ca04db7e3623c8abcbf9adc12deb2..e5b41a23366e12e9f7594e5af0ebd2727dcc7036 100644
--- a/src/internal/statement.ts
+++ b/src/internal/statement.ts
@@ -73,7 +73,12 @@ const withStatement = <A, X, E, R>(
       return f(self)
     }
     return Effect.flatMap(
-      transform.value(self, make(self.acquirer, self.compiler), fiber.getFiberRefs(), span) as Effect.Effect<
+      transform.value(
+        self,
+        make(self.acquirer, self.compiler, self.spanAttributes, self.transformRows),
+        fiber.getFiberRefs(),
+        span
+      ) as Effect.Effect<
         StatementPrimitive<A>
       >,
       f
@@ -92,7 +97,8 @@ export class StatementPrimitive<A> extends Effectable.Class<ReadonlyArray<A>, Er
     readonly segments: ReadonlyArray<Statement.Segment>,
     readonly acquirer: Connection.Connection.Acquirer,
     readonly compiler: Statement.Compiler,
-    readonly spanAttributes: ReadonlyArray<readonly [string, unknown]>
+    readonly spanAttributes: ReadonlyArray<readonly [string, unknown]>,
+    readonly transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
   ) {
     super()
   }
@@ -125,7 +131,7 @@ export class StatementPrimitive<A> extends Effectable.Class<ReadonlyArray<A>, Er
   get withoutTransform(): Effect.Effect<ReadonlyArray<A>, Error.SqlError> {
     return this.withConnection(
       "executeWithoutTransform",
-      (connection, sql, params) => connection.executeWithoutTransform(sql, params),
+      (connection, sql, params) => connection.execute(sql, params, undefined),
       true
     )
   }
@@ -149,7 +155,7 @@ export class StatementPrimitive<A> extends Effectable.Class<ReadonlyArray<A>, Er
           }
           span.attribute(Otel.SEMATTRS_DB_OPERATION, "executeStream")
           span.attribute(Otel.SEMATTRS_DB_STATEMENT, sql)
-          return Effect.map(this.acquirer, (_) => _.executeStream(sql, params))
+          return Effect.map(this.acquirer, (_) => _.executeStream(sql, params, this.transformRows))
         })
     ))
   }
@@ -164,7 +170,7 @@ export class StatementPrimitive<A> extends Effectable.Class<ReadonlyArray<A>, Er
   get unprepared(): Effect.Effect<ReadonlyArray<A>, Error.SqlError> {
     return this.withConnection(
       "executeUnprepared",
-      (connection, sql, params) => connection.executeUnprepared(sql, params)
+      (connection, sql, params) => connection.executeUnprepared(sql, params, this.transformRows)
     )
   }
 
@@ -172,7 +178,10 @@ export class StatementPrimitive<A> extends Effectable.Class<ReadonlyArray<A>, Er
     return this.compiler.compile(this, withoutTransform ?? false)
   }
   commit(): Effect.Effect<ReadonlyArray<A>, Error.SqlError> {
-    return this.withConnection("execute", (connection, sql, params) => connection.execute(sql, params))
+    return this.withConnection(
+      "execute",
+      (connection, sql, params) => connection.execute(sql, params, this.transformRows)
+    )
   }
   toJSON() {
     const [sql, params] = this.compile()
@@ -283,17 +292,22 @@ const isHelper = (u: unknown): u is Statement.Helper =>
 
 const constructorCache = globalValue(
   "@effect/sql/Statement/constructorCache",
-  () => new WeakMap<Connection.Connection.Acquirer, Statement.Constructor>()
+  () => ({
+    transforms: new WeakMap<Connection.Connection.Acquirer, Statement.Constructor>(),
+    noTransforms: new WeakMap<Connection.Connection.Acquirer, Statement.Constructor>()
+  })
 )
 
 /** @internal */
 export const make = (
   acquirer: Connection.Connection.Acquirer,
   compiler: Statement.Compiler,
-  spanAttributes: ReadonlyArray<readonly [string, unknown]> = []
+  spanAttributes: ReadonlyArray<readonly [string, unknown]>,
+  transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
 ): Statement.Constructor => {
-  if (constructorCache.has(acquirer)) {
-    return constructorCache.get(acquirer)!
+  const cache = transformRows === undefined ? constructorCache.noTransforms : constructorCache.transforms
+  if (cache.has(acquirer)) {
+    return cache.get(acquirer)!
   }
   const self = Object.assign(
     function sql(strings: unknown, ...args: Array<any>): any {
@@ -303,7 +317,8 @@ export const make = (
           compiler,
           strings as TemplateStringsArray,
           args,
-          spanAttributes
+          spanAttributes,
+          transformRows
         )
       } else if (typeof strings === "string") {
         return new IdentifierImpl(strings)
@@ -320,7 +335,8 @@ export const make = (
           [new LiteralImpl(sql, params)],
           acquirer,
           compiler,
-          spanAttributes
+          spanAttributes,
+          transformRows
         )
       },
       literal(sql: string) {
@@ -352,7 +368,7 @@ export const make = (
     }
   )
 
-  constructorCache.set(acquirer, self)
+  cache.set(acquirer, self)
 
   return self
 }
@@ -363,7 +379,8 @@ export const statement = (
   compiler: Statement.Compiler,
   strings: TemplateStringsArray,
   args: Array<Statement.Argument>,
-  spanAttributes: ReadonlyArray<readonly [string, unknown]>
+  spanAttributes: ReadonlyArray<readonly [string, unknown]>,
+  transformRows: (<A extends object>(row: ReadonlyArray<A>) => ReadonlyArray<A>) | undefined
 ): Statement.Statement<Connection.Row> => {
   const segments: Array<Statement.Segment> = strings[0].length > 0 ? [new LiteralImpl(strings[0])] : []
 
@@ -385,7 +402,7 @@ export const statement = (
     }
   }
 
-  return new StatementPrimitive<Connection.Row>(segments, acquirer, compiler, spanAttributes)
+  return new StatementPrimitive<Connection.Row>(segments, acquirer, compiler, spanAttributes, transformRows)
 }
 
 /** @internal */
@@ -510,7 +527,8 @@ class CompilerImpl implements Statement.Compiler {
       columns: ReadonlyArray<string>,
       values: ReadonlyArray<Statement.Primitive>,
       returning: readonly [sql: string, params: ReadonlyArray<Statement.Primitive>] | undefined
-    ) => readonly [sql: string, binds: ReadonlyArray<Statement.Primitive>]
+    ) => readonly [sql: string, binds: ReadonlyArray<Statement.Primitive>],
+    readonly disableTransforms = false
   ) {}
 
   compile(
@@ -518,6 +536,7 @@ class CompilerImpl implements Statement.Compiler {
     withoutTransform = false,
     placeholderOverride?: (u: unknown) => string
   ): readonly [sql: string, binds: ReadonlyArray<Statement.Primitive>] {
+    withoutTransform = withoutTransform || this.disableTransforms
     const cacheSymbol = withoutTransform ? statementCacheNoTransformSymbol : statementCacheSymbol
     if (cacheSymbol in statement) {
       return (statement as any)[cacheSymbol]
@@ -729,6 +748,19 @@ class CompilerImpl implements Statement.Compiler {
     }
     return (statement as any)[cacheSymbol] = result
   }
+
+  get withoutTransform() {
+    return new CompilerImpl(
+      this.dialect,
+      this.parameterPlaceholder,
+      this.onIdentifier,
+      this.onRecordUpdate,
+      this.onCustom,
+      this.onInsert,
+      this.onRecordUpdateSingle,
+      true
+    ) as this
+  }
 }
 
 /** @internal */
