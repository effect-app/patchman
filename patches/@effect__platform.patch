diff --git a/dist/cjs/HttpRouter.js b/dist/cjs/HttpRouter.js
index b749e7c4e42e61312243fca573e664b3730b8785..1a0a493896c41465d20156d81d909f63aa4e75ab 100644
--- a/dist/cjs/HttpRouter.js
+++ b/dist/cjs/HttpRouter.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.use = exports.transform = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.concatAll = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.append = exports.all = exports.TypeId = exports.Tag = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = exports.Default = void 0;
+exports.withRouterConfig = exports.use = exports.transform = exports.setRouterConfig = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.currentRouterConfig = exports.concatAll = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.append = exports.all = exports.TypeId = exports.Tag = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = exports.Default = void 0;
 var internal = _interopRequireWildcard(require("./internal/httpRouter.js"));
 function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
 function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
@@ -52,6 +52,21 @@ const schemaParams = exports.schemaParams = internal.schemaParams;
  * @category route context
  */
 const schemaPathParams = exports.schemaPathParams = internal.schemaPathParams;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+const currentRouterConfig = exports.currentRouterConfig = internal.currentRouterConfig;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+const withRouterConfig = exports.withRouterConfig = internal.withRouterConfig;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+const setRouterConfig = exports.setRouterConfig = internal.setRouterConfig;
 /**
  * @since 1.0.0
  * @category constructors
diff --git a/dist/cjs/HttpRouter.js.map b/dist/cjs/HttpRouter.js.map
index 4c23ff43e593fbc6ba8ca25383844f0505a0f465..f7571e42c689bdc4b59d62a90223367025714d5d 100644
--- a/dist/cjs/HttpRouter.js.map
+++ b/dist/cjs/HttpRouter.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpRouter.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","RouteTypeId","RouteContextTypeId","RouteContext","params","schemaJson","schemaNoBody","schemaParams","schemaPathParams","empty","fromIterable","makeRoute","prefixAll","append","concat","concatAll","mount","mountApp","route","all","post","patch","put","del","head","options","use","transform","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect","Tag","Default"],"sources":["../../src/HttpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpRouter.js","names":["internal","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","RouteTypeId","RouteContextTypeId","RouteContext","params","schemaJson","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","withRouterConfig","setRouterConfig","empty","fromIterable","makeRoute","prefixAll","append","concat","concatAll","mount","mountApp","route","all","post","patch","put","del","head","options","use","transform","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect","Tag","Default"],"sources":["../../src/HttpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/httpClient.js b/dist/cjs/internal/httpClient.js
index 82e47d468981238ba59b1b258871f758cd27fdf2..c17d9b0522e97e7b5118d8facc346656f585fe00 100644
--- a/dist/cjs/internal/httpClient.js
+++ b/dist/cjs/internal/httpClient.js
@@ -83,11 +83,13 @@ const makeDefault = f => make(effect => Effect.flatMap(effect, request => Effect
     kind: "client",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     span.attribute("server.address", url.origin);
     if (url.port !== "") {
       span.attribute("server.port", +url.port);
     }
+    span.attribute("http.url", url.toString());
     span.attribute("url.full", url.toString());
     span.attribute("url.path", url.pathname);
     span.attribute("url.scheme", url.protocol.slice(0, -1));
@@ -103,6 +105,7 @@ const makeDefault = f => make(effect => Effect.flatMap(effect, request => Effect
     request = fiber.getFiberRef(currentTracerPropagation) ? internalRequest.setHeaders(request, TraceContext.toHeaders(span)) : request;
     return Effect.tap(Effect.withParentSpan(f(request, url, controller.signal, fiber), span), response => {
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/cjs/internal/httpClient.js.map b/dist/cjs/internal/httpClient.js.map
index 27f6e52d07170d36a4d54dfafc0beb4af64cccad..0e999bd0e2c9f19c6557f18707b69bad0cc5a553 100644
--- a/dist/cjs/internal/httpClient.js.map
+++ b/dist/cjs/internal/httpClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpClient.js","names":["Schema","_interopRequireWildcard","require","Context","Effect","FiberRef","_Function","_GlobalValue","Layer","_Pipeable","Predicate","Ref","Scope","Stream","Cookies","Headers","Error","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","globalValue","unsafeMake","constFalse","withTracerDisabledWhen","dual","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","currentFetchOptions","withFetchOptions","options","clientProto","pipe","pipeArguments","arguments","isClient","hasProperty","make","execute","preprocess","client","request","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","Fetch","fetch","context","unsafeMap","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","formData","toReadableStreamEffect","stream","transform","filterStatus","filterOrFail","ResponseError","description","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","maxRedirects","loop","redirects","location","setUrl"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpClient.js","names":["Schema","_interopRequireWildcard","require","Context","Effect","FiberRef","_Function","_GlobalValue","Layer","_Pipeable","Predicate","Ref","Scope","Stream","Cookies","Headers","Error","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","globalValue","unsafeMake","constFalse","withTracerDisabledWhen","dual","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","currentFetchOptions","withFetchOptions","options","clientProto","pipe","pipeArguments","arguments","isClient","hasProperty","make","execute","preprocess","client","request","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","Fetch","fetch","context","unsafeMap","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","formData","toReadableStreamEffect","stream","transform","filterStatus","filterOrFail","ResponseError","description","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","maxRedirects","loop","redirects","location","setUrl"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/httpMiddleware.js b/dist/cjs/internal/httpMiddleware.js
index 74299ab4e2f4c09b72da9148c58542937257946d..304071df41a246ef61bf7d44d6c0c3b5d91ebcc6 100644
--- a/dist/cjs/internal/httpMiddleware.js
+++ b/dist/cjs/internal/httpMiddleware.js
@@ -79,8 +79,10 @@ const tracer = exports.tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRun
     kind: "server",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     if (url !== undefined) {
+      span.attribute("http.url", url.toString());
       span.attribute("url.full", url.toString());
       span.attribute("url.path", url.pathname);
       const query = url.search.slice(1);
@@ -101,6 +103,7 @@ const tracer = exports.tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRun
     return Effect.flatMap(Effect.exit(Effect.withParentSpan(httpApp, span)), exit => {
       const response = ServerError.exitResponse(exit);
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/cjs/internal/httpMiddleware.js.map b/dist/cjs/internal/httpMiddleware.js.map
index 6a3d904bfca73b86fa0f4307e6662d01b696859f..7701b50a53c271a45fb65f82b15b9ae4d32bda0e 100644
--- a/dist/cjs/internal/httpMiddleware.js.map
+++ b/dist/cjs/internal/httpMiddleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpMiddleware.js","names":["Context","_interopRequireWildcard","require","Effect","FiberRef","_Function","_GlobalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","middleware","exports","loggerDisabled","globalValue","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","currentTracerDisabledWhen","constFalse","withTracerDisabledWhen","dual","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","HttpServerRequest","withLogSpan","flatMap","exit","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","params","searchParamsFromURL","URL","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","corsHeaders","unsafeFromRecord","assign","succeed","empty","map","setHeaders"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpMiddleware.js","names":["Context","_interopRequireWildcard","require","Effect","FiberRef","_Function","_GlobalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","middleware","exports","loggerDisabled","globalValue","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","currentTracerDisabledWhen","constFalse","withTracerDisabledWhen","dual","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","HttpServerRequest","withLogSpan","flatMap","exit","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","params","searchParamsFromURL","URL","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","corsHeaders","unsafeFromRecord","assign","succeed","empty","map","setHeaders"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/httpRouter.js b/dist/cjs/internal/httpRouter.js
index 3bad153bf6c6c5db3d0553593a2af10388b5337d..2eea554eddeb7a9bd49096fabb33ebcc8628fa09 100644
--- a/dist/cjs/internal/httpRouter.js
+++ b/dist/cjs/internal/httpRouter.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.use = exports.transform = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.concatAll = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.append = exports.all = exports.TypeId = exports.Tag = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = void 0;
+exports.withRouterConfig = exports.use = exports.transform = exports.setRouterConfig = exports.schemaPathParams = exports.schemaParams = exports.schemaNoBody = exports.schemaJson = exports.route = exports.put = exports.provideServiceEffect = exports.provideService = exports.prefixAll = exports.post = exports.patch = exports.params = exports.options = exports.mountApp = exports.mount = exports.makeRoute = exports.head = exports.get = exports.fromIterable = exports.empty = exports.del = exports.currentRouterConfig = exports.concatAll = exports.concat = exports.catchTags = exports.catchTag = exports.catchAllCause = exports.catchAll = exports.append = exports.all = exports.TypeId = exports.Tag = exports.RouteTypeId = exports.RouteContextTypeId = exports.RouteContext = void 0;
 var Schema = _interopRequireWildcard(require("@effect/schema/Schema"));
 var Chunk = _interopRequireWildcard(require("effect/Chunk"));
 var Context = _interopRequireWildcard(require("effect/Context"));
@@ -11,6 +11,7 @@ var Effect = _interopRequireWildcard(require("effect/Effect"));
 var Effectable = _interopRequireWildcard(require("effect/Effectable"));
 var FiberRef = _interopRequireWildcard(require("effect/FiberRef"));
 var _Function = require("effect/Function");
+var _GlobalValue = require("effect/GlobalValue");
 var Inspectable = _interopRequireWildcard(require("effect/Inspectable"));
 var Layer = _interopRequireWildcard(require("effect/Layer"));
 var Option = _interopRequireWildcard(require("effect/Option"));
@@ -88,7 +89,14 @@ const schemaPathParams = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
   return Effect.flatMap(RouteContext, _ => parse(_.params));
 };
+/** @internal */
 exports.schemaPathParams = schemaPathParams;
+const currentRouterConfig = exports.currentRouterConfig = /*#__PURE__*/(0, _GlobalValue.globalValue)("@effect/platform/HttpRouter/currentRouterConfig", () => FiberRef.unsafeMake({}));
+/** @internal */
+const withRouterConfig = exports.withRouterConfig = /*#__PURE__*/(0, _Function.dual)(2, (effect, config) => Effect.locally(effect, currentRouterConfig, config));
+/** @internal */
+const setRouterConfig = config => Layer.locallyScoped(currentRouterConfig, config);
+exports.setRouterConfig = setRouterConfig;
 class RouterImpl extends Effectable.StructuralClass {
   routes;
   mounts;
@@ -98,7 +106,7 @@ class RouterImpl extends Effectable.StructuralClass {
     this.routes = routes;
     this.mounts = mounts;
     this[TypeId] = TypeId;
-    this.httpApp = toHttpApp(this);
+    this.httpApp = FiberRef.get(currentRouterConfig).pipe(Effect.flatMap(config => this.httpApp = toHttpApp(this, config)));
   }
   httpApp;
   commit() {
@@ -118,8 +126,8 @@ class RouterImpl extends Effectable.StructuralClass {
     return this.toJSON();
   }
 }
-const toHttpApp = self => {
-  const router = FindMyWay.make();
+const toHttpApp = (self, config) => {
+  const router = FindMyWay.make(config);
   const mounts = Chunk.toReadonlyArray(self.mounts).map(([path, app, options]) => [path, new RouteContextImpl(new RouteImpl("*", options?.includePrefix ? `${path}/*` : "/*", app, options?.includePrefix ? Option.none() : Option.some(path), false), {}), options]);
   const mountsLen = mounts.length;
   Chunk.forEach(self.routes, route => {
diff --git a/dist/cjs/internal/httpRouter.js.map b/dist/cjs/internal/httpRouter.js.map
index 824a4fcda3da73a3ad44294b03c50c36e2ba51b4..c768465181761969187ff26c5a0e7981eeccc14d 100644
--- a/dist/cjs/internal/httpRouter.js.map
+++ b/dist/cjs/internal/httpRouter.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpRouter.js","names":["Schema","_interopRequireWildcard","require","Chunk","Context","Effect","Effectable","FiberRef","_Function","Inspectable","Layer","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","Respondable","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","unsafeMake","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","startsWith","key","sliceRequestUrl","locally","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","dual","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","effect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","setPrototypeOf","getPrototypeOf","stack","Live","effectDiscard","pipe","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpRouter.js","names":["Schema","_interopRequireWildcard","require","Chunk","Context","Effect","Effectable","FiberRef","_Function","_GlobalValue","Inspectable","Layer","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","Respondable","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","globalValue","unsafeMake","withRouterConfig","dual","effect","config","locally","setRouterConfig","locallyScoped","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","pipe","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","startsWith","key","sliceRequestUrl","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","setPrototypeOf","getPrototypeOf","stack","Live","effectDiscard","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/dts/HttpRouter.d.ts b/dist/dts/HttpRouter.d.ts
index a15f752b948bd55fbcd78a6b3d4e5d937cefccec..1779302e4d52a64f75ef80021c712248f296f825 100644
--- a/dist/dts/HttpRouter.d.ts
+++ b/dist/dts/HttpRouter.d.ts
@@ -8,10 +8,12 @@ import type * as Cause from "effect/Cause";
 import type * as Chunk from "effect/Chunk";
 import type * as Context from "effect/Context";
 import type * as Effect from "effect/Effect";
+import type { FiberRef } from "effect/FiberRef";
 import type { Inspectable } from "effect/Inspectable";
 import type * as Layer from "effect/Layer";
 import type * as Option from "effect/Option";
 import type * as Scope from "effect/Scope";
+import type { RouterConfig } from "find-my-way-ts";
 import type * as Etag from "./Etag.js";
 import type { FileSystem } from "./FileSystem.js";
 import type * as App from "./HttpApp.js";
@@ -215,6 +217,24 @@ export declare const schemaParams: <A, I extends Readonly<Record<string, string
  * @category route context
  */
 export declare const schemaPathParams: <A, I extends Readonly<Record<string, string | undefined>>, R>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext>;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export declare const currentRouterConfig: FiberRef<Partial<RouterConfig>>;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export declare const withRouterConfig: {
+    (config: Partial<RouterConfig>): <A, E, R>(effect: Effect.Effect<A, E, R>) => Effect.Effect<A, E, R>;
+    <A, E, R>(effect: Effect.Effect<A, E, R>, config: Partial<RouterConfig>): Effect.Effect<A, E, R>;
+};
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export declare const setRouterConfig: (config: Partial<RouterConfig>) => Layer.Layer<never>;
 /**
  * @since 1.0.0
  * @category constructors
diff --git a/dist/dts/HttpRouter.d.ts.map b/dist/dts/HttpRouter.d.ts.map
index 72103d53546077d084851c78d9e774eb8d903a14..e7ad328bd9974ad76ca6b2eb737e2978e0b8e8b1 100644
--- a/dist/dts/HttpRouter.d.ts.map
+++ b/dist/dts/HttpRouter.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"HttpRouter.d.ts","sourceRoot":"","sources":["../../src/HttpRouter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"HttpRouter.d.ts","sourceRoot":"","sources":["../../src/HttpRouter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/internal/httpRouter.d.ts.map b/dist/dts/internal/httpRouter.d.ts.map
index 79b5dcf762b6efc54b0f4f5e0f1ce1edb29ecb8d..ff0c6ea215a9e2708dcbf825c4fdb8c3166a0e74 100644
--- a/dist/dts/internal/httpRouter.d.ts.map
+++ b/dist/dts/internal/httpRouter.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"httpRouter.d.ts","sourceRoot":"","sources":["../../../src/internal/httpRouter.ts"],"names":[],"mappings":"AAIA,OAAO,KAAK,OAAO,MAAM,gBAAgB,CAAA;AAczC,OAAO,KAAK,KAAK,MAAM,MAAM,kBAAkB,CAAA;AAqoB/C,eAAO,MAAM,cAAc,IACxB,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,OACzB,CAAC,WACG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAC5B,CAAC,CAAC,EAAE,CAAC,EACR,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAC1B,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,MAC/D,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,QAC9B,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,OACxB,CAAC,WACG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAC5B,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAK+C,CAAA"}
\ No newline at end of file
+{"version":3,"file":"httpRouter.d.ts","sourceRoot":"","sources":["../../../src/internal/httpRouter.ts"],"names":[],"mappings":"AAIA,OAAO,KAAK,OAAO,MAAM,gBAAgB,CAAA;AAezC,OAAO,KAAK,KAAK,MAAM,MAAM,kBAAkB,CAAA;AA4pB/C,eAAO,MAAM,cAAc,IACxB,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,OACzB,CAAC,WACG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAC5B,CAAC,CAAC,EAAE,CAAC,EACR,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAC1B,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,MAC/D,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,QAC9B,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,OACxB,CAAC,WACG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAC5B,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAK+C,CAAA"}
\ No newline at end of file
diff --git a/dist/esm/HttpRouter.js b/dist/esm/HttpRouter.js
index 4c9cfb378de086b9931f05a8930a651c053bd831..a87aca02453da11cec2f6e33960aed585091dd36 100644
--- a/dist/esm/HttpRouter.js
+++ b/dist/esm/HttpRouter.js
@@ -44,6 +44,21 @@ export const schemaParams = internal.schemaParams;
  * @category route context
  */
 export const schemaPathParams = internal.schemaPathParams;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export const currentRouterConfig = internal.currentRouterConfig;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export const withRouterConfig = internal.withRouterConfig;
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export const setRouterConfig = internal.setRouterConfig;
 /**
  * @since 1.0.0
  * @category constructors
diff --git a/dist/esm/HttpRouter.js.map b/dist/esm/HttpRouter.js.map
index 3c2a543d4a321e0b218cc15a586c13e9d782b225..ddf2a30ad6587ac9ec0e92c7bdf45f5efe026e81 100644
--- a/dist/esm/HttpRouter.js.map
+++ b/dist/esm/HttpRouter.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpRouter.js","names":["internal","TypeId","RouteTypeId","RouteContextTypeId","RouteContext","params","schemaJson","schemaNoBody","schemaParams","schemaPathParams","empty","fromIterable","makeRoute","prefixAll","append","concat","concatAll","mount","mountApp","route","all","get","post","patch","put","del","head","options","use","transform","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect","Tag","Default"],"sources":["../../src/HttpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpRouter.js","names":["internal","TypeId","RouteTypeId","RouteContextTypeId","RouteContext","params","schemaJson","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","withRouterConfig","setRouterConfig","empty","fromIterable","makeRoute","prefixAll","append","concat","concatAll","mount","mountApp","route","all","get","post","patch","put","del","head","options","use","transform","catchAll","catchAllCause","catchTag","catchTags","provideService","provideServiceEffect","Tag","Default"],"sources":["../../src/HttpRouter.ts"],"sourcesContent":[null],"mappings":"AAyBA,OAAO,KAAKA,QAAQ,MAAM,0BAA0B;AAGpD;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBD,QAAQ,CAACC,MAAM;AAsHpD;;;;AAIA,OAAO,MAAMC,WAAW,GAAkBF,QAAQ,CAACE,WAAW;AAkD9D;;;;AAIA,OAAO,MAAMC,kBAAkB,GAAkBH,QAAQ,CAACG,kBAAkB;AAkB5E;;;;AAIA,OAAO,MAAMC,YAAY,GAA4CJ,QAAQ,CAACI,YAAY;AAE1F;;;;AAIA,OAAO,MAAMC,MAAM,GAIfL,QAAQ,CAACK,MAAM;AAEnB;;;;AAIA,OAAO,MAAMC,UAAU,GAmBnBN,QAAQ,CAACM,UAAU;AAEvB;;;;AAIA,OAAO,MAAMC,YAAY,GAoBrBP,QAAQ,CAACO,YAAY;AAEzB;;;;AAIA,OAAO,MAAMC,YAAY,GAIvBR,QAAQ,CAACQ,YAAY;AAEvB;;;;AAIA,OAAO,MAAMC,gBAAgB,GAGqCT,QAAQ,CAACS,gBAAgB;AAE3F;;;;AAIA,OAAO,MAAMC,mBAAmB,GAAoCV,QAAQ,CAACU,mBAAmB;AAEhG;;;;AAIA,OAAO,MAAMC,gBAAgB,GAGzBX,QAAQ,CAACW,gBAAgB;AAE7B;;;;AAIA,OAAO,MAAMC,eAAe,GAA0DZ,QAAQ,CAACY,eAAe;AAE9G;;;;AAIA,OAAO,MAAMC,KAAK,GAAeb,QAAQ,CAACa,KAAK;AAE/C;;;;AAIA,OAAO,MAAMC,YAAY,GAGvBd,QAAQ,CAACc,YAAY;AAEvB;;;;AAIA,OAAO,MAAMC,SAAS,GAKyBf,QAAQ,CAACe,SAAS;AAEjE;;;;AAIA,OAAO,MAAMC,SAAS,GAGlBhB,QAAQ,CAACgB,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,MAAM,GAgBfjB,QAAQ,CAACiB,MAAM;AAEnB;;;;AAIA,OAAO,MAAMC,MAAM,GAQflB,QAAQ,CAACkB,MAAM;AAEnB;;;;AAIA,OAAO,MAAMC,SAAS,GAEqEnB,QAAQ,CAACmB,SAAS;AAE7G;;;;AAIA,OAAO,MAAMC,KAAK,GAGdpB,QAAQ,CAACoB,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,QAAQ,GAsBjBrB,QAAQ,CAACqB,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,KAAK,GAgBdtB,QAAQ,CAACsB,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,GAAG,GAoBZvB,QAAQ,CAACuB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZxB,QAAQ,CAACwB,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAcbzB,QAAQ,CAACyB,IAAI;AAEjB;;;;AAIA,OAAO,MAAMC,KAAK,GAcd1B,QAAQ,CAAC0B,KAAK;AAElB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZ3B,QAAQ,CAAC2B,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,GAAG,GAcZ5B,QAAQ,CAAC4B,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,IAAI,GAcb7B,QAAQ,CAAC6B,IAAI;AAEjB;;;;AAIA,OAAO,MAAMC,OAAO,GAchB9B,QAAQ,CAAC8B,OAAO;AAEpB;;;;AAIA,OAAO,MAAMC,GAAG,GAQZ/B,QAAQ,CAAC+B,GAAG;AAEhB;;;;AAIA,OAAO,MAAMC,SAAS,GAQlBhC,QAAQ,CAACgC,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,QAAQ,GAQjBjC,QAAQ,CAACiC,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,aAAa,GAQtBlC,QAAQ,CAACkC,aAAa;AAE1B;;;;AAIA,OAAO,MAAMC,QAAQ,GAYjBnC,QAAQ,CAACmC,QAAQ;AAErB;;;;AAIA,OAAO,MAAMC,SAAS,GA2ClBpC,QAAQ,CAACoC,SAAS;AAEtB;;;;AAIA,OAAO,MAAMC,cAAc,GAUvBrC,QAAQ,CAACqC,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,oBAAoB,GAoB7BtC,QAAQ,CAACsC,oBAAoB;AAEjC;;;;AAIA,OAAO,MAAMC,GAAG,GAGdvC,QAAQ,CAACuC,GAAG;AAEd;;;;AAIA,OAAM,MAAOC,OAAQ,sBAAQD,GAAG,CAAC,qCAAqC,CAAC,EAAW","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/httpClient.js b/dist/esm/internal/httpClient.js
index 15e7dff3f77eff9bae46f8072d63f0ab92dda866..482167a2eeb6ea4ed0e36cff058c04af13498e33 100644
--- a/dist/esm/internal/httpClient.js
+++ b/dist/esm/internal/httpClient.js
@@ -74,11 +74,13 @@ export const makeDefault = f => make(effect => Effect.flatMap(effect, request =>
     kind: "client",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     span.attribute("server.address", url.origin);
     if (url.port !== "") {
       span.attribute("server.port", +url.port);
     }
+    span.attribute("http.url", url.toString());
     span.attribute("url.full", url.toString());
     span.attribute("url.path", url.pathname);
     span.attribute("url.scheme", url.protocol.slice(0, -1));
@@ -94,6 +96,7 @@ export const makeDefault = f => make(effect => Effect.flatMap(effect, request =>
     request = fiber.getFiberRef(currentTracerPropagation) ? internalRequest.setHeaders(request, TraceContext.toHeaders(span)) : request;
     return Effect.tap(Effect.withParentSpan(f(request, url, controller.signal, fiber), span), response => {
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/esm/internal/httpClient.js.map b/dist/esm/internal/httpClient.js.map
index 72fd6fb2b64c897481531eaa38e2efc11fbcab2b..1e90872934d8a8e081c2f64a1d8d9bc071f050dd 100644
--- a/dist/esm/internal/httpClient.js.map
+++ b/dist/esm/internal/httpClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpClient.js","names":["Schema","Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","pipeArguments","Predicate","Ref","Scope","Stream","Cookies","Headers","Error","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","TypeId","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","unsafeMake","withTracerDisabledWhen","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","currentFetchOptions","withFetchOptions","options","clientProto","pipe","arguments","isClient","u","hasProperty","make","execute","preprocess","client","request","Object","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","Fetch","fetch","context","unsafeMap","get","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","formData","toReadableStreamEffect","stream","transform","filterStatus","filterOrFail","ResponseError","description","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","a","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","maxRedirects","loop","redirects","location","setUrl"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpClient.js","names":["Schema","Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","pipeArguments","Predicate","Ref","Scope","Stream","Cookies","Headers","Error","Method","TraceContext","UrlParams","internalBody","internalRequest","internalResponse","TypeId","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","unsafeMake","withTracerDisabledWhen","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","currentFetchOptions","withFetchOptions","options","clientProto","pipe","arguments","isClient","u","hasProperty","make","execute","preprocess","client","request","Object","setPrototypeOf","makeDefault","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","url","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","Fetch","fetch","context","unsafeMap","get","key","globalThis","send","body","map","tryPromise","try","duplex","undefined","catch","fromWeb","hasBody","formData","toReadableStreamEffect","stream","transform","filterStatus","filterOrFail","ResponseError","description","filterStatusOk","fetchOk","layer","transformResponse","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","orFailWith","mapEffect","scoped","mapEffectScoped","mapRequest","mapRequestEffect","mapInputRequest","mapInputRequestEffect","retry","policy","schemaFunction","args","schema","encode","a","tryMap","TextEncoder","JSON","stringify","setBody","uint8Array","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","maxRedirects","loop","redirects","location","setUrl"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/httpMiddleware.js b/dist/esm/internal/httpMiddleware.js
index a09111d1b79d70b97b9cc1674de57258c54b22d2..b9de848c3d5438ab92a73467c8d4bd2c9a479e0d 100644
--- a/dist/esm/internal/httpMiddleware.js
+++ b/dist/esm/internal/httpMiddleware.js
@@ -69,8 +69,10 @@ export const tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRuntime(fiber
     kind: "server",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     if (url !== undefined) {
+      span.attribute("http.url", url.toString());
       span.attribute("url.full", url.toString());
       span.attribute("url.path", url.pathname);
       const query = url.search.slice(1);
@@ -91,6 +93,7 @@ export const tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRuntime(fiber
     return Effect.flatMap(Effect.exit(Effect.withParentSpan(httpApp, span)), exit => {
       const response = ServerError.exitResponse(exit);
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/esm/internal/httpMiddleware.js.map b/dist/esm/internal/httpMiddleware.js.map
index e3951e374f500f89dea259188bc863c9105eefab..8538760bfc04c8e955a757330d65f5fde1fcc550 100644
--- a/dist/esm/internal/httpMiddleware.js.map
+++ b/dist/esm/internal/httpMiddleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpMiddleware.js","names":["Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","make","middleware","loggerDisabled","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","set","currentTracerDisabledWhen","withTracerDisabledWhen","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","HttpServerRequest","withLogSpan","flatMap","exit","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","params","searchParamsFromURL","URL","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","corsHeaders","unsafeFromRecord","Object","assign","succeed","empty","map","setHeaders"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpMiddleware.js","names":["Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","make","middleware","loggerDisabled","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","set","currentTracerDisabledWhen","withTracerDisabledWhen","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","context","getFiberRef","currentContext","request","unsafeGet","HttpServerRequest","withLogSpan","flatMap","exit","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","params","searchParamsFromURL","URL","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","corsHeaders","unsafeFromRecord","Object","assign","succeed","empty","map","setHeaders"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/httpRouter.js b/dist/esm/internal/httpRouter.js
index 8c6277b172710975918519ef20626ea559cc89cd..bfa652fd6e9dae48562a9184c9b7c0d5a9f5a467 100644
--- a/dist/esm/internal/httpRouter.js
+++ b/dist/esm/internal/httpRouter.js
@@ -5,6 +5,7 @@ import * as Effect from "effect/Effect";
 import * as Effectable from "effect/Effectable";
 import * as FiberRef from "effect/FiberRef";
 import { dual } from "effect/Function";
+import { globalValue } from "effect/GlobalValue";
 import * as Inspectable from "effect/Inspectable";
 import * as Layer from "effect/Layer";
 import * as Option from "effect/Option";
@@ -77,6 +78,12 @@ export const schemaPathParams = (schema, options) => {
   const parse = Schema.decodeUnknown(schema, options);
   return Effect.flatMap(RouteContext, _ => parse(_.params));
 };
+/** @internal */
+export const currentRouterConfig = /*#__PURE__*/globalValue("@effect/platform/HttpRouter/currentRouterConfig", () => FiberRef.unsafeMake({}));
+/** @internal */
+export const withRouterConfig = /*#__PURE__*/dual(2, (effect, config) => Effect.locally(effect, currentRouterConfig, config));
+/** @internal */
+export const setRouterConfig = config => Layer.locallyScoped(currentRouterConfig, config);
 class RouterImpl extends Effectable.StructuralClass {
   routes;
   mounts;
@@ -86,7 +93,7 @@ class RouterImpl extends Effectable.StructuralClass {
     this.routes = routes;
     this.mounts = mounts;
     this[TypeId] = TypeId;
-    this.httpApp = toHttpApp(this);
+    this.httpApp = FiberRef.get(currentRouterConfig).pipe(Effect.flatMap(config => this.httpApp = toHttpApp(this, config)));
   }
   httpApp;
   commit() {
@@ -106,8 +113,8 @@ class RouterImpl extends Effectable.StructuralClass {
     return this.toJSON();
   }
 }
-const toHttpApp = self => {
-  const router = FindMyWay.make();
+const toHttpApp = (self, config) => {
+  const router = FindMyWay.make(config);
   const mounts = Chunk.toReadonlyArray(self.mounts).map(([path, app, options]) => [path, new RouteContextImpl(new RouteImpl("*", options?.includePrefix ? `${path}/*` : "/*", app, options?.includePrefix ? Option.none() : Option.some(path), false), {}), options]);
   const mountsLen = mounts.length;
   Chunk.forEach(self.routes, route => {
diff --git a/dist/esm/internal/httpRouter.js.map b/dist/esm/internal/httpRouter.js.map
index ccee19f6eae6a7ddf184f4fcedbaefdcf2d93860..10db311b25900b47cbcc8cbe6210a3d028b75f60 100644
--- a/dist/esm/internal/httpRouter.js.map
+++ b/dist/esm/internal/httpRouter.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpRouter.js","names":["Schema","Chunk","Context","Effect","Effectable","FiberRef","dual","Inspectable","Layer","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","Respondable","TypeId","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","u","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","get","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","unsafeMake","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","i","startsWith","set","key","sliceRequestUrl","locally","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","effect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","Object","setPrototypeOf","getPrototypeOf","defineProperty","stack","Live","effectDiscard","pipe","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpRouter.js","names":["Schema","Chunk","Context","Effect","Effectable","FiberRef","dual","globalValue","Inspectable","Layer","Option","Predicate","Tracer","FindMyWay","Error","ServerRequest","Respondable","TypeId","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","u","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","get","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","unsafeMake","withRouterConfig","effect","config","locally","setRouterConfig","locallyScoped","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","pipe","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","i","startsWith","set","key","sliceRequestUrl","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","Object","setPrototypeOf","getPrototypeOf","defineProperty","stack","Live","effectDiscard","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/package.json b/package.json
index 38aae45f357488f3d4172c80f02c712b5ad36723..bd4aba679b3a543fcf4f0e8e00063c10e3fc511e 100644
--- a/package.json
+++ b/package.json
@@ -11,7 +11,7 @@
   "sideEffects": [],
   "dependencies": {
     "find-my-way-ts": "^0.1.5",
-    "multipasta": "^0.2.2"
+    "multipasta": "^0.2.5"
   },
   "peerDependencies": {
     "@effect/schema": "^0.70.4",
diff --git a/src/HttpRouter.ts b/src/HttpRouter.ts
index a9c5447569600d882f73be20ac55a07a4e4f0434..5cf3ed621eca70a7c44f989449f0cd02bce29025 100644
--- a/src/HttpRouter.ts
+++ b/src/HttpRouter.ts
@@ -8,10 +8,12 @@ import type * as Cause from "effect/Cause"
 import type * as Chunk from "effect/Chunk"
 import type * as Context from "effect/Context"
 import type * as Effect from "effect/Effect"
+import type { FiberRef } from "effect/FiberRef"
 import type { Inspectable } from "effect/Inspectable"
 import type * as Layer from "effect/Layer"
 import type * as Option from "effect/Option"
 import type * as Scope from "effect/Scope"
+import type { RouterConfig } from "find-my-way-ts"
 import type * as Etag from "./Etag.js"
 import type { FileSystem } from "./FileSystem.js"
 import type * as App from "./HttpApp.js"
@@ -308,6 +310,27 @@ export const schemaPathParams: <A, I extends Readonly<Record<string, string | un
   options?: ParseOptions | undefined
 ) => Effect.Effect<A, ParseResult.ParseError, R | RouteContext> = internal.schemaPathParams
 
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export const currentRouterConfig: FiberRef<Partial<RouterConfig>> = internal.currentRouterConfig
+
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export const withRouterConfig: {
+  (config: Partial<RouterConfig>): <A, E, R>(effect: Effect.Effect<A, E, R>) => Effect.Effect<A, E, R>
+  <A, E, R>(effect: Effect.Effect<A, E, R>, config: Partial<RouterConfig>): Effect.Effect<A, E, R>
+} = internal.withRouterConfig
+
+/**
+ * @since 1.0.0
+ * @category router config
+ */
+export const setRouterConfig: (config: Partial<RouterConfig>) => Layer.Layer<never> = internal.setRouterConfig
+
 /**
  * @since 1.0.0
  * @category constructors
diff --git a/src/internal/httpClient.ts b/src/internal/httpClient.ts
index 7cee624e0ef49d7d63985aa338da30af9cd265e2..fae707e61213e1f398d0a716a94caab138aabce1 100644
--- a/src/internal/httpClient.ts
+++ b/src/internal/httpClient.ts
@@ -145,11 +145,13 @@ export const makeDefault = (
             `http.client ${request.method}`,
             { kind: "client", captureStackTrace: false },
             (span) => {
+              span.attribute("http.method", request.method)
               span.attribute("http.request.method", request.method)
               span.attribute("server.address", url.origin)
               if (url.port !== "") {
                 span.attribute("server.port", +url.port)
               }
+              span.attribute("http.url", url.toString())
               span.attribute("url.full", url.toString())
               span.attribute("url.path", url.pathname)
               span.attribute("url.scheme", url.protocol.slice(0, -1))
@@ -177,6 +179,7 @@ export const makeDefault = (
                 ),
                 (response) => {
                   span.attribute("http.response.status_code", response.status)
+                  span.attribute("http.status_code", response.status)
                   const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames)
                   for (const name in redactedHeaders) {
                     span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]))
diff --git a/src/internal/httpMiddleware.ts b/src/internal/httpMiddleware.ts
index ca8aaa70efd0d04261374ce93d219a8c576e0f6e..870a8d00f9c8642137ff6423b52defd7d6d697cc 100644
--- a/src/internal/httpMiddleware.ts
+++ b/src/internal/httpMiddleware.ts
@@ -131,8 +131,10 @@ export const tracer = make((httpApp) =>
         captureStackTrace: false
       },
       (span) => {
+        span.attribute("http.method", request.method)
         span.attribute("http.request.method", request.method)
         if (url !== undefined) {
+          span.attribute("http.url", url.toString())
           span.attribute("url.full", url.toString())
           span.attribute("url.path", url.pathname)
           const query = url.search.slice(1)
@@ -155,6 +157,7 @@ export const tracer = make((httpApp) =>
           (exit) => {
             const response = ServerError.exitResponse(exit)
             span.attribute("http.response.status_code", response.status)
+            span.attribute("http.status_code", response.status)
             const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames)
             for (const name in redactedHeaders) {
               span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]))
diff --git a/src/internal/httpRouter.ts b/src/internal/httpRouter.ts
index 973dae2ca1108975efae2c95a47210a832cec8e1..215052a864eff08ed02eb6cead3a2c2cb9063de9 100644
--- a/src/internal/httpRouter.ts
+++ b/src/internal/httpRouter.ts
@@ -7,6 +7,7 @@ import * as Effect from "effect/Effect"
 import * as Effectable from "effect/Effectable"
 import * as FiberRef from "effect/FiberRef"
 import { dual } from "effect/Function"
+import { globalValue } from "effect/GlobalValue"
 import * as Inspectable from "effect/Inspectable"
 import * as Layer from "effect/Layer"
 import * as Option from "effect/Option"
@@ -139,6 +140,26 @@ export const schemaPathParams = <A, I extends Readonly<Record<string, string | u
   return Effect.flatMap(RouteContext, (_) => parse(_.params))
 }
 
+/** @internal */
+export const currentRouterConfig = globalValue(
+  "@effect/platform/HttpRouter/currentRouterConfig",
+  () => FiberRef.unsafeMake<Partial<FindMyWay.RouterConfig>>({})
+)
+
+/** @internal */
+export const withRouterConfig: {
+  (config: Partial<FindMyWay.RouterConfig>): <A, E, R>(effect: Effect.Effect<A, E, R>) => Effect.Effect<A, E, R>
+  <A, E, R>(effect: Effect.Effect<A, E, R>, config: Partial<FindMyWay.RouterConfig>): Effect.Effect<A, E, R>
+} = dual(
+  2,
+  <A, E, R>(effect: Effect.Effect<A, E, R>, config: Partial<FindMyWay.RouterConfig>): Effect.Effect<A, E, R> =>
+    Effect.locally(effect, currentRouterConfig, config)
+)
+
+/** @internal */
+export const setRouterConfig = (config: Partial<FindMyWay.RouterConfig>) =>
+  Layer.locallyScoped(currentRouterConfig, config)
+
 class RouterImpl<E = never, R = never> extends Effectable.StructuralClass<
   ServerResponse.HttpServerResponse,
   E | Error.RouteNotFound,
@@ -157,7 +178,9 @@ class RouterImpl<E = never, R = never> extends Effectable.StructuralClass<
   ) {
     super()
     this[TypeId] = TypeId
-    this.httpApp = toHttpApp(this) as any
+    this.httpApp = FiberRef.get(currentRouterConfig).pipe(
+      Effect.flatMap((config) => this.httpApp = toHttpApp(this, config) as any)
+    ) as any
   }
   private httpApp: Effect.Effect<
     ServerResponse.HttpServerResponse,
@@ -183,9 +206,10 @@ class RouterImpl<E = never, R = never> extends Effectable.StructuralClass<
 }
 
 const toHttpApp = <E, R>(
-  self: Router.HttpRouter<E, R>
+  self: Router.HttpRouter<E, R>,
+  config: Partial<FindMyWay.RouterConfig>
 ): App.Default<E | Error.RouteNotFound, R> => {
-  const router = FindMyWay.make<Router.Route<E, R>>()
+  const router = FindMyWay.make<Router.Route<E, R>>(config)
   const mounts = Chunk.toReadonlyArray(self.mounts).map(([path, app, options]) =>
     [
       path,
