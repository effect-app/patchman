diff --git a/dist/cjs/HttpApi.js b/dist/cjs/HttpApi.js
index 991ca36865f81b719fd7e3a96ae89a5526e7672f..6f2c73f6d0244b86540a7f9e1b01307fa1fd362a 100644
--- a/dist/cjs/HttpApi.js
+++ b/dist/cjs/HttpApi.js
@@ -187,8 +187,11 @@ const extractMembers = (topAst, inherited, getStatus) => {
     });
     const status = getStatus(ast);
     const emptyDecodeable = HttpApiSchema.getEmptyDecodeable(ast);
-    const current = members.get(status) ?? Option.none();
-    members.set(status, current.pipe(Option.map(current => AST.Union.make(current._tag === "Union" ? [...current.types, ast] : [current, ast])), Option.orElse(() => !emptyDecodeable && AST.encodedAST(ast)._tag === "VoidKeyword" ? Option.none() : Option.some(ast))));
+    const current = members.get(status);
+    members.set(status, {
+      description: (current ? current.description : Option.none()).pipe(Option.orElse(() => getDescriptionOrIdentifier(ast))),
+      ast: (current ? current.ast : Option.none()).pipe(Option.map(current => AST.Union.make(current._tag === "Union" ? [...current.types, ast] : [current, ast])), Option.orElse(() => !emptyDecodeable && AST.encodedAST(ast)._tag === "VoidKeyword" ? Option.none() : Option.some(ast)))
+    });
   }
   if (topAst._tag === "Union") {
     for (const type of topAst.types) {
@@ -230,6 +233,13 @@ const extractPayloads = topAst => {
   }
   return members;
 };
+const getDescriptionOrIdentifier = ast => {
+  const annotations = "to" in ast ? {
+    ...ast.to.annotations,
+    ...ast.annotations
+  } : ast.annotations;
+  return Option.fromNullable(annotations[AST.DescriptionAnnotationId] ?? annotations[AST.IdentifierAnnotationId]);
+};
 /**
  * @since 1.0.0
  * @category tags
diff --git a/dist/cjs/HttpApi.js.map b/dist/cjs/HttpApi.js.map
index d595468bb27de06cd4f6382efd2667b1711a5627..6ad99ea578281612725f1fa44417fd507c78a44a 100644
--- a/dist/cjs/HttpApi.js.map
+++ b/dist/cjs/HttpApi.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApi.js","names":["Context","_interopRequireWildcard","require","Option","_Pipeable","Predicate","Record","AST","_HttpApiError","HttpApiSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isHttpApi","hasProperty","Api","Tag","Proto","pipe","pipeArguments","arguments","add","group","makeProto","groups","identifier","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","getStatusError","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","setPrototypeOf","Map","HttpApiDecodeError","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","emptyDecodeable","getEmptyDecodeable","current","none","Union","make","types","orElse","encodedAST","some","type","encoding","getEncoding","contentType","getMultipart","undefined","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpApi.js","names":["Context","_interopRequireWildcard","require","Option","_Pipeable","Predicate","Record","AST","_HttpApiError","HttpApiSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isHttpApi","hasProperty","Api","Tag","Proto","pipe","pipeArguments","arguments","add","group","makeProto","groups","identifier","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","getStatusError","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","setPrototypeOf","Map","HttpApiDecodeError","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","emptyDecodeable","getEmptyDecodeable","current","description","none","orElse","getDescriptionOrIdentifier","Union","make","types","encodedAST","some","type","encoding","getEncoding","contentType","getMultipart","undefined","to","fromNullable","DescriptionAnnotationId","IdentifierAnnotationId","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/HttpApiClient.js b/dist/cjs/HttpApiClient.js
index c994f2d7e4b585567c7c2d321527ec0ae48499e3..c60a1d1c23c785d80ed2845828b8b15ce31ddef0 100644
--- a/dist/cjs/HttpApiClient.js
+++ b/dist/cjs/HttpApiClient.js
@@ -48,7 +48,9 @@ const makeClient = (api, options) => Effect.gen(function* () {
         orElse: statusOrElse
       };
       const decodeResponse = HttpClientResponse.matchStatus(decodeMap);
-      errors.forEach((ast, status) => {
+      errors.forEach(({
+        ast
+      }, status) => {
         if (ast._tag === "None") {
           decodeMap[status] = statusCodeError;
           return;
@@ -56,7 +58,9 @@ const makeClient = (api, options) => Effect.gen(function* () {
         const decode = schemaToResponse(ast.value);
         decodeMap[status] = response => Effect.flatMap(decode(response), Effect.fail);
       });
-      successes.forEach((ast, status) => {
+      successes.forEach(({
+        ast
+      }, status) => {
         decodeMap[status] = ast._tag === "None" ? responseAsVoid : schemaToResponse(ast.value);
       });
       const encodePayloadBody = endpoint.payloadSchema.pipe(Option.map(schema => {
@@ -163,7 +167,7 @@ const endpoint = (api, groupName, endpointName, options) => {
 };
 // ----------------------------------------------------------------------------
 exports.endpoint = endpoint;
-const paramsRegex = /:(\w+)[^/]*/g;
+const paramsRegex = /:([^/:.]+)/g;
 const compilePath = path => {
   const segments = path.split(paramsRegex);
   const len = segments.length;
diff --git a/dist/cjs/HttpApiClient.js.map b/dist/cjs/HttpApiClient.js.map
index 0cb71c876765a18182e07ef699a4148ce844d5cc..841b04ec9f2e22dc5fbff4a85e37e7f3d8d63dfe 100644
--- a/dist/cjs/HttpApiClient.js.map
+++ b/dist/cjs/HttpApiClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApiClient.js","names":["Context","_interopRequireWildcard","require","Effect","_Function","_GlobalValue","Option","ParseResult","Schema","HttpApi","HttpApiSchema","HttpBody","HttpClient","HttpClientError","HttpClientRequest","HttpClientResponse","HttpMethod","UrlParams","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","makeClient","api","options","gen","context","httpClient","pipe","baseUrl","undefined","identity","mapRequest","prependUrl","transformClient","reflect","predicate","onGroup","onGroupOptions","onEndpoint","onEndpointOptions","endpoint","errors","successes","makeUrl","compilePath","path","decodeMap","orElse","statusOrElse","decodeResponse","matchStatus","forEach","ast","status","_tag","statusCodeError","decode","schemaToResponse","value","response","flatMap","fail","responseAsVoid","encodePayloadBody","payloadSchema","map","schema","hasBody","method","encodeUnknown","payloadSchemaBody","encodeHeaders","headersSchema","encodeUrlParams","urlParamsSchema","endpointFn","request","httpRequest","make","payload","FormData","bodyFormData","body","setBody","urlParams","setUrlParams","setHeaders","headers","appendUrlParams","execute","transformResponse","withResponse","scoped","catchIf","isParseError","die","mapInputContext","input","merge","client","group","topLevel","identifier","name","exports","groupId","groupName","endpointName","paramsRegex","segments","split","len","length","_","params","url","encoding","getEncoding","decodeUnknown","kind","responseJson","schemaBodyUrlParams","arrayBuffer","buffer","Uint8Array","text","void","try","JSON","parse","catch","cause","ResponseError","reason","_response","HttpBodyFromSelf","declare","isHttpBody","members","types","Union","bodyFromPayload","bodyFromPayloadCache","globalValue","transform","transformOrFail","fromA","Forbidden","encode","toI","json","mapError","error","Type","succeed","fromInput","uint8Array"],"sources":["../../src/HttpApiClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpApiClient.js","names":["Context","_interopRequireWildcard","require","Effect","_Function","_GlobalValue","Option","ParseResult","Schema","HttpApi","HttpApiSchema","HttpBody","HttpClient","HttpClientError","HttpClientRequest","HttpClientResponse","HttpMethod","UrlParams","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","makeClient","api","options","gen","context","httpClient","pipe","baseUrl","undefined","identity","mapRequest","prependUrl","transformClient","reflect","predicate","onGroup","onGroupOptions","onEndpoint","onEndpointOptions","endpoint","errors","successes","makeUrl","compilePath","path","decodeMap","orElse","statusOrElse","decodeResponse","matchStatus","forEach","ast","status","_tag","statusCodeError","decode","schemaToResponse","value","response","flatMap","fail","responseAsVoid","encodePayloadBody","payloadSchema","map","schema","hasBody","method","encodeUnknown","payloadSchemaBody","encodeHeaders","headersSchema","encodeUrlParams","urlParamsSchema","endpointFn","request","httpRequest","make","payload","FormData","bodyFormData","body","setBody","urlParams","setUrlParams","setHeaders","headers","appendUrlParams","execute","transformResponse","withResponse","scoped","catchIf","isParseError","die","mapInputContext","input","merge","client","group","topLevel","identifier","name","exports","groupId","groupName","endpointName","paramsRegex","segments","split","len","length","_","params","url","encoding","getEncoding","decodeUnknown","kind","responseJson","schemaBodyUrlParams","arrayBuffer","buffer","Uint8Array","text","void","try","JSON","parse","catch","cause","ResponseError","reason","_response","HttpBodyFromSelf","declare","isHttpBody","members","types","Union","bodyFromPayload","bodyFromPayloadCache","globalValue","transform","transformOrFail","fromA","Forbidden","encode","toI","json","mapError","error","Type","succeed","fromInput","uint8Array"],"sources":["../../src/HttpApiClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/HttpApiEndpoint.js.map b/dist/cjs/HttpApiEndpoint.js.map
index 38645d67ed16569460404d38c50d332089cf11d9..9fc138c0ca773872ea2e87bd843e41024058fb2a 100644
--- a/dist/cjs/HttpApiEndpoint.js.map
+++ b/dist/cjs/HttpApiEndpoint.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApiEndpoint.js","names":["Context","_interopRequireWildcard","require","Option","_Pipeable","Predicate","Schema","HttpApiSchema","HttpRouter","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isHttpApiEndpoint","hasProperty","Proto","pipe","pipeArguments","arguments","addSuccess","schema","annotations","status","getStatusSuccess","makeProto","successSchema","NoContent","UnionUnify","addError","errorSchema","getStatusError","setPayload","payloadSchema","some","setPath","pathSchema","setUrlParams","urlParamsSchema","setHeaders","headersSchema","prefix","path","prefixPath","middleware","failure","middlewares","Set","annotate","tag","value","add","annotateContext","context","merge","options","assign","create","make","method","name","args","length","none","Never","empty","segments","schemas","obj","key","getParam","ast","String","Struct","post","put","patch","del"],"sources":["../../src/HttpApiEndpoint.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpApiEndpoint.js","names":["Context","_interopRequireWildcard","require","Option","_Pipeable","Predicate","Schema","HttpApiSchema","HttpRouter","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isHttpApiEndpoint","hasProperty","Proto","pipe","pipeArguments","arguments","addSuccess","schema","annotations","status","getStatusSuccess","makeProto","successSchema","NoContent","UnionUnify","addError","errorSchema","getStatusError","setPayload","payloadSchema","some","setPath","pathSchema","setUrlParams","urlParamsSchema","setHeaders","headersSchema","prefix","path","prefixPath","middleware","failure","middlewares","Set","annotate","tag","value","add","annotateContext","context","merge","options","assign","create","make","method","name","args","length","none","Never","empty","segments","schemas","obj","key","getParam","ast","String","Struct","post","put","patch","del"],"sources":["../../src/HttpApiEndpoint.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/HttpIncomingMessage.js b/dist/cjs/HttpIncomingMessage.js
index 6cdf8ca07e3401f9da1702e5803a1b346117c596..8f90d1375fc6b58e3032f5ff59eebeb883b0bc0c 100644
--- a/dist/cjs/HttpIncomingMessage.js
+++ b/dist/cjs/HttpIncomingMessage.js
@@ -12,6 +12,7 @@ var Inspectable = _interopRequireWildcard(require("effect/Inspectable"));
 var Option = _interopRequireWildcard(require("effect/Option"));
 var Schema = _interopRequireWildcard(require("effect/Schema"));
 var FileSystem = _interopRequireWildcard(require("./FileSystem.js"));
+var UrlParams = _interopRequireWildcard(require("./UrlParams.js"));
 function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
 function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
 /**
@@ -37,8 +38,8 @@ const schemaBodyJson = (schema, options) => {
  */
 exports.schemaBodyJson = schemaBodyJson;
 const schemaBodyUrlParams = (schema, options) => {
-  const parse = Schema.decodeUnknown(schema, options);
-  return self => Effect.flatMap(self.urlParamsBody, _ => parse(Object.fromEntries(_)));
+  const decode = UrlParams.schemaStruct(schema, options);
+  return self => Effect.flatMap(self.urlParamsBody, decode);
 };
 /**
  * @since 1.0.0
diff --git a/dist/cjs/HttpIncomingMessage.js.map b/dist/cjs/HttpIncomingMessage.js.map
index 7863472e5328f26c4c2df2cfdb83e81b807a41d9..fe7974e98c6a9b4efe73563423f3cce7b4445537 100644
--- a/dist/cjs/HttpIncomingMessage.js.map
+++ b/dist/cjs/HttpIncomingMessage.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpIncomingMessage.js","names":["Effect","_interopRequireWildcard","require","FiberRef","_Function","Global","Inspectable","Option","Schema","FileSystem","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","schemaBodyJson","schema","options","parse","decodeUnknown","self","flatMap","json","schemaBodyUrlParams","urlParamsBody","_","fromEntries","schemaHeaders","headers","maxBodySize","globalValue","unsafeMake","none","withMaxBodySize","dual","effect","size","locally","map","Size","inspect","that","contentType","body","includes","runSync","text","obj","redact","remoteAddress","toJSON","undefined"],"sources":["../../src/HttpIncomingMessage.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpIncomingMessage.js","names":["Effect","_interopRequireWildcard","require","FiberRef","_Function","Global","Inspectable","Option","Schema","FileSystem","UrlParams","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","schemaBodyJson","schema","options","parse","decodeUnknown","self","flatMap","json","schemaBodyUrlParams","decode","schemaStruct","urlParamsBody","schemaHeaders","headers","maxBodySize","globalValue","unsafeMake","none","withMaxBodySize","dual","effect","size","locally","map","Size","inspect","that","contentType","body","includes","runSync","_","text","obj","redact","remoteAddress","toJSON","undefined"],"sources":["../../src/HttpIncomingMessage.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAF,uBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AACA,IAAAG,MAAA,GAAAJ,uBAAA,CAAAC,OAAA;AACA,IAAAI,WAAA,GAAAL,uBAAA,CAAAC,OAAA;AACA,IAAAK,MAAA,GAAAN,uBAAA,CAAAC,OAAA;AAEA,IAAAM,MAAA,GAAAP,uBAAA,CAAAC,OAAA;AAGA,IAAAO,UAAA,GAAAR,uBAAA,CAAAC,OAAA;AAEA,IAAAQ,SAAA,GAAAT,uBAAA,CAAAC,OAAA;AAA2C,SAAAS,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAX,wBAAAW,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAf3C;;;;AAiBA;;;;AAIO,MAAMW,MAAM,GAAAC,OAAA,CAAAD,MAAA,gBAAkBE,MAAM,CAACC,GAAG,CAAC,sCAAsC,CAAC;AAuBvF;;;;AAIO,MAAMC,cAAc,GAAGA,CAAUC,MAA8B,EAAEC,OAAkC,KAAI;EAC5G,MAAMC,KAAK,GAAG9B,MAAM,CAAC+B,aAAa,CAACH,MAAM,EAAEC,OAAO,CAAC;EACnD,OAAWG,IAA4B,IACrCxC,MAAM,CAACyC,OAAO,CAACD,IAAI,CAACE,IAAI,EAAEJ,KAAK,CAAC;AACpC,CAAC;AAED;;;;AAAAN,OAAA,CAAAG,cAAA,GAAAA,cAAA;AAIO,MAAMQ,mBAAmB,GAAGA,CAKjCP,MAA8B,EAC9BC,OAAkC,KAChC;EACF,MAAMO,MAAM,GAAGlC,SAAS,CAACmC,YAAY,CAACT,MAAM,EAAEC,OAAO,CAAC;EACtD,OAAWG,IAA4B,IACrCxC,MAAM,CAACyC,OAAO,CAACD,IAAI,CAACM,aAAa,EAAEF,MAAM,CAAC;AAC9C,CAAC;AAED;;;;AAAAZ,OAAA,CAAAW,mBAAA,GAAAA,mBAAA;AAIO,MAAMI,aAAa,GAAGA,CAC3BX,MAA8B,EAC9BC,OAAkC,KAChC;EACF,MAAMC,KAAK,GAAG9B,MAAM,CAAC+B,aAAa,CAACH,MAAM,EAAEC,OAAO,CAAC;EACnD,OAAWG,IAA4B,IAAkDF,KAAK,CAACE,IAAI,CAACQ,OAAO,CAAC;AAC9G,CAAC;AAED;;;;AAAAhB,OAAA,CAAAe,aAAA,GAAAA,aAAA;AAIO,MAAME,WAAW,GAAAjB,OAAA,CAAAiB,WAAA,gBAAsD5C,MAAM,CAAC6C,WAAW,CAC9F,kDAAkD,EAClD,MAAM/C,QAAQ,CAACgD,UAAU,CAAC5C,MAAM,CAAC6C,IAAI,EAAmB,CAAC,CAC1D;AAED;;;;AAIO,MAAMC,eAAe,GAAArB,OAAA,CAAAqB,eAAA,gBAAG,IAAAC,cAAI,EAWjC,CAAC,EAAE,CAACC,MAAM,EAAEC,IAAI,KAAKxD,MAAM,CAACyD,OAAO,CAACF,MAAM,EAAEN,WAAW,EAAE1C,MAAM,CAACmD,GAAG,CAACF,IAAI,EAAE/C,UAAU,CAACkD,IAAI,CAAC,CAAC,CAAC;AAE9F;;;AAGO,MAAMC,OAAO,GAAGA,CAAIpB,IAA4B,EAAEqB,IAAY,KAAY;EAC/E,MAAMC,WAAW,GAAGtB,IAAI,CAACQ,OAAO,CAAC,cAAc,CAAC,IAAI,EAAE;EACtD,IAAIe,IAAa;EACjB,IAAID,WAAW,CAACE,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IAC5C,IAAI;MACFD,IAAI,GAAG/D,MAAM,CAACiE,OAAO,CAACzB,IAAI,CAACE,IAAI,CAAC;IAClC,CAAC,CAAC,OAAOwB,CAAC,EAAE;MACV;IAAA;EAEJ,CAAC,MAAM,IAAIJ,WAAW,CAACE,QAAQ,CAAC,OAAO,CAAC,IAAIF,WAAW,CAACE,QAAQ,CAAC,YAAY,CAAC,EAAE;IAC9E,IAAI;MACFD,IAAI,GAAG/D,MAAM,CAACiE,OAAO,CAACzB,IAAI,CAAC2B,IAAI,CAAC;IAClC,CAAC,CAAC,OAAOD,CAAC,EAAE;MACV;IAAA;EAEJ;EACA,MAAME,GAAG,GAAQ;IACf,GAAGP,IAAI;IACPb,OAAO,EAAE1C,WAAW,CAAC+D,MAAM,CAAC7B,IAAI,CAACQ,OAAO,CAAC;IACzCsB,aAAa,EAAE9B,IAAI,CAAC8B,aAAa,CAACC,MAAM;GACzC;EACD,IAAIR,IAAI,KAAKS,SAAS,EAAE;IACtBJ,GAAG,CAACL,IAAI,GAAGA,IAAI;EACjB;EACA,OAAOK,GAAG;AACZ,CAAC;AAAApC,OAAA,CAAA4B,OAAA,GAAAA,OAAA","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/HttpServerRequest.js.map b/dist/cjs/HttpServerRequest.js.map
index 101cd366e29f7217d751641938cc24d10e85cab2..86d7696d182d17df1514ce70b56d51b73132fa29 100644
--- a/dist/cjs/HttpServerRequest.js.map
+++ b/dist/cjs/HttpServerRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpServerRequest.js","names":["internal","_interopRequireWildcard","require","_HttpIncomingMessage","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","HttpServerRequest","serverRequestTag","ParsedSearchParams","parsedSearchParamsTag","searchParamsFromURL","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaSearchParams","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb","toURL"],"sources":["../../src/HttpServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpServerRequest.js","names":["internal","_interopRequireWildcard","require","_HttpIncomingMessage","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","HttpServerRequest","serverRequestTag","ParsedSearchParams","parsedSearchParamsTag","searchParamsFromURL","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaSearchParams","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb","toURL"],"sources":["../../src/HttpServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/OpenApi.js b/dist/cjs/OpenApi.js
index 8f0a4f8e5255ea0036f0acb524c3d753c0dfb30d..eff9b2941492ab4f1971f7f5123920f9bfff75e4 100644
--- a/dist/cjs/OpenApi.js
+++ b/dist/cjs/OpenApi.js
@@ -8,7 +8,6 @@ var Context = _interopRequireWildcard(require("effect/Context"));
 var _GlobalValue = require("effect/GlobalValue");
 var Option = _interopRequireWildcard(require("effect/Option"));
 var Schema = _interopRequireWildcard(require("effect/Schema"));
-var AST = _interopRequireWildcard(require("effect/SchemaAST"));
 var HttpApi = _interopRequireWildcard(require("./HttpApi.js"));
 var HttpApiMiddleware = _interopRequireWildcard(require("./HttpApiMiddleware.js"));
 var HttpApiSchema = _interopRequireWildcard(require("./HttpApiSchema.js"));
@@ -193,7 +192,7 @@ const fromApi = self => {
     onGroup({
       group
     }) {
-      const tag = {
+      let tag = {
         name: Context.getOrElse(group.annotations, Title, () => group.identifier)
       };
       Option.map(Context.getOption(group.annotations, Description), description => {
@@ -205,6 +204,9 @@ const fromApi = self => {
       Option.map(Context.getOption(group.annotations, Override), override => {
         Object.assign(tag, override);
       });
+      Option.map(Context.getOption(group.annotations, Transform), fn => {
+        tag = fn(tag);
+      });
       spec.tags.push(tag);
     },
     onEndpoint({
@@ -217,7 +219,7 @@ const fromApi = self => {
     }) {
       const path = endpoint.path.replace(/:(\w+)[^/]*/g, "{$1}");
       const method = endpoint.method.toLowerCase();
-      const op = {
+      let op = {
         tags: [Context.getOrElse(group.annotations, Title, () => group.identifier)],
         operationId: Context.getOrElse(endpoint.annotations, Identifier, () => group.topLevel ? endpoint.name : `${group.identifier}.${endpoint.name}`),
         parameters: [],
@@ -261,10 +263,13 @@ const fromApi = self => {
           required: true
         };
       }
-      for (const [status, ast] of successes) {
+      for (const [status, {
+        ast,
+        description
+      }] of successes) {
         if (op.responses[status]) continue;
         op.responses[status] = {
-          description: Option.getOrElse(getDescriptionOrIdentifier(ast), () => "Success")
+          description: Option.getOrElse(description, () => "Success")
         };
         ast.pipe(Option.filter(ast => !HttpApiSchema.getEmptyDecodeable(ast)), Option.map(ast => {
           op.responses[status].content = {
@@ -326,10 +331,13 @@ const fromApi = self => {
           });
         }
       }
-      for (const [status, ast] of errors) {
+      for (const [status, {
+        ast,
+        description
+      }] of errors) {
         if (op.responses[status]) continue;
         op.responses[status] = {
-          description: Option.getOrElse(getDescriptionOrIdentifier(ast), () => "Error")
+          description: Option.getOrElse(description, () => "Error")
         };
         ast.pipe(Option.filter(ast => !HttpApiSchema.getEmptyDecodeable(ast)), Option.map(ast => {
           op.responses[status].content = {
@@ -345,6 +353,9 @@ const fromApi = self => {
       Option.map(Context.getOption(endpoint.annotations, Override), override => {
         Object.assign(op, override);
       });
+      Option.map(Context.getOption(endpoint.annotations, Transform), transformFn => {
+        op = transformFn(op);
+      });
       spec.paths[path][method] = op;
     }
   });
@@ -392,8 +403,4 @@ const makeSecurityScheme = security => {
       }
   }
 };
-const getDescriptionOrIdentifier = ast => ast.pipe(Option.map(ast => "to" in ast ? {
-  ...ast.to.annotations,
-  ...ast.annotations
-} : ast.annotations), Option.flatMapNullable(annotations => annotations[AST.DescriptionAnnotationId] ?? annotations[AST.IdentifierAnnotationId]));
 //# sourceMappingURL=OpenApi.js.map
\ No newline at end of file
diff --git a/dist/cjs/OpenApi.js.map b/dist/cjs/OpenApi.js.map
index dda248ae020313417ce9ba60a3e997b974bc4311..b7face84be2ec59bdaeec24a440db2daf6f8fc2c 100644
--- a/dist/cjs/OpenApi.js.map
+++ b/dist/cjs/OpenApi.js.map
@@ -1 +1 @@
-{"version":3,"file":"OpenApi.js","names":["Context","_interopRequireWildcard","require","_GlobalValue","Option","Schema","AST","HttpApi","HttpApiMiddleware","HttpApiSchema","HttpMethod","JsonSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Identifier","Tag","exports","Title","Version","Description","License","ExternalDocs","Servers","Format","Summary","Deprecated","Override","Transform","contextPartial","tags","entries","options","context","empty","key","tag","undefined","add","annotations","identifier","title","version","description","license","summary","externalDocs","servers","format","override","transform","apiCache","globalValue","fromApi","self","api","jsonSchemaDefs","spec","openapi","info","getOrElse","paths","components","schemas","securitySchemes","security","makeJsonSchemaOrRef","schema","makeWithDefs","defs","defsPath","registerSecurity","name","scheme","makeSecurityScheme","map","getOption","AdditionalSchemas","componentSchemas","forEach","componentSchema","assign","middlewares","middleware","isSecurity","push","reflect","onGroup","group","onEndpoint","endpoint","errors","payloads","successes","path","replace","method","toLowerCase","op","operationId","topLevel","parameters","responses","deprecated","size","content","ast","contentType","make","requestBody","required","status","getDescriptionOrIdentifier","pipe","filter","getEmptyDecodeable","isSome","pathSchema","value","properties","jsonSchema","in","includes","hasBody","payloadSchema","headersSchema","urlParamsSchema","transformFn","meta","_tag","type","bearerFormat","getOrUndefined","to","flatMapNullable","DescriptionAnnotationId","IdentifierAnnotationId"],"sources":["../../src/OpenApi.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,OAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAH,uBAAA,CAAAC,OAAA;AAEA,IAAAG,MAAA,GAAAJ,uBAAA,CAAAC,OAAA;AACA,IAAAI,GAAA,GAAAL,uBAAA,CAAAC,OAAA;AAEA,IAAAK,OAAA,GAAAN,uBAAA,CAAAC,OAAA;AACA,IAAAM,iBAAA,GAAAP,uBAAA,CAAAC,OAAA;AACA,IAAAO,aAAA,GAAAR,uBAAA,CAAAC,OAAA;AAEA,IAAAQ,UAAA,GAAAT,uBAAA,CAAAC,OAAA;AACA,IAAAS,UAAA,GAAAV,uBAAA,CAAAC,OAAA;AAAoD,SAAAU,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAZ,wBAAAY,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAfpD;;;;AAiBA;;;;AAIM,MAAOW,UAAW,sBAAQhC,OAAO,CAACiC,GAAG,CAAC,qCAAqC,CAAC,EAAsB;AAExG;;;;AAAAC,OAAA,CAAAF,UAAA,GAAAA,UAAA;AAIM,MAAOG,KAAM,sBAAQnC,OAAO,CAACiC,GAAG,CAAC,gCAAgC,CAAC,EAAiB;AAEzF;;;;AAAAC,OAAA,CAAAC,KAAA,GAAAA,KAAA;AAIM,MAAOC,OAAQ,sBAAQpC,OAAO,CAACiC,GAAG,CAAC,kCAAkC,CAAC,EAAmB;AAE/F;;;;AAAAC,OAAA,CAAAE,OAAA,GAAAA,OAAA;AAIM,MAAOC,WAAY,sBAAQrC,OAAO,CAACiC,GAAG,CAAC,sCAAsC,CAAC,EAAuB;AAE3G;;;;AAAAC,OAAA,CAAAG,WAAA,GAAAA,WAAA;AAIM,MAAOC,OAAQ,sBAAQtC,OAAO,CAACiC,GAAG,CAAC,kCAAkC,CAAC,EAA+B;AAE3G;;;;AAAAC,OAAA,CAAAI,OAAA,GAAAA,OAAA;AAIM,MAAOC,YACX,sBAAQvC,OAAO,CAACiC,GAAG,CAAC,uCAAuC,CAAC,EAAyC;AAGvG;;;;AAAAC,OAAA,CAAAK,YAAA,GAAAA,YAAA;AAIM,MAAOC,OACX,sBAAQxC,OAAO,CAACiC,GAAG,CAAC,kCAAkC,CAAC,EAA6C;AAGtG;;;;AAAAC,OAAA,CAAAM,OAAA,GAAAA,OAAA;AAIM,MAAOC,MAAO,sBAAQzC,OAAO,CAACiC,GAAG,CAAC,iCAAiC,CAAC,EAAkB;AAE5F;;;;AAAAC,OAAA,CAAAO,MAAA,GAAAA,MAAA;AAIM,MAAOC,OAAQ,sBAAQ1C,OAAO,CAACiC,GAAG,CAAC,kCAAkC,CAAC,EAAmB;AAE/F;;;;AAAAC,OAAA,CAAAQ,OAAA,GAAAA,OAAA;AAIM,MAAOC,UAAW,sBAAQ3C,OAAO,CAACiC,GAAG,CAAC,qCAAqC,CAAC,EAAuB;AAEzG;;;;AAAAC,OAAA,CAAAS,UAAA,GAAAA,UAAA;AAIM,MAAOC,QAAS,sBAAQ5C,OAAO,CAACiC,GAAG,CAAC,mCAAmC,CAAC,EAAqC;AAEnH;;;;;AAAAC,OAAA,CAAAU,QAAA,GAAAA,QAAA;AAKM,MAAOC,SACX,sBAAQ7C,OAAO,CAACiC,GAAG,CAAC,oCAAoC,CAAC,EAAwD;AAAAC,OAAA,CAAAW,SAAA,GAAAA,SAAA;AAGnH,MAAMC,cAAc,GAAwDC,IAAU,IAIxD;EAC5B,MAAMC,OAAO,GAAGxB,MAAM,CAACwB,OAAO,CAACD,IAAI,CAAC;EACpC,OAAQE,OAAO,IAAI;IACjB,IAAIC,OAAO,GAAGlD,OAAO,CAACmD,KAAK,EAAE;IAC7B,KAAK,MAAM,CAACC,GAAG,EAAEC,GAAG,CAAC,IAAIL,OAAO,EAAE;MAChC,IAAIC,OAAO,CAACG,GAAG,CAAC,KAAKE,SAAS,EAAE;QAC9BJ,OAAO,GAAGlD,OAAO,CAACuD,GAAG,CAACL,OAAO,EAAEG,GAAG,EAAEJ,OAAO,CAACG,GAAG,CAAE,CAAC;MACpD;IACF;IACA,OAAOF,OAAO;EAChB,CAAC;AACH,CAAC;AAED;;;;AAIO,MAAMM,WAAW,GAAAtB,OAAA,CAAAsB,WAAA,gBAiBMV,cAAc,CAAC;EAC3CW,UAAU,EAAEzB,UAAU;EACtB0B,KAAK,EAAEvB,KAAK;EACZwB,OAAO,EAAEvB,OAAO;EAChBwB,WAAW,EAAEvB,WAAW;EACxBwB,OAAO,EAAEvB,OAAO;EAChBwB,OAAO,EAAEpB,OAAO;EAChBqB,YAAY,EAAExB,YAAY;EAC1ByB,OAAO,EAAExB,OAAO;EAChByB,MAAM,EAAExB,MAAM;EACdyB,QAAQ,EAAEtB,QAAQ;EAClBuB,SAAS,EAAEtB;CACZ,CAAC;AAEF,MAAMuB,QAAQ,gBAAG,IAAAC,wBAAW,EAAC,mCAAmC,EAAE,MAAM,IAAIvD,OAAO,EAAoC,CAAC;AAExH;;;;AAIO,MAAMwD,OAAO,GAAmCC,IAAO,IAAiB;EAC7E,IAAIH,QAAQ,CAACjD,GAAG,CAACoD,IAAI,CAAC,EAAE;IACtB,OAAOH,QAAQ,CAAChD,GAAG,CAACmD,IAAI,CAAE;EAC5B;EACA,MAAMC,GAAG,GAAGD,IAA+C;EAC3D,MAAME,cAAc,GAA0C,EAAE;EAChE,IAAIC,IAAI,GAA6B;IACnCC,OAAO,EAAE,OAAO;IAChBC,IAAI,EAAE;MACJlB,KAAK,EAAE1D,OAAO,CAAC6E,SAAS,CAACL,GAAG,CAAChB,WAAW,EAAErB,KAAK,EAAE,MAAM,KAAK,CAAC;MAC7DwB,OAAO,EAAE3D,OAAO,CAAC6E,SAAS,CAACL,GAAG,CAAChB,WAAW,EAAEpB,OAAO,EAAE,MAAM,OAAO;KACnE;IACD0C,KAAK,EAAE,EAAE;IACT/B,IAAI,EAAE,EAAE;IACRgC,UAAU,EAAE;MACVC,OAAO,EAAEP,cAAc;MACvBQ,eAAe,EAAE;KAClB;IACDC,QAAQ,EAAE;GACX;EACD,SAASC,mBAAmBA,CAACC,MAAyB;IACpD,OAAOzE,UAAU,CAAC0E,YAAY,CAACD,MAAa,EAAE;MAC5CE,IAAI,EAAEb,cAAc;MACpBc,QAAQ,EAAE;KACX,CAAC;EACJ;EACA,SAASC,gBAAgBA,CACvBC,IAAY,EACZP,QAAyB;IAEzB,IAAIR,IAAI,CAACK,UAAW,CAACE,eAAgB,CAACQ,IAAI,CAAC,EAAE;MAC3C;IACF;IACA,MAAMC,MAAM,GAAGC,kBAAkB,CAACT,QAAQ,CAAC;IAC3CR,IAAI,CAACK,UAAW,CAACE,eAAgB,CAACQ,IAAI,CAAC,GAAGC,MAAM;EAClD;EACAtF,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACrB,GAAG,CAAChB,WAAW,EAAEjD,OAAO,CAACuF,iBAAiB,CAAC,EAAGC,gBAAgB,IAAI;IAC7FA,gBAAgB,CAACC,OAAO,CAAEC,eAAe,IAAKd,mBAAmB,CAACc,eAAe,CAAC,CAAC;EACrF,CAAC,CAAC;EACF7F,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACrB,GAAG,CAAChB,WAAW,EAAEnB,WAAW,CAAC,EAAGuB,WAAW,IAAI;IAC1Ec,IAAI,CAACE,IAAI,CAAChB,WAAW,GAAGA,WAAW;EACrC,CAAC,CAAC;EACFxD,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACrB,GAAG,CAAChB,WAAW,EAAElB,OAAO,CAAC,EAAGuB,OAAO,IAAI;IAClEa,IAAI,CAACE,IAAI,CAACf,OAAO,GAAGA,OAAO;EAC7B,CAAC,CAAC;EACFzD,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACrB,GAAG,CAAChB,WAAW,EAAEd,OAAO,CAAC,EAAGoB,OAAO,IAAI;IAClEY,IAAI,CAACE,IAAI,CAACd,OAAO,GAAGA,OAAc;EACpC,CAAC,CAAC;EACF1D,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACrB,GAAG,CAAChB,WAAW,EAAEhB,OAAO,CAAC,EAAGwB,OAAO,IAAI;IAClEU,IAAI,CAACV,OAAO,GAAGA,OAAc;EAC/B,CAAC,CAAC;EACF5D,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACrB,GAAG,CAAChB,WAAW,EAAEZ,QAAQ,CAAC,EAAGsB,QAAQ,IAAI;IACpE1C,MAAM,CAAC0E,MAAM,CAACxB,IAAI,EAAER,QAAQ,CAAC;EAC/B,CAAC,CAAC;EACFM,GAAG,CAAC2B,WAAW,CAACH,OAAO,CAAEI,UAAU,IAAI;IACrC,IAAI,CAAC5F,iBAAiB,CAAC6F,UAAU,CAACD,UAAU,CAAC,EAAE;MAC7C;IACF;IACA,KAAK,MAAM,CAACX,IAAI,EAAEP,QAAQ,CAAC,IAAI1D,MAAM,CAACwB,OAAO,CAACoD,UAAU,CAAClB,QAAQ,CAAC,EAAE;MAClEM,gBAAgB,CAACC,IAAI,EAAEP,QAAQ,CAAC;MAChCR,IAAI,CAACQ,QAAS,CAACoB,IAAI,CAAC;QAAE,CAACb,IAAI,GAAG;MAAE,CAAE,CAAC;IACrC;EACF,CAAC,CAAC;EACFlF,OAAO,CAACgG,OAAO,CAAC/B,GAAU,EAAE;IAC1BgC,OAAOA,CAAC;MAAEC;IAAK,CAAE;MACf,MAAMpD,GAAG,GAA4B;QACnCoC,IAAI,EAAEzF,OAAO,CAAC6E,SAAS,CAAC4B,KAAK,CAACjD,WAAW,EAAErB,KAAK,EAAE,MAAMsE,KAAK,CAAChD,UAAU;OACzE;MACDrD,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACY,KAAK,CAACjD,WAAW,EAAEnB,WAAW,CAAC,EAAGuB,WAAW,IAAI;QAC5EP,GAAG,CAACO,WAAW,GAAGA,WAAW;MAC/B,CAAC,CAAC;MACFxD,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACY,KAAK,CAACjD,WAAW,EAAEjB,YAAY,CAAC,EAAGwB,YAAY,IAAI;QAC9EV,GAAG,CAACU,YAAY,GAAGA,YAAY;MACjC,CAAC,CAAC;MACF3D,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACY,KAAK,CAACjD,WAAW,EAAEZ,QAAQ,CAAC,EAAGsB,QAAQ,IAAI;QACtE1C,MAAM,CAAC0E,MAAM,CAAC7C,GAAG,EAAEa,QAAQ,CAAC;MAC9B,CAAC,CAAC;MACFQ,IAAI,CAAC3B,IAAK,CAACuD,IAAI,CAACjD,GAAG,CAAC;IACtB,CAAC;IACDqD,UAAUA,CAAC;MAAEC,QAAQ;MAAEC,MAAM;MAAEH,KAAK;MAAEL,UAAU;MAAES,QAAQ;MAAEC;IAAS,CAAE;MACrE,MAAMC,IAAI,GAAGJ,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,cAAc,EAAE,MAAM,CAAC;MAC1D,MAAMC,MAAM,GAAGN,QAAQ,CAACM,MAAM,CAACC,WAAW,EAA2B;MACrE,MAAMC,EAAE,GAAsC;QAC5CpE,IAAI,EAAE,CAAC/C,OAAO,CAAC6E,SAAS,CAAC4B,KAAK,CAACjD,WAAW,EAAErB,KAAK,EAAE,MAAMsE,KAAK,CAAChD,UAAU,CAAC,CAAC;QAC3E2D,WAAW,EAAEpH,OAAO,CAAC6E,SAAS,CAC5B8B,QAAQ,CAACnD,WAAW,EACpBxB,UAAU,EACV,MAAMyE,KAAK,CAACY,QAAQ,GAAGV,QAAQ,CAAClB,IAAI,GAAG,GAAGgB,KAAK,CAAChD,UAAU,IAAIkD,QAAQ,CAAClB,IAAI,EAAE,CAC9E;QACD6B,UAAU,EAAE,EAAE;QACdpC,QAAQ,EAAE,EAAE;QACZqC,SAAS,EAAE;OACZ;MACDnH,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACc,QAAQ,CAACnD,WAAW,EAAEnB,WAAW,CAAC,EAAGuB,WAAW,IAAI;QAC/EuD,EAAE,CAACvD,WAAW,GAAGA,WAAW;MAC9B,CAAC,CAAC;MACFxD,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACc,QAAQ,CAACnD,WAAW,EAAEd,OAAO,CAAC,EAAGoB,OAAO,IAAI;QACvEqD,EAAE,CAACrD,OAAO,GAAGA,OAAO;MACtB,CAAC,CAAC;MACF1D,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACc,QAAQ,CAACnD,WAAW,EAAEb,UAAU,CAAC,EAAG6E,UAAU,IAAI;QAC7EL,EAAE,CAACK,UAAU,GAAGA,UAAU;MAC5B,CAAC,CAAC;MACFpH,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACc,QAAQ,CAACnD,WAAW,EAAEjB,YAAY,CAAC,EAAGwB,YAAY,IAAI;QACjFoD,EAAE,CAACpD,YAAY,GAAGA,YAAY;MAChC,CAAC,CAAC;MACFqC,UAAU,CAACJ,OAAO,CAAEI,UAAU,IAAI;QAChC,IAAI,CAAC5F,iBAAiB,CAAC6F,UAAU,CAACD,UAAU,CAAC,EAAE;UAC7C;QACF;QACA,KAAK,MAAM,CAACX,IAAI,EAAEP,QAAQ,CAAC,IAAI1D,MAAM,CAACwB,OAAO,CAACoD,UAAU,CAAClB,QAAQ,CAAC,EAAE;UAClEM,gBAAgB,CAACC,IAAI,EAAEP,QAAQ,CAAC;UAChCiC,EAAE,CAACjC,QAAS,CAACoB,IAAI,CAAC;YAAE,CAACb,IAAI,GAAG;UAAE,CAAE,CAAC;QACnC;MACF,CAAC,CAAC;MACF,IAAIoB,QAAQ,CAACY,IAAI,GAAG,CAAC,EAAE;QACrB,MAAMC,OAAO,GAAgC,EAAE;QAC/Cb,QAAQ,CAACb,OAAO,CAAC,CAAC;UAAE2B;QAAG,CAAE,EAAEC,WAAW,KAAI;UACxCF,OAAO,CAACE,WAAqC,CAAC,GAAG;YAC/CxC,MAAM,EAAED,mBAAmB,CAAC9E,MAAM,CAACwH,IAAI,CAACF,GAAG,CAAC;WAC7C;QACH,CAAC,CAAC;QACFR,EAAE,CAACW,WAAW,GAAG;UAAEJ,OAAO;UAAEK,QAAQ,EAAE;QAAI,CAAE;MAC9C;MACA,KAAK,MAAM,CAACC,MAAM,EAAEL,GAAG,CAAC,IAAIb,SAAS,EAAE;QACrC,IAAIK,EAAE,CAACI,SAAU,CAACS,MAAM,CAAC,EAAE;QAC3Bb,EAAE,CAACI,SAAU,CAACS,MAAM,CAAC,GAAG;UACtBpE,WAAW,EAAExD,MAAM,CAACyE,SAAS,CAACoD,0BAA0B,CAACN,GAAG,CAAC,EAAE,MAAM,SAAS;SAC/E;QACDA,GAAG,CAACO,IAAI,CACN9H,MAAM,CAAC+H,MAAM,CAAER,GAAG,IAAK,CAAClH,aAAa,CAAC2H,kBAAkB,CAACT,GAAG,CAAC,CAAC,EAC9DvH,MAAM,CAACwF,GAAG,CAAE+B,GAAG,IAAI;UACjBR,EAAE,CAACI,SAAU,CAACS,MAAM,CAAC,CAACN,OAAO,GAAG;YAC9B,kBAAkB,EAAE;cAClBtC,MAAM,EAAED,mBAAmB,CAAC9E,MAAM,CAACwH,IAAI,CAACF,GAAG,CAAC;;WAE/C;QACH,CAAC,CAAC,CACH;MACH;MACA,IAAIvH,MAAM,CAACiI,MAAM,CAAC1B,QAAQ,CAAC2B,UAAU,CAAC,EAAE;QACtC,MAAMlD,MAAM,GAAGD,mBAAmB,CAACwB,QAAQ,CAAC2B,UAAU,CAACC,KAAK,CAAsB;QAClF,IAAI,YAAY,IAAInD,MAAM,EAAE;UAC1B5D,MAAM,CAACwB,OAAO,CAACoC,MAAM,CAACoD,UAAU,CAAC,CAACxC,OAAO,CAAC,CAAC,CAACP,IAAI,EAAEgD,UAAU,CAAC,KAAI;YAC/DtB,EAAE,CAACG,UAAW,CAAChB,IAAI,CAAC;cAClBb,IAAI;cACJiD,EAAE,EAAE,MAAM;cACVtD,MAAM,EAAEqD,UAAU;cAClBV,QAAQ,EAAE3C,MAAM,CAAC2C,QAAQ,CAACY,QAAQ,CAAClD,IAAI;aACxC,CAAC;UACJ,CAAC,CAAC;QACJ;MACF;MACA,IAAI,CAAC/E,UAAU,CAACkI,OAAO,CAACjC,QAAQ,CAACM,MAAM,CAAC,IAAI7G,MAAM,CAACiI,MAAM,CAAC1B,QAAQ,CAACkC,aAAa,CAAC,EAAE;QACjF,MAAMzD,MAAM,GAAGD,mBAAmB,CAACwB,QAAQ,CAACkC,aAAa,CAACN,KAAK,CAAsB;QACrF,IAAI,YAAY,IAAInD,MAAM,EAAE;UAC1B5D,MAAM,CAACwB,OAAO,CAACoC,MAAM,CAACoD,UAAU,CAAC,CAACxC,OAAO,CAAC,CAAC,CAACP,IAAI,EAAEgD,UAAU,CAAC,KAAI;YAC/DtB,EAAE,CAACG,UAAW,CAAChB,IAAI,CAAC;cAClBb,IAAI;cACJiD,EAAE,EAAE,OAAO;cACXtD,MAAM,EAAEqD,UAAU;cAClBV,QAAQ,EAAE3C,MAAM,CAAC2C,QAAQ,CAACY,QAAQ,CAAClD,IAAI;aACxC,CAAC;UACJ,CAAC,CAAC;QACJ;MACF;MACA,IAAIrF,MAAM,CAACiI,MAAM,CAAC1B,QAAQ,CAACmC,aAAa,CAAC,EAAE;QACzC,MAAM1D,MAAM,GAAGD,mBAAmB,CAACwB,QAAQ,CAACmC,aAAa,CAACP,KAAK,CAAsB;QACrF,IAAI,YAAY,IAAInD,MAAM,EAAE;UAC1B5D,MAAM,CAACwB,OAAO,CAACoC,MAAM,CAACoD,UAAU,CAAC,CAACxC,OAAO,CAAC,CAAC,CAACP,IAAI,EAAEgD,UAAU,CAAC,KAAI;YAC/DtB,EAAE,CAACG,UAAW,CAAChB,IAAI,CAAC;cAClBb,IAAI;cACJiD,EAAE,EAAE,QAAQ;cACZtD,MAAM,EAAEqD,UAAU;cAClBV,QAAQ,EAAE3C,MAAM,CAAC2C,QAAQ,CAACY,QAAQ,CAAClD,IAAI;aACxC,CAAC;UACJ,CAAC,CAAC;QACJ;MACF;MACA,IAAIrF,MAAM,CAACiI,MAAM,CAAC1B,QAAQ,CAACoC,eAAe,CAAC,EAAE;QAC3C,MAAM3D,MAAM,GAAGD,mBAAmB,CAACwB,QAAQ,CAACoC,eAAe,CAACR,KAAK,CAAsB;QACvF,IAAI,YAAY,IAAInD,MAAM,EAAE;UAC1B5D,MAAM,CAACwB,OAAO,CAACoC,MAAM,CAACoD,UAAU,CAAC,CAACxC,OAAO,CAAC,CAAC,CAACP,IAAI,EAAEgD,UAAU,CAAC,KAAI;YAC/DtB,EAAE,CAACG,UAAW,CAAChB,IAAI,CAAC;cAClBb,IAAI;cACJiD,EAAE,EAAE,OAAO;cACXtD,MAAM,EAAEqD,UAAU;cAClBV,QAAQ,EAAE3C,MAAM,CAAC2C,QAAQ,CAACY,QAAQ,CAAClD,IAAI;aACxC,CAAC;UACJ,CAAC,CAAC;QACJ;MACF;MACA,KAAK,MAAM,CAACuC,MAAM,EAAEL,GAAG,CAAC,IAAIf,MAAM,EAAE;QAClC,IAAIO,EAAE,CAACI,SAAU,CAACS,MAAM,CAAC,EAAE;QAC3Bb,EAAE,CAACI,SAAU,CAACS,MAAM,CAAC,GAAG;UACtBpE,WAAW,EAAExD,MAAM,CAACyE,SAAS,CAACoD,0BAA0B,CAACN,GAAG,CAAC,EAAE,MAAM,OAAO;SAC7E;QACDA,GAAG,CAACO,IAAI,CACN9H,MAAM,CAAC+H,MAAM,CAAER,GAAG,IAAK,CAAClH,aAAa,CAAC2H,kBAAkB,CAACT,GAAG,CAAC,CAAC,EAC9DvH,MAAM,CAACwF,GAAG,CAAE+B,GAAG,IAAI;UACjBR,EAAE,CAACI,SAAU,CAACS,MAAM,CAAC,CAACN,OAAO,GAAG;YAC9B,kBAAkB,EAAE;cAClBtC,MAAM,EAAED,mBAAmB,CAAC9E,MAAM,CAACwH,IAAI,CAACF,GAAG,CAAC;;WAE/C;QACH,CAAC,CAAC,CACH;MACH;MACA,IAAI,CAACjD,IAAI,CAACI,KAAK,CAACiC,IAAI,CAAC,EAAE;QACrBrC,IAAI,CAACI,KAAK,CAACiC,IAAI,CAAC,GAAG,EAAE;MACvB;MACA3G,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACc,QAAQ,CAACnD,WAAW,EAAEZ,QAAQ,CAAC,EAAGsB,QAAQ,IAAI;QACzE1C,MAAM,CAAC0E,MAAM,CAACiB,EAAE,EAAEjD,QAAQ,CAAC;MAC7B,CAAC,CAAC;MACFQ,IAAI,CAACI,KAAK,CAACiC,IAAI,CAAC,CAACE,MAAM,CAAC,GAAGE,EAAE;IAC/B;GACD,CAAC;EAEF/G,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACrB,GAAG,CAAChB,WAAW,EAAEX,SAAS,CAAC,EAAGmG,WAAW,IAAI;IACxEtE,IAAI,GAAGsE,WAAW,CAACtE,IAAI,CAAC;EAC1B,CAAC,CAAC;EAEFN,QAAQ,CAACrC,GAAG,CAACwC,IAAI,EAAEG,IAAI,CAAC;EAExB,OAAOA,IAAI;AACb,CAAC;AAAAxC,OAAA,CAAAoC,OAAA,GAAAA,OAAA;AAED,MAAMqB,kBAAkB,GAAIT,QAAyB,IAA2B;EAC9E,MAAM+D,IAAI,GAA4C,EAAE;EACxD7I,MAAM,CAACwF,GAAG,CAAC5F,OAAO,CAAC6F,SAAS,CAACX,QAAQ,CAAC1B,WAAW,EAAEnB,WAAW,CAAC,EAAGuB,WAAW,IAAI;IAC/EqF,IAAI,CAACrF,WAAW,GAAGA,WAAW;EAChC,CAAC,CAAC;EACF,QAAQsB,QAAQ,CAACgE,IAAI;IACnB,KAAK,OAAO;MAAE;QACZ,OAAO;UACL,GAAGD,IAAI;UACPE,IAAI,EAAE,MAAM;UACZzD,MAAM,EAAE;SACT;MACH;IACA,KAAK,QAAQ;MAAE;QACb,MAAMzB,MAAM,GAAGjE,OAAO,CAAC6F,SAAS,CAACX,QAAQ,CAAC1B,WAAW,EAAEf,MAAM,CAAC,CAACyF,IAAI,CACjE9H,MAAM,CAACwF,GAAG,CAAE3B,MAAM,KAAM;UAAEmF,YAAY,EAAEnF;QAAM,CAAE,CAAC,CAAC,EAClD7D,MAAM,CAACiJ,cAAc,CACtB;QACD,OAAO;UACL,GAAGJ,IAAI;UACPE,IAAI,EAAE,MAAM;UACZzD,MAAM,EAAE,QAAQ;UAChB,GAAGzB;SACJ;MACH;IACA,KAAK,QAAQ;MAAE;QACb,OAAO;UACL,GAAGgF,IAAI;UACPE,IAAI,EAAE,QAAQ;UACd1D,IAAI,EAAEP,QAAQ,CAAC9B,GAAG;UAClBsF,EAAE,EAAExD,QAAQ,CAACwD;SACd;MACH;EACF;AACF,CAAC;AAED,MAAMT,0BAA0B,GAAIN,GAAmD,IACrFA,GAAG,CAACO,IAAI,CACN9H,MAAM,CAACwF,GAAG,CAAE+B,GAAG,IACb,IAAI,IAAIA,GAAG,GACT;EACE,GAAGA,GAAG,CAAC2B,EAAE,CAAC9F,WAAW;EACrB,GAAGmE,GAAG,CAACnE;CACR,GACDmE,GAAG,CAACnE,WAAW,CAClB,EACDpD,MAAM,CAACmJ,eAAe,CAAE/F,WAAW,IACjCA,WAAW,CAAClD,GAAG,CAACkJ,uBAAuB,CAAC,IAAIhG,WAAW,CAAClD,GAAG,CAACmJ,sBAAsB,CAAQ,CAC3F,CACF","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"OpenApi.js","names":["Context","_interopRequireWildcard","require","_GlobalValue","Option","Schema","HttpApi","HttpApiMiddleware","HttpApiSchema","HttpMethod","JsonSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Identifier","Tag","exports","Title","Version","Description","License","ExternalDocs","Servers","Format","Summary","Deprecated","Override","Transform","contextPartial","tags","entries","options","context","empty","key","tag","undefined","add","annotations","identifier","title","version","description","license","summary","externalDocs","servers","format","override","transform","apiCache","globalValue","fromApi","self","api","jsonSchemaDefs","spec","openapi","info","getOrElse","paths","components","schemas","securitySchemes","security","makeJsonSchemaOrRef","schema","makeWithDefs","defs","defsPath","registerSecurity","name","scheme","makeSecurityScheme","map","getOption","AdditionalSchemas","componentSchemas","forEach","componentSchema","assign","middlewares","middleware","isSecurity","push","reflect","onGroup","group","fn","onEndpoint","endpoint","errors","payloads","successes","path","replace","method","toLowerCase","op","operationId","topLevel","parameters","responses","deprecated","size","content","ast","contentType","make","requestBody","required","status","pipe","filter","getEmptyDecodeable","isSome","pathSchema","value","properties","jsonSchema","in","includes","hasBody","payloadSchema","headersSchema","urlParamsSchema","transformFn","meta","_tag","type","bearerFormat","getOrUndefined"],"sources":["../../src/OpenApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/OpenApiJsonSchema.js.map b/dist/cjs/OpenApiJsonSchema.js.map
index cd89103dfcce96f37f0ed34b37005df0ecadab3f..f10496e8f3af378194128b9726826cb6de588afb 100644
--- a/dist/cjs/OpenApiJsonSchema.js.map
+++ b/dist/cjs/OpenApiJsonSchema.js.map
@@ -1 +1 @@
-{"version":3,"file":"OpenApiJsonSchema.js","names":["Arr","_interopRequireWildcard","require","Option","Predicate","Record","AST","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","schema","$defs","out","makeWithDefs","defs","isEmptyRecord","exports","options","defsPath","getRef","id","go","ast","constAny","$id","constUnknown","constVoid","constAnyObject","constEmpty","getJsonSchemaAnnotations","annotated","getSomes","description","getDescriptionAnnotation","title","getTitleAnnotation","examples","getExamplesAnnotation","getDefaultAnnotation","removeDefaultJsonSchemaAnnotations","jsonSchemaAnnotations","annotations","TitleAnnotationId","DescriptionAnnotationId","getASTJsonSchemaAnnotations","_tag","stringKeyword","numberKeyword","booleanKeyword","pruneUndefinedFromPropertySignature","isNone","getJSONSchemaAnnotation","types","filter","type","isUndefinedKeyword","length","Union","isParseJsonTransformation","from","to","getRefinementInnerTransformation","f","isRefinement","SchemaIdAnnotationId","ParseJsonSchemaId","isOverrideAnnotation","jsonSchema","handleIdentifier","path","hook","isSome","handler","value","undefined","surrogate","getSurrogateAnnotation","identifier","getJSONIdentifier","$ref","Error","getJSONSchemaMissingAnnotationErrorMessage","literal","enum","isString","isNumber","isBoolean","elements","map","concat","rest","annotatedAST","output","len","minItems","element","isOptional","items","restLength","head","isHomogeneous","every","additionalItems","getJSONSchemaUnsupportedPostRestElementsErrorMessage","maxItems","propertySignatures","indexSignatures","patternProperties","propertyNames","is","parameter","pattern","getTemplateLiteralRegExp","source","getJSONSchemaUnsupportedParameterErrorMessage","required","properties","additionalProperties","ps","name","pruned","push","getJSONSchemaUnsupportedKeyErrorMessage","enums","anyOf","keys","$comment","encodedBoundAST","regex","orElse","getJSONSchemaMissingIdentifierAnnotationErrorMessage","contentMediaType","contentSchema","getMissingAnnotationErrorMessage","getErrorMessage","key","formatPropertyKey","details","reason","isNonEmptyReadonlyArray","formatPath","formatPathKey","isNonEmpty","join","x","Array","isArray","JSON","stringify","String"],"sources":["../../src/OpenApiJsonSchema.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"OpenApiJsonSchema.js","names":["Arr","_interopRequireWildcard","require","Option","Predicate","Record","AST","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","schema","$defs","out","makeWithDefs","defs","isEmptyRecord","exports","options","defsPath","getRef","id","go","ast","constAny","$id","constUnknown","constVoid","constAnyObject","constEmpty","getJsonSchemaAnnotations","annotated","getSomes","description","getDescriptionAnnotation","title","getTitleAnnotation","examples","getExamplesAnnotation","getDefaultAnnotation","removeDefaultJsonSchemaAnnotations","jsonSchemaAnnotations","annotations","TitleAnnotationId","DescriptionAnnotationId","getASTJsonSchemaAnnotations","_tag","stringKeyword","numberKeyword","booleanKeyword","pruneUndefinedFromPropertySignature","isNone","getJSONSchemaAnnotation","types","filter","type","isUndefinedKeyword","length","Union","isParseJsonTransformation","from","to","getRefinementInnerTransformation","f","isRefinement","SchemaIdAnnotationId","ParseJsonSchemaId","isOverrideAnnotation","jsonSchema","handleIdentifier","path","hook","isSome","handler","value","undefined","surrogate","getSurrogateAnnotation","identifier","getJSONIdentifier","$ref","Error","getJSONSchemaMissingAnnotationErrorMessage","literal","enum","isString","isNumber","isBoolean","elements","map","concat","rest","annotatedAST","output","len","minItems","element","isOptional","items","restLength","head","isHomogeneous","every","additionalItems","getJSONSchemaUnsupportedPostRestElementsErrorMessage","maxItems","propertySignatures","indexSignatures","patternProperties","propertyNames","is","parameter","pattern","getTemplateLiteralRegExp","source","getJSONSchemaUnsupportedParameterErrorMessage","required","properties","additionalProperties","ps","name","pruned","push","getJSONSchemaUnsupportedKeyErrorMessage","enums","anyOf","keys","$comment","encodedBoundAST","regex","orElse","getJSONSchemaMissingIdentifierAnnotationErrorMessage","contentMediaType","contentSchema","getMissingAnnotationErrorMessage","getErrorMessage","key","formatPropertyKey","details","reason","isNonEmptyReadonlyArray","formatPath","formatPathKey","isNonEmpty","join","x","Array","isArray","JSON","stringify","String"],"sources":["../../src/OpenApiJsonSchema.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/UrlParams.js b/dist/cjs/UrlParams.js
index 35d0db5f539682cf85d346857f0a453fb7fa5913..66bb5c0bf605982d7bd7911d12ca894d400a1b07 100644
--- a/dist/cjs/UrlParams.js
+++ b/dist/cjs/UrlParams.js
@@ -3,7 +3,7 @@
 Object.defineProperty(exports, "__esModule", {
   value: true
 });
-exports.toString = exports.toRecord = exports.setAll = exports.set = exports.schemaJson = exports.schema = exports.remove = exports.makeUrl = exports.getLast = exports.getFirst = exports.getAll = exports.fromInput = exports.empty = exports.appendAll = exports.append = void 0;
+exports.toString = exports.toRecord = exports.setAll = exports.set = exports.schemaStruct = exports.schemaJson = exports.schema = exports.remove = exports.makeUrl = exports.getLast = exports.getFirst = exports.getAll = exports.fromInput = exports.empty = exports.appendAll = exports.append = void 0;
 var Arr = _interopRequireWildcard(require("effect/Array"));
 var Either = _interopRequireWildcard(require("effect/Either"));
 var _Function = require("effect/Function");
@@ -99,14 +99,8 @@ const appendAll = exports.appendAll = /*#__PURE__*/(0, _Function.dual)(2, (self,
 const remove = exports.remove = /*#__PURE__*/(0, _Function.dual)(2, (self, key) => Arr.filter(self, ([k]) => k !== key));
 /**
  * @since 1.0.0
- * @category combinators
- */
-const toString = self => new URLSearchParams(self).toString();
-/**
- * @since 1.0.0
- * @category constructors
+ * @category conversions
  */
-exports.toString = toString;
 const makeUrl = (url, params, hash) => {
   try {
     const urlInstance = new URL(url, baseUrl());
@@ -124,7 +118,13 @@ const makeUrl = (url, params, hash) => {
     return Either.left(e);
   }
 };
+/**
+ * @since 1.0.0
+ * @category conversions
+ */
 exports.makeUrl = makeUrl;
+const toString = self => new URLSearchParams(self).toString();
+exports.toString = toString;
 const baseUrl = () => {
   if ("location" in globalThis && globalThis.location !== undefined && globalThis.location.origin !== undefined && globalThis.location.pathname !== undefined) {
     return location.origin + location.pathname;
@@ -173,5 +173,33 @@ const schemaJson = (schema, options) => {
   const parse = Schema.decodeUnknown(Schema.parseJson(schema), options);
   return (0, _Function.dual)(2, (self, field) => parse(Option.getOrElse(getLast(self, field), () => "")));
 };
+/**
+ * Extract schema from all key-value pairs in the given `UrlParams`.
+ *
+ * @example
+ * import { Effect, Schema } from "effect"
+ * import { UrlParams } from "@effect/platform"
+ *
+ * Effect.gen(function* () {
+ *   const urlParams = UrlParams.fromInput({ "a": [10, "string"], "b": false })
+ *   const result = yield* UrlParams.schemaStruct(Schema.Struct({
+ *     a: Schema.Tuple(Schema.NumberFromString, Schema.String),
+ *     b: Schema.BooleanFromString
+ *   }))(urlParams)
+ *
+ *   assert.deepStrictEqual(result, {
+ *     a: [10, "string"],
+ *     b: false
+ *   })
+ * })
+ *
+ * @since 1.0.0
+ * @category schema
+ */
 exports.schemaJson = schemaJson;
+const schemaStruct = (schema, options) => self => {
+  const parse = Schema.decodeUnknown(schema, options);
+  return parse(toRecord(self));
+};
+exports.schemaStruct = schemaStruct;
 //# sourceMappingURL=UrlParams.js.map
\ No newline at end of file
diff --git a/dist/cjs/UrlParams.js.map b/dist/cjs/UrlParams.js.map
index 8ebf54b7bfb1b71acca8e767dd0853e9c0c80763..7124a80542f885c2fc39f273461c988a3e2bece0 100644
--- a/dist/cjs/UrlParams.js.map
+++ b/dist/cjs/UrlParams.js.map
@@ -1 +1 @@
-{"version":3,"file":"UrlParams.js","names":["Arr","_interopRequireWildcard","require","Either","_Function","Option","Schema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","fromInput","input","entries","Symbol","iterator","fromIterable","out","key","value","Array","isArray","length","undefined","push","String","exports","schema","Tuple","annotations","identifier","empty","getAll","dual","self","reduce","acc","k","getFirst","map","findFirst","getLast","findLast","append","filter","setAll","toSet","keys","appendAll","includes","remove","toString","URLSearchParams","makeUrl","url","params","hash","urlInstance","URL","baseUrl","searchParams","_tag","right","left","globalThis","location","origin","pathname","toRecord","curr","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse"],"sources":["../../src/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"UrlParams.js","names":["Arr","_interopRequireWildcard","require","Either","_Function","Option","Schema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","fromInput","input","entries","Symbol","iterator","fromIterable","out","key","value","Array","isArray","length","undefined","push","String","exports","schema","Tuple","annotations","identifier","empty","getAll","dual","self","reduce","acc","k","getFirst","map","findFirst","getLast","findLast","append","filter","setAll","toSet","keys","appendAll","includes","remove","makeUrl","url","params","hash","urlInstance","URL","baseUrl","searchParams","_tag","right","left","toString","URLSearchParams","globalThis","location","origin","pathname","toRecord","curr","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse","schemaStruct"],"sources":["../../src/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/httpClient.js b/dist/cjs/internal/httpClient.js
index 00a99fb5fd26602e5f329c4a419eb2f28a4db8b4..e007828dbb3d4c6dd04ac9a628dbbf8c3e0d5ffa 100644
--- a/dist/cjs/internal/httpClient.js
+++ b/dist/cjs/internal/httpClient.js
@@ -105,11 +105,13 @@ const make = f => makeWith(effect => Effect.flatMap(effect, request => Effect.wi
     kind: "client",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     span.attribute("server.address", url.origin);
     if (url.port !== "") {
       span.attribute("server.port", +url.port);
     }
+    span.attribute("http.url", url.toString());
     span.attribute("url.full", url.toString());
     span.attribute("url.path", url.pathname);
     span.attribute("url.scheme", url.protocol.slice(0, -1));
@@ -125,6 +127,7 @@ const make = f => makeWith(effect => Effect.flatMap(effect, request => Effect.wi
     request = fiber.getFiberRef(currentTracerPropagation) ? internalRequest.setHeaders(request, TraceContext.toHeaders(span)) : request;
     return Effect.tap(Effect.withParentSpan(f(request, url, controller.signal, fiber), span), response => {
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/cjs/internal/httpClient.js.map b/dist/cjs/internal/httpClient.js.map
index 5b5a5b395d51373e9e75e84f1ef699438d53370a..877826d7a7c5d3943034c57b17ce3543790415d6 100644
--- a/dist/cjs/internal/httpClient.js.map
+++ b/dist/cjs/internal/httpClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpClient.js","names":["Cause","_interopRequireWildcard","require","Context","Effect","FiberRef","_Function","_GlobalValue","Inspectable","Layer","_Pipeable","Predicate","Ref","Schedule","Scope","Cookies","Headers","Error","TraceContext","UrlParams","internalRequest","internalResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","globalValue","unsafeMake","constFalse","withTracerDisabledWhen","dual","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","ClientProto","pipe","pipeArguments","arguments","BaseProto","toJSON","_id","url","options","execute","head","post","put","patch","del","isClient","hasProperty","makeWith","postprocess","preprocess","create","request","make","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","serviceFunctions","transform","client","filterStatus","transformResponse","filterStatusOk","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","filterOrFail","orFailWith","mapRequest","map","mapRequestEffect","mapRequestInput","mapRequestInputEffect","retry","policy","retryTransient","while","ScheduleTypeId","undefined","isTransientError","or","schedule","times","error","TimeoutExceptionTypeId","isTransientHttpError","isHttpClientError","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","args","maxRedirects","loop","redirects","location","setUrl","layerMergedContext","context","mapInputContext","input"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpClient.js","names":["Cause","_interopRequireWildcard","require","Context","Effect","FiberRef","_Function","_GlobalValue","Inspectable","Layer","_Pipeable","Predicate","Ref","Schedule","Scope","Cookies","Headers","Error","TraceContext","UrlParams","internalRequest","internalResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","globalValue","unsafeMake","constFalse","withTracerDisabledWhen","dual","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","ClientProto","pipe","pipeArguments","arguments","BaseProto","toJSON","_id","url","options","execute","head","post","put","patch","del","isClient","hasProperty","makeWith","postprocess","preprocess","create","request","make","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","serviceFunctions","transform","client","filterStatus","transformResponse","filterStatusOk","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","filterOrFail","orFailWith","mapRequest","map","mapRequestEffect","mapRequestInput","mapRequestInputEffect","retry","policy","retryTransient","while","ScheduleTypeId","undefined","isTransientError","or","schedule","times","error","TimeoutExceptionTypeId","isTransientHttpError","isHttpClientError","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","args","maxRedirects","loop","redirects","location","setUrl","layerMergedContext","context","mapInputContext","input"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/httpMiddleware.js b/dist/cjs/internal/httpMiddleware.js
index e07b89d2f27fc9e89f4d4c83921994e6993af778..f908208219cbadc956a4453ce530636975f2e888 100644
--- a/dist/cjs/internal/httpMiddleware.js
+++ b/dist/cjs/internal/httpMiddleware.js
@@ -78,8 +78,10 @@ const tracer = exports.tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRun
     kind: "server",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     if (url !== undefined) {
+      span.attribute("http.url", url.toString());
       span.attribute("url.full", url.toString());
       span.attribute("url.path", url.pathname);
       const query = url.search.slice(1);
@@ -100,6 +102,7 @@ const tracer = exports.tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRun
     return Effect.flatMap(Effect.exit(Effect.withParentSpan(httpApp, span)), exit => {
       const response = ServerError.exitResponse(exit);
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/cjs/internal/httpMiddleware.js.map b/dist/cjs/internal/httpMiddleware.js.map
index 290d35fd73618949f81db872ee13e4ba4675108a..5348ba62b755a1b1d33ad96b23e6a951920fa93c 100644
--- a/dist/cjs/internal/httpMiddleware.js.map
+++ b/dist/cjs/internal/httpMiddleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpMiddleware.js","names":["Context","_interopRequireWildcard","require","Effect","FiberRef","_Function","_GlobalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","internalHttpApp","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","middleware","exports","loggerDisabled","globalValue","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","currentTracerDisabledWhen","constFalse","withTracerDisabledWhen","dual","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","request","unsafeGet","currentContext","HttpServerRequest","withLogSpan","flatMap","exit","getFiberRef","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","context","params","searchParamsFromURL","URL","originalUrl","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","headersFromRequest","unsafeFromRecord","headersFromRequestOptions","preResponseHandler","succeed","setHeaders","empty","appendPreResponseHandler"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpMiddleware.js","names":["Context","_interopRequireWildcard","require","Effect","FiberRef","_Function","_GlobalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","internalHttpApp","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","middleware","exports","loggerDisabled","globalValue","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","currentTracerDisabledWhen","constFalse","withTracerDisabledWhen","dual","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","request","unsafeGet","currentContext","HttpServerRequest","withLogSpan","flatMap","exit","getFiberRef","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","context","params","searchParamsFromURL","URL","originalUrl","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","headersFromRequest","unsafeFromRecord","headersFromRequestOptions","preResponseHandler","succeed","setHeaders","empty","appendPreResponseHandler"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/httpRouter.js.map b/dist/cjs/internal/httpRouter.js.map
index 62418b835e8661c70d6dc0d9c34e1d2d15aadebb..565bdb46389307e1ca278c99b19c4f8d25bb0ed9 100644
--- a/dist/cjs/internal/httpRouter.js.map
+++ b/dist/cjs/internal/httpRouter.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpRouter.js","names":["Chunk","_interopRequireWildcard","require","Context","Effect","Effectable","FiberRef","_Function","_GlobalValue","Inspectable","Layer","Option","Predicate","Schema","Tracer","FindMyWay","Error","ServerRequest","Respondable","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","globalValue","unsafeMake","withRouterConfig","dual","effect","config","locally","setRouterConfig","locallyScoped","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","pipe","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","startsWith","key","sliceRequestUrl","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixPath","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","setPrototypeOf","getPrototypeOf","stack","Live","effectDiscard","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpRouter.js","names":["Chunk","_interopRequireWildcard","require","Context","Effect","Effectable","FiberRef","_Function","_GlobalValue","Inspectable","Layer","Option","Predicate","Schema","Tracer","FindMyWay","Error","ServerRequest","Respondable","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","globalValue","unsafeMake","withRouterConfig","dual","effect","config","locally","setRouterConfig","locallyScoped","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","pipe","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","startsWith","key","sliceRequestUrl","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixPath","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","setPrototypeOf","getPrototypeOf","stack","Live","effectDiscard","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/httpServerRequest.js.map b/dist/cjs/internal/httpServerRequest.js.map
index 6652caf7f4afc8af556c33006bd1bf4b03efcc94..19b62cc19c04d3e389f2da3fd197a68e390d4afc 100644
--- a/dist/cjs/internal/httpServerRequest.js.map
+++ b/dist/cjs/internal/httpServerRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpServerRequest.js","names":["Channel","_interopRequireWildcard","require","Context","Effect","Inspectable","Option","Schema","Stream","Cookies","Headers","IncomingMessage","Error","Multipart","Socket","UrlParams","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","serverRequestTag","GenericTag","parsedSearchParamsTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","searchParamsFromURL","url","out","key","value","searchParams","entries","entry","undefined","Array","isArray","push","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaSearchParams","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","cause","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","removeHost","index","indexOf","slice","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","fail","description","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","_","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer","toURL","self","host","protocol","URL"],"sources":["../../../src/internal/httpServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpServerRequest.js","names":["Channel","_interopRequireWildcard","require","Context","Effect","Inspectable","Option","Schema","Stream","Cookies","Headers","IncomingMessage","Error","Multipart","Socket","UrlParams","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","serverRequestTag","GenericTag","parsedSearchParamsTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","searchParamsFromURL","url","out","key","value","searchParams","entries","entry","undefined","Array","isArray","push","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaSearchParams","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","cause","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","removeHost","index","indexOf","slice","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","fail","description","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","_","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer","toURL","self","host","protocol","URL"],"sources":["../../../src/internal/httpServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/cjs/internal/multipart.js b/dist/cjs/internal/multipart.js
index d08d8f906026a232d00798ef12057b8fde66b9a2..5d2ad760e0cecb32b850666ab9de167450b584ad 100644
--- a/dist/cjs/internal/multipart.js
+++ b/dist/cjs/internal/multipart.js
@@ -277,20 +277,33 @@ const toPersisted = (stream, writeFile = defaultWriteFile) => Effect.gen(functio
   const fs = yield* FileSystem.FileSystem;
   const path_ = yield* Path.Path;
   const dir = yield* fs.makeTempDirectoryScoped();
-  return yield* Stream.runFoldEffect(stream, Object.create(null), (persisted, part) => {
+  const persisted = Object.create(null);
+  yield* Stream.runForEach(stream, part => {
     if (part._tag === "Field") {
-      persisted[part.key] = part.value;
-      return Effect.succeed(persisted);
+      if (!(part.key in persisted)) {
+        persisted[part.key] = part.value;
+      } else if (typeof persisted[part.key] === "string") {
+        persisted[part.key] = [persisted[part.key], part.value];
+      } else {
+        ;
+        persisted[part.key].push(part.value);
+      }
+      return Effect.void;
+    } else if (part.name === "") {
+      return Effect.void;
     }
     const file = part;
     const path = path_.join(dir, path_.basename(file.name).slice(-128));
-    if (!Array.isArray(persisted[part.key])) {
-      persisted[part.key] = [];
+    const filePart = new PersistedFileImpl(file.key, file.name, file.contentType, path);
+    if (Array.isArray(persisted[part.key])) {
+      ;
+      persisted[part.key].push(filePart);
+    } else {
+      persisted[part.key] = [filePart];
     }
-    ;
-    persisted[part.key].push(new PersistedFileImpl(file.key, file.name, file.contentType, path));
-    return Effect.as(writeFile(path, file), persisted);
+    return writeFile(path, file);
   });
+  return persisted;
 }).pipe(Effect.catchTags({
   SystemError: cause => Effect.fail(new MultipartError({
     reason: "InternalError",
diff --git a/dist/cjs/internal/multipart.js.map b/dist/cjs/internal/multipart.js.map
index 9f5a586936845a723f04be9d598d98189dcfb7c3..259b80b35847befc3a0d65fa36491e32156c9c03 100644
--- a/dist/cjs/internal/multipart.js.map
+++ b/dist/cjs/internal/multipart.js.map
@@ -1 +1 @@
-{"version":3,"file":"multipart.js","names":["Channel","_interopRequireWildcard","require","Chunk","Effect","Exit","FiberRef","_Function","_GlobalValue","Inspectable","Mailbox","Option","Predicate","Schema","Stream","MP","_Error","FileSystem","IncomingMessage","Path","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isPart","hasProperty","isField","_tag","isFile","isPersistedFile","isTagged","ErrorTypeId","MultipartError","TypeIdError","message","reason","maxParts","globalValue","unsafeMake","none","withMaxParts","dual","effect","count","locally","maxFieldSize","Size","withMaxFieldSize","size","maxFileSize","withMaxFileSize","map","fieldMimeTypes","make","withFieldMimeTypes","mimeTypes","fromIterable","FileSchema","declare","identifier","jsonSchema","type","format","FilesSchema","Array","SingleFileSchema","transform","pipe","itemsCount","strict","decode","file","encode","schemaPersisted","schema","options","parse","decodeUnknown","persisted","schemaJson","fromJson","parseJson","field","Struct","_","makeConfig","headers","withFiberRuntime","fiber","getFiberRef","succeed","getOrUndefined","Number","maxPartSize","maxTotalSize","maxBodySize","length","undefined","info","some","contentType","includes","defaultIsFile","makeChannel","bufferSize","acquireUseRelease","all","config","mailbox","partsBuffer","exit","input","awaitRead","void","emit","element","offer","error","cause","failCause","end","done","_value","parser","onField","value","push","FieldImpl","name","decodeField","onFile","chunks","finished","take","suspend","zipRight","pump","chunk","unsafeFromArray","write","FileImpl","onError","error_","fail","convertError","onDone","flatMap","takeAll","sync","forEach","partsChannel","writeExit","embedInput","shutdown","self","limit","PartBase","Class","constructor","key","toJSON","_id","content","channel","filename","fromChannel","defaultWriteFile","path","fs","mapError","run","sink","toPersisted","stream","writeFile","gen","path_","dir","makeTempDirectoryScoped","runFoldEffect","create","part","join","basename","slice","isArray","PersistedFileImpl","as","catchTags","SystemError","BadArgument"],"sources":["../../../src/internal/multipart.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"multipart.js","names":["Channel","_interopRequireWildcard","require","Chunk","Effect","Exit","FiberRef","_Function","_GlobalValue","Inspectable","Mailbox","Option","Predicate","Schema","Stream","MP","_Error","FileSystem","IncomingMessage","Path","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isPart","hasProperty","isField","_tag","isFile","isPersistedFile","isTagged","ErrorTypeId","MultipartError","TypeIdError","message","reason","maxParts","globalValue","unsafeMake","none","withMaxParts","dual","effect","count","locally","maxFieldSize","Size","withMaxFieldSize","size","maxFileSize","withMaxFileSize","map","fieldMimeTypes","make","withFieldMimeTypes","mimeTypes","fromIterable","FileSchema","declare","identifier","jsonSchema","type","format","FilesSchema","Array","SingleFileSchema","transform","pipe","itemsCount","strict","decode","file","encode","schemaPersisted","schema","options","parse","decodeUnknown","persisted","schemaJson","fromJson","parseJson","field","Struct","_","makeConfig","headers","withFiberRuntime","fiber","getFiberRef","succeed","getOrUndefined","Number","maxPartSize","maxTotalSize","maxBodySize","length","undefined","info","some","contentType","includes","defaultIsFile","makeChannel","bufferSize","acquireUseRelease","all","config","mailbox","partsBuffer","exit","input","awaitRead","void","emit","element","offer","error","cause","failCause","end","done","_value","parser","onField","value","push","FieldImpl","name","decodeField","onFile","chunks","finished","take","suspend","zipRight","pump","chunk","unsafeFromArray","write","FileImpl","onError","error_","fail","convertError","onDone","flatMap","takeAll","sync","forEach","partsChannel","writeExit","embedInput","shutdown","self","limit","PartBase","Class","constructor","key","toJSON","_id","content","channel","filename","fromChannel","defaultWriteFile","path","fs","mapError","run","sink","toPersisted","stream","writeFile","gen","path_","dir","makeTempDirectoryScoped","create","runForEach","part","join","basename","slice","filePart","PersistedFileImpl","isArray","catchTags","SystemError","BadArgument"],"sources":["../../../src/internal/multipart.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/dts/HttpApi.d.ts b/dist/dts/HttpApi.d.ts
index 48e704e737ca14dac84704aed5b438559fda7ad2..db953dfe4a2304a15b1e2397ede83dc7d6ac71d5 100644
--- a/dist/dts/HttpApi.d.ts
+++ b/dist/dts/HttpApi.d.ts
@@ -143,8 +143,14 @@ export declare const reflect: <Groups extends HttpApiGroup.HttpApiGroup.Any, Err
             readonly encoding: HttpApiSchema.Encoding;
             readonly ast: AST.AST;
         }>;
-        readonly successes: ReadonlyMap<number, Option.Option<AST.AST>>;
-        readonly errors: ReadonlyMap<number, Option.Option<AST.AST>>;
+        readonly successes: ReadonlyMap<number, {
+            readonly ast: Option.Option<AST.AST>;
+            readonly description: Option.Option<string>;
+        }>;
+        readonly errors: ReadonlyMap<number, {
+            readonly ast: Option.Option<AST.AST>;
+            readonly description: Option.Option<string>;
+        }>;
     }) => void;
 }) => void;
 declare const AdditionalSchemas_base: Context.TagClass<AdditionalSchemas, "@effect/platform/HttpApi/AdditionalSchemas", readonly Schema.Schema.All[]>;
diff --git a/dist/dts/HttpApi.d.ts.map b/dist/dts/HttpApi.d.ts.map
index 34adc471d86192ef31d58ed60a25a8bda88f8215..5ab29f2ebae19d262fd06fb67399d4b63bf65e3c 100644
--- a/dist/dts/HttpApi.d.ts.map
+++ b/dist/dts/HttpApi.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApi.d.ts","sourceRoot":"","sources":["../../src/HttpApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"HttpApi.d.ts","sourceRoot":"","sources":["../../src/HttpApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/HttpApiClient.d.ts.map b/dist/dts/HttpApiClient.d.ts.map
index 90ddb78823f0b82004eb565243d403369dbf0fa0..f9fb3bd256a12ffa0d8f3dd6499e590db92791f1 100644
--- a/dist/dts/HttpApiClient.d.ts.map
+++ b/dist/dts/HttpApiClient.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApiClient.d.ts","sourceRoot":"","sources":["../../src/HttpApiClient.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"HttpApiClient.d.ts","sourceRoot":"","sources":["../../src/HttpApiClient.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/HttpApiEndpoint.d.ts b/dist/dts/HttpApiEndpoint.d.ts
index a93ae84d2db2145071e28bf90a531ff2c3faffb6..c7186ba6f54bff3572242fe3ee70c49df6f1cd18 100644
--- a/dist/dts/HttpApiEndpoint.d.ts
+++ b/dist/dts/HttpApiEndpoint.d.ts
@@ -270,7 +270,7 @@ export declare namespace HttpApiEndpoint {
      * @since 1.0.0
      * @category models
      */
-    type ValidateUrlParams<S extends Schema.Schema.Any> = S extends Schema.Schema<infer _A, infer _I, infer _R> ? [_I] extends [Readonly<Record<string, string | undefined>>] ? {} : `UrlParams schema must be encodeable to strings` : {};
+    type ValidateUrlParams<S extends Schema.Schema.Any> = S extends Schema.Schema<infer _A, infer _I, infer _R> ? [_I] extends [Readonly<Record<string, string | ReadonlyArray<string> | undefined>>] ? {} : `UrlParams schema must be encodeable to strings` : {};
     /**
      * @since 1.0.0
      * @category models
@@ -331,7 +331,7 @@ export declare const get: {
      * @since 1.0.0
      * @category constructors
      */
-    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "GET", never, never, never, never, void, never, never, never>;
+    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "GET">;
 };
 /**
  * @since 1.0.0
@@ -347,7 +347,7 @@ export declare const post: {
      * @since 1.0.0
      * @category constructors
      */
-    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "POST", never, never, never, never, void, never, never, never>;
+    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "POST">;
 };
 /**
  * @since 1.0.0
@@ -363,7 +363,7 @@ export declare const put: {
      * @since 1.0.0
      * @category constructors
      */
-    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "PUT", never, never, never, never, void, never, never, never>;
+    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "PUT">;
 };
 /**
  * @since 1.0.0
@@ -379,7 +379,7 @@ export declare const patch: {
      * @since 1.0.0
      * @category constructors
      */
-    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "PATCH", never, never, never, never, void, never, never, never>;
+    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "PATCH">;
 };
 /**
  * @since 1.0.0
@@ -395,6 +395,6 @@ export declare const del: {
      * @since 1.0.0
      * @category constructors
      */
-    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "DELETE", never, never, never, never, void, never, never, never>;
+    <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "DELETE">;
 };
 //# sourceMappingURL=HttpApiEndpoint.d.ts.map
\ No newline at end of file
diff --git a/dist/dts/HttpApiEndpoint.d.ts.map b/dist/dts/HttpApiEndpoint.d.ts.map
index 90389f7cf413faa451c7a139f710b86583c145a1..c8af2111b25ac788f266e07b269756a5088b98cb 100644
--- a/dist/dts/HttpApiEndpoint.d.ts.map
+++ b/dist/dts/HttpApiEndpoint.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApiEndpoint.d.ts","sourceRoot":"","sources":["../../src/HttpApiEndpoint.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"HttpApiEndpoint.d.ts","sourceRoot":"","sources":["../../src/HttpApiEndpoint.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/HttpIncomingMessage.d.ts b/dist/dts/HttpIncomingMessage.d.ts
index cdd1864ab51840e4d47c7761a50981a573557c68..cb4acd27bc752ce3ff4bdb28af39be55caf077ef 100644
--- a/dist/dts/HttpIncomingMessage.d.ts
+++ b/dist/dts/HttpIncomingMessage.d.ts
@@ -11,7 +11,7 @@ import type { ParseOptions } from "effect/SchemaAST";
 import type * as Stream from "effect/Stream";
 import * as FileSystem from "./FileSystem.js";
 import type * as Headers from "./Headers.js";
-import type * as UrlParams from "./UrlParams.js";
+import * as UrlParams from "./UrlParams.js";
 /**
  * @since 1.0.0
  * @category type ids
@@ -45,7 +45,7 @@ export declare const schemaBodyJson: <A, I, R>(schema: Schema.Schema<A, I, R>, o
  * @since 1.0.0
  * @category schema
  */
-export declare const schemaBodyUrlParams: <A, I extends Readonly<Record<string, string | undefined>>, R>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => <E>(self: HttpIncomingMessage<E>) => Effect.Effect<A, E | ParseResult.ParseError, R>;
+export declare const schemaBodyUrlParams: <A, I extends Readonly<Record<string, string | ReadonlyArray<string> | undefined>>, R>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => <E>(self: HttpIncomingMessage<E>) => Effect.Effect<A, E | ParseResult.ParseError, R>;
 /**
  * @since 1.0.0
  * @category schema
diff --git a/dist/dts/HttpIncomingMessage.d.ts.map b/dist/dts/HttpIncomingMessage.d.ts.map
index 876399298e7e2ab87f62b329ca84a2f37c397966..16e4ce1ff56560dc499a7bebad066e922b352c1d 100644
--- a/dist/dts/HttpIncomingMessage.d.ts.map
+++ b/dist/dts/HttpIncomingMessage.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"HttpIncomingMessage.d.ts","sourceRoot":"","sources":["../../src/HttpIncomingMessage.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"HttpIncomingMessage.d.ts","sourceRoot":"","sources":["../../src/HttpIncomingMessage.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/HttpRouter.d.ts b/dist/dts/HttpRouter.d.ts
index c2515174bbe9a014e6616e0255ea9a52a65a6aa1..849b1c2ee8c0078a2a7bd165df3bb35acf3cae2b 100644
--- a/dist/dts/HttpRouter.d.ts
+++ b/dist/dts/HttpRouter.d.ts
@@ -257,7 +257,7 @@ export declare const fromIterable: <R extends Route<any, any>>(routes: Iterable<
  * @since 1.0.0
  * @category constructors
  */
-export declare const makeRoute: <E, R>(method: Method.HttpMethod, path: PathInput, handler: Route.Handler<E, R>, options?: {
+export declare const makeRoute: <E, R>(method: Method.HttpMethod | "*", path: PathInput, handler: Route.Handler<E, R>, options?: {
     readonly prefix?: string | undefined;
     readonly uninterruptible?: boolean | undefined;
 } | undefined) => Route<E, HttpRouter.ExcludeProvided<R>>;
diff --git a/dist/dts/HttpRouter.d.ts.map b/dist/dts/HttpRouter.d.ts.map
index 035c172516d7c0bcd0318306be306111913b1a46..b6ea00a490d298b11c087fdca28aa072f7aba399 100644
--- a/dist/dts/HttpRouter.d.ts.map
+++ b/dist/dts/HttpRouter.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"HttpRouter.d.ts","sourceRoot":"","sources":["../../src/HttpRouter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"HttpRouter.d.ts","sourceRoot":"","sources":["../../src/HttpRouter.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,KAAK,KAAK,KAAK,MAAM,cAAc,CAAA;AAC1C,OAAO,KAAK,KAAK,KAAK,MAAM,cAAc,CAAA;AAC1C,OAAO,KAAK,KAAK,OAAO,MAAM,gBAAgB,CAAA;AAC9C,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAA;AAC/C,OAAO,KAAK,EAAE,WAAW,EAAE,MAAM,oBAAoB,CAAA;AACrD,OAAO,KAAK,KAAK,KAAK,MAAM,cAAc,CAAA;AAC1C,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,KAAK,WAAW,MAAM,oBAAoB,CAAA;AACtD,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAA;AACpD,OAAO,KAAK,KAAK,KAAK,MAAM,cAAc,CAAA;AAC1C,OAAO,KAAK,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAA;AAClD,OAAO,KAAK,KAAK,IAAI,MAAM,WAAW,CAAA;AACtC,OAAO,KAAK,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAA;AACjD,OAAO,KAAK,KAAK,GAAG,MAAM,cAAc,CAAA;AACxC,OAAO,KAAK,KAAK,MAAM,MAAM,iBAAiB,CAAA;AAC9C,OAAO,KAAK,KAAK,QAAQ,MAAM,mBAAmB,CAAA;AAClD,OAAO,KAAK,KAAK,KAAK,MAAM,sBAAsB,CAAA;AAClD,OAAO,KAAK,KAAK,aAAa,MAAM,wBAAwB,CAAA;AAC5D,OAAO,KAAK,KAAK,WAAW,MAAM,4BAA4B,CAAA;AAC9D,OAAO,KAAK,KAAK,cAAc,MAAM,yBAAyB,CAAA;AAE9D,OAAO,KAAK,EAAE,IAAI,EAAE,MAAM,WAAW,CAAA;AAErC;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE,OAAO,MAAwB,CAAA;AAEpD;;;GAGG;AACH,MAAM,MAAM,MAAM,GAAG,OAAO,MAAM,CAAA;AAElC;;;GAGG;AACH,MAAM,WAAW,UAAU,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,KAAK,CAC9C,SAAQ,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,WAAW;IAEnF,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE,MAAM,CAAA;IACzB,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;IACzC,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAC1B,SAAS;QACP,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;QAC1B,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,aAAa,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS;KACvE,CACF,CAAA;CACF;AAED;;GAEG;AACH,MAAM,CAAC,OAAO,WAAW,UAAU,CAAC;IAClC;;OAEG;IACH,KAAY,QAAQ,GAAG,YAAY,GAAG,aAAa,CAAC,iBAAiB,GAAG,aAAa,CAAC,kBAAkB,GAAG,KAAK,CAAC,KAAK,CAAA;IAEtH;;OAEG;IACH,KAAY,eAAe,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAA;IAErD;;OAEG;IACH,UAAiB,OAAO,CAAC,CAAC,EAAE,CAAC;QAC3B,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;QAChD,QAAQ,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAC9D,QAAQ,CAAC,GAAG,EAAE,CACZ,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,GAAG,EAAE,CACZ,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,IAAI,EAAE,CACb,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,GAAG,EAAE,CACZ,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,KAAK,EAAE,CACd,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,GAAG,EAAE,CACZ,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,IAAI,EAAE,CACb,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,OAAO,EAAE,CAChB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EACvC,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACrE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,KAAK,EAAE,CACd,IAAI,EAAE,IAAI,MAAM,EAAE,EAClB,MAAM,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACrB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,QAAQ,EAAE,CACjB,IAAI,EAAE,IAAI,MAAM,EAAE,EAClB,MAAM,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EACzB,OAAO,CAAC,EAAE;YAAE,QAAQ,CAAC,aAAa,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;SAAE,GAAG,SAAS,KACnE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACxB,QAAQ,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;KACnE;IAED;;OAEG;IACH,KAAY,eAAe,GAAG,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,GAAG,UAAU,GAAG,IAAI,CAAA;IAExF;;OAEG;IACH,UAAiB,QAAQ,CAAC,IAAI,EAAE,IAAI,SAAS,MAAM,EAAE,CAAC,EAAE,CAAC,CAAE,SAAQ,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjG,KAAI,CAAC,EAAE,KAAK,GAAG,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;QACzD,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;QAChC,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;QAC7D,QAAQ,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE,CAAC,CAAA;QACjH,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAC7B,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,KACpD,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,EAAE,OAAO,CAAC,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAA;QACrD,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAA;KACnH;CACF;AAED;;;GAGG;AACH,eAAO,MAAM,WAAW,EAAE,OAAO,MAA6B,CAAA;AAE9D;;;GAGG;AACH,MAAM,MAAM,WAAW,GAAG,OAAO,WAAW,CAAA;AAE5C;;;GAGG;AACH,MAAM,MAAM,SAAS,GAAG,IAAI,MAAM,EAAE,GAAG,GAAG,CAAA;AAE1C;;;GAGG;AACH,MAAM,WAAW,KAAK,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,KAAK,CAAE,SAAQ,WAAW;IAC9D,QAAQ,CAAC,CAAC,WAAW,CAAC,EAAE,WAAW,CAAA;IACnC,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,UAAU,GAAG,GAAG,CAAA;IACxC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAA;IACxB,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;IACrC,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;IACtC,QAAQ,CAAC,eAAe,EAAE,OAAO,CAAA;CAClC;AAED;;GAEG;AACH,MAAM,CAAC,OAAO,WAAW,KAAK,CAAC;IAC7B;;OAEG;IACH,KAAY,OAAO,CAAC,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC,OAAO,CACrC,WAAW,CAAC,WAAW,EACvB,CAAC,EACD,CAAC,GAAG,YAAY,GAAG,aAAa,CAAC,kBAAkB,CACpD,CAAA;IAED;;OAEG;IACH,KAAY,UAAU,CAAC,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC,OAAO,CACxC,cAAc,CAAC,kBAAkB,EACjC,CAAC,EACD,CAAC,GAAG,YAAY,GAAG,aAAa,CAAC,kBAAkB,CACpD,CAAA;CACF;AAED;;;GAGG;AACH,eAAO,MAAM,kBAAkB,EAAE,OAAO,MAAoC,CAAA;AAE5E;;;GAGG;AACH,MAAM,MAAM,kBAAkB,GAAG,OAAO,kBAAkB,CAAA;AAE1D;;;GAGG;AACH,MAAM,WAAW,YAAY;IAC3B,QAAQ,CAAC,CAAC,kBAAkB,CAAC,EAAE,kBAAkB,CAAA;IACjD,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;IAC7D,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;CACxC;AAED;;;GAGG;AACH,eAAO,MAAM,YAAY,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,YAAY,CAAyB,CAAA;AAE1F;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE,MAAM,CAAC,MAAM,CAChC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,EAC5C,KAAK,EACL,YAAY,CACK,CAAA;AAEnB;;;GAGG;AACH,eAAO,MAAM,UAAU,EAAE,CACvB,CAAC,EACD,CAAC,SAAS,OAAO,CAAC;IAChB,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,UAAU,CAAA;IAClC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAA;IACpB,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;IAC9D,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;IAC9D,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;IACjE,QAAQ,CAAC,YAAY,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC,CAAC,CAAA;IAC3F,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAA;CACnB,CAAC,EACF,CAAC,EAED,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC9B,OAAO,CAAC,EAAE,YAAY,GAAG,SAAS,KAC/B,MAAM,CAAC,MAAM,CAChB,CAAC,EACD,KAAK,CAAC,YAAY,GAAG,WAAW,CAAC,UAAU,EAC3C,YAAY,GAAG,CAAC,GAAG,aAAa,CAAC,iBAAiB,GAAG,aAAa,CAAC,kBAAkB,CAChE,CAAA;AAEvB;;;GAGG;AACH,eAAO,MAAM,YAAY,EAAE,CACzB,CAAC,EACD,CAAC,SAAS,OAAO,CACf;IACE,QAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,UAAU,CAAA;IAClC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAA;IACpB,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;IAC9D,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;IAC9D,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,CAAA;IACjE,QAAQ,CAAC,YAAY,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC,CAAC,CAAA;CAC5F,CACF,EACD,CAAC,EAED,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC9B,OAAO,CAAC,EAAE,YAAY,GAAG,SAAS,KAC/B,MAAM,CAAC,MAAM,CAChB,CAAC,EACD,WAAW,CAAC,UAAU,EACtB,CAAC,GAAG,YAAY,GAAG,aAAa,CAAC,iBAAiB,GAAG,aAAa,CAAC,kBAAkB,CAC9D,CAAA;AAEzB;;;GAGG;AACH,eAAO,MAAM,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC,CAAC,EAAE,CAAC,EAC9G,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC9B,OAAO,CAAC,EAAE,YAAY,GAAG,SAAS,KAC/B,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,UAAU,EAAE,CAAC,GAAG,YAAY,GAAG,aAAa,CAAC,kBAAkB,CAC1E,CAAA;AAEvB;;;GAGG;AACH,eAAO,MAAM,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC,EAAE,CAAC,EAC1F,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC9B,OAAO,CAAC,EAAE,YAAY,GAAG,SAAS,KAC/B,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,UAAU,EAAE,CAAC,GAAG,YAAY,CAA6B,CAAA;AAE3F;;;GAGG;AACH,eAAO,MAAM,mBAAmB,EAAE,QAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAgC,CAAA;AAEhG;;;GAGG;AACH,eAAO,MAAM,gBAAgB,EAAE;IAC7B;;;OAGG;IACH,CAAC,MAAM,EAAE,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IACpG;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;CACrE,CAAA;AAE7B;;;GAGG;AACH,eAAO,MAAM,eAAe,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,YAAY,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,KAAK,CAA4B,CAAA;AAE9G;;;GAGG;AACH,eAAO,MAAM,KAAK,EAAE,UAA2B,CAAA;AAE/C;;;GAGG;AACH,eAAO,MAAM,YAAY,EAAE,CAAC,CAAC,SAAS,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,EACnD,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,KAChB,UAAU,CAAC,CAAC,SAAS,KAAK,CAAC,MAAM,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC,SAAS,KAAK,CAAC,MAAM,CAAC,EAAE,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,KAAK,CACzF,CAAA;AAEvB;;;GAGG;AACH,eAAO,MAAM,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAC3B,MAAM,EAAE,MAAM,CAAC,UAAU,GAAG,GAAG,EAC/B,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAC5B,OAAO,CAAC,EAAE;IAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,MAAM,GAAG,SAAS,CAAC;IAAC,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;CAAE,GAAG,SAAS,KAC3G,KAAK,CAAC,CAAC,EAAE,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAsB,CAAA;AAEjE;;;GAGG;AACH,eAAO,MAAM,UAAU,EAAE;IACvB;;;OAGG;IACH,CAAC,MAAM,EAAE,MAAM,GAAG,CAAC,IAAI,EAAE,MAAM,KAAK,MAAM,CAAA;IAC1C;;;OAGG;IACH,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,GAAG,MAAM,CAAA;CACjB,CAAA;AAEvB;;;GAGG;AACH,eAAO,MAAM,SAAS,EAAE;IACtB;;;OAGG;IACH,CAAC,MAAM,EAAE,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;IACvE;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,SAAS,GAAG,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;CAC/C,CAAA;AAEtB;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE;IACnB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EACnC,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CACb,EAAE,GAAG,CAAC,EACN,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CACnC,CAAA;IACD;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,UAAU,CACtE,CAAC,GAAG,EAAE,EACN,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CACnC,CAAA;CACgB,CAAA;AAEnB;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE;IACnB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EACvC,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAA;IAC/B;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,UAAU,CAC1E,CAAC,GAAG,EAAE,EACN,CAAC,GAAG,EAAE,CACP,CAAA;CACgB,CAAA;AAEnB;;;GAGG;AACH,eAAO,MAAM,SAAS,EAAE,CAAC,OAAO,SAAS,aAAa,CAAC,UAAU,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,EAClF,GAAG,OAAO,EAAE,OAAO,KAChB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAA0B,CAAA;AAE7G;;;GAGG;AACH,eAAO,MAAM,KAAK,EAAE;IAClB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,MAAM,EAAE,EAAE,IAAI,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAA;IACpH;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,MAAM,EAAE,EAAE,IAAI,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAA;CAChG,CAAA;AAElB;;;GAGG;AACH,eAAO,MAAM,QAAQ,EAAE;IACrB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,IAAI,MAAM,EAAE,EAClB,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EACzB,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,aAAa,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACrE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CACb,EAAE,GAAG,CAAC,EACJ,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,GAC9B,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAChC,CAAA;IACD;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,IAAI,MAAM,EAAE,EAClB,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EACzB,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,aAAa,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACrE,UAAU,CACX,CAAC,GAAG,EAAE,EACJ,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,GAC7B,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CACjC,CAAA;CACkB,CAAA;AAErB;;;GAGG;AACH,eAAO,MAAM,KAAK,EAAE,CAClB,MAAM,EAAE,MAAM,CAAC,UAAU,GAAG,GAAG,KAC5B;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,EAAE,EAAE,aAAa,CAAC,iBAAiB,GAAG,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAA;IACtG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,OAAO,CAAC,EAAE,EAAE,aAAa,CAAC,iBAAiB,GAAG,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAA;CACpF,CAAA;AAElB;;;GAGG;AACH,eAAO,MAAM,GAAG,EAAE;IAChB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CACb,EAAE,GAAG,CAAC,EACN,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CACnC,CAAA;IACD;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CACX,CAAC,GAAG,EAAE,EACN,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CACnC,CAAA;CACa,CAAA;AAEhB;;;GAGG;AACH,eAAO,MAAM,GAAG,EAAE;IAChB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC3D;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC3C,CAAA;AAEhB;;;GAGG;AACH,eAAO,MAAM,IAAI,EAAE;IACjB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC3D;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC1C,CAAA;AAEjB;;;GAGG;AACH,eAAO,MAAM,KAAK,EAAE;IAClB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC3D;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CACzC,CAAA;AAElB;;;GAGG;AACH,eAAO,MAAM,GAAG,EAAE;IAChB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC3D;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC3C,CAAA;AAEhB;;;GAGG;AACH,eAAO,MAAM,GAAG,EAAE;IAChB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC3D;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC3C,CAAA;AAEhB;;;GAGG;AACH,eAAO,MAAM,IAAI,EAAE;IACjB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC3D;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC1C,CAAA;AAEjB;;;GAGG;AACH,eAAO,MAAM,OAAO,EAAE;IACpB;;;OAGG;IACH,CAAC,EAAE,EAAE,EAAE,EACL,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,CAAC,CAAC,EAAE,CAAC,EACN,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC3D;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,IAAI,EAAE,SAAS,EACf,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAC9B,OAAO,CAAC,EAAE;QAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,GAAG,SAAS,CAAA;KAAE,GAAG,SAAS,GACvE,UAAU,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CACvC,CAAA;AAEpB;;;GAGG;AACH,eAAO,MAAM,GAAG,EAAE;IAChB;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GACvD,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC7E;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GACvD,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CACnC,CAAA;AAEhB;;;GAGG;AACH,eAAO,MAAM,SAAS,EAAE;IACtB;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE,EAAE,EAAE,EAAE,CAAC,GAC7E,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IAC7E;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE,EAAE,EAAE,EAAE,CAAC,GAC7E,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC7B,CAAA;AAEtB;;;GAGG;AACH,eAAO,MAAM,QAAQ,EAAE;IACrB;;;OAGG;IACH,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GACjC,CAAC,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IACpF;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GACjC,UAAU,CAAC,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAClC,CAAA;AAErB;;;GAGG;AACH,eAAO,MAAM,aAAa,EAAE;IAC1B;;;OAGG;IACH,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EACR,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GAC9C,CAAC,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IACpF;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EACX,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GAC9C,UAAU,CAAC,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC7B,CAAA;AAE1B;;;GAGG;AACH,eAAO,MAAM,QAAQ,EAAE;IACrB;;;OAGG;IACH,CAAC,CAAC,SAAS,CAAC,SAAS;QAAE,IAAI,EAAE,MAAM,CAAA;KAAE,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAClE,CAAC,EAAE,CAAC,EACJ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GACvD,CAAC,CAAC,EACH,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CAAC,EAAE,GAAG,OAAO,CAAC,CAAC,EAAE;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;IACjF;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,SAAS;QAAE,IAAI,EAAE,MAAM,CAAA;KAAE,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,KAAK,EAAE,EAAE,EAAE,EAAE,EACrE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,CAAC,EAAE,CAAC,EACJ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,GACvD,UAAU,CAAC,EAAE,GAAG,OAAO,CAAC,CAAC,EAAE;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAA;CAC5D,CAAA;AAErB;;;GAGG;AACH,eAAO,MAAM,SAAS,EAAE;IACtB;;;OAGG;IACH,CACE,CAAC,EACD,KAAK,SAAS,CAAC,SAAS;QAAE,IAAI,EAAE,MAAM,CAAA;KAAE,GACpC;SAAG,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;YAAE,IAAI,EAAE,CAAC,CAAA;SAAE,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,SAAS;KAAE,GACjG,EAAE,EACN,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,EACjB,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CACX,OAAO,CAAC,CAAC,EAAE;QAAE,IAAI,EAAE,MAAM,KAAK,CAAA;KAAE,CAAC,GACjC;SACC,CAAC,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK;KAC3G,CAAC,MAAM,KAAK,CAAC,EACZ,CAAC,GACD,UAAU,CAAC,eAAe,CAC1B;SACG,CAAC,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK;KAC3G,CAAC,MAAM,KAAK,CAAC,CACf,CACF,CAAA;IACD;;;OAGG;IACH,CACE,CAAC,EACD,CAAC,EACD,KAAK,SAAS,CAAC,SAAS;QAAE,IAAI,EAAE,MAAM,CAAA;KAAE,GACpC;SAAG,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,EAAE;YAAE,IAAI,EAAE,CAAC,CAAA;SAAE,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,SAAS;KAAE,GACnG,EAAE,EACJ,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,GAAG,UAAU,CAC/C,OAAO,CAAC,CAAC,EAAE;QAAE,IAAI,EAAE,MAAM,KAAK,CAAA;KAAE,CAAC,GACjC;SACC,CAAC,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK;KAC3G,CAAC,MAAM,KAAK,CAAC,EACZ,CAAC,GACD,UAAU,CAAC,eAAe,CAC1B;SACG,CAAC,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK;KAC3G,CAAC,MAAM,KAAK,CAAC,CACf,CACF,CAAA;CACmB,CAAA;AAEtB;;;GAGG;AACH,eAAO,MAAM,cAAc,EAAE;IAC3B;;;OAGG;IACH,CAAC,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAC9B,GAAG,EAAE,CAAC,EACN,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAC9B,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IACzF;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EACpC,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,GAAG,EAAE,CAAC,EACN,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAC9B,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;CAC9B,CAAA;AAE3B;;;GAGG;AACH,eAAO,MAAM,oBAAoB,EAAE;IACjC;;;OAGG;IACH,CAAC,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAC7G,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,KACnB,UAAU,CACb,EAAE,GAAG,CAAC,EACJ,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GACrC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CACrE,CAAA;IACD;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAC5C,IAAI,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EACtB,GAAG,EAAE,CAAC,EACN,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,GACpD,UAAU,CACX,CAAC,GAAG,EAAE,EACJ,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GACrC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CACrE,CAAA;CAC8B,CAAA;AAEjC;;;GAGG;AACH,eAAO,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,SAAS,MAAM,EAC1C,EAAE,EAAE,IAAI,KACL,CAAC,IAAI,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,OAAO,OAAO,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,eAAe,CAC5F,CAAA;;AAEd;;;GAGG;AACH,qBAAa,OAAQ,SAAQ,YAAqD;CAAG"}
\ No newline at end of file
diff --git a/dist/dts/HttpServerRequest.d.ts b/dist/dts/HttpServerRequest.d.ts
index ddb4ae733f4aa1c858ae3a8d0651408a06806b1d..aba8c95a2010717f61977143507a1bc41da261a1 100644
--- a/dist/dts/HttpServerRequest.d.ts
+++ b/dist/dts/HttpServerRequest.d.ts
@@ -122,7 +122,7 @@ export declare const schemaBodyForm: <A, I extends Partial<Multipart.Persisted>,
  * @since 1.0.0
  * @category schema
  */
-export declare const schemaBodyUrlParams: <A, I extends Readonly<Record<string, string | undefined>>, R>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError | Error.RequestError, R | HttpServerRequest>;
+export declare const schemaBodyUrlParams: <A, I extends Readonly<Record<string, string | ReadonlyArray<string> | undefined>>, R>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => Effect.Effect<A, ParseResult.ParseError | Error.RequestError, R | HttpServerRequest>;
 /**
  * @since 1.0.0
  * @category schema
diff --git a/dist/dts/HttpServerRequest.d.ts.map b/dist/dts/HttpServerRequest.d.ts.map
index e81ba308f2589a91d57f0675527a78c9270c910f..6ddcec3329d8f68b2d75554d351458906a712fa3 100644
--- a/dist/dts/HttpServerRequest.d.ts.map
+++ b/dist/dts/HttpServerRequest.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"HttpServerRequest.d.ts","sourceRoot":"","sources":["../../src/HttpServerRequest.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"HttpServerRequest.d.ts","sourceRoot":"","sources":["../../src/HttpServerRequest.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/Multipart.d.ts b/dist/dts/Multipart.d.ts
index c5e21be81996a92d72db38d551999fd9b6a00d40..f6a0f55dfcd2978badba0a3857322e2c44f5a480 100644
--- a/dist/dts/Multipart.d.ts
+++ b/dist/dts/Multipart.d.ts
@@ -101,7 +101,7 @@ export declare const isPersistedFile: (u: unknown) => u is PersistedFile;
  * @category models
  */
 export interface Persisted {
-    readonly [key: string]: ReadonlyArray<PersistedFile> | string;
+    readonly [key: string]: ReadonlyArray<PersistedFile> | ReadonlyArray<string> | string;
 }
 /**
  * @since 1.0.0
diff --git a/dist/dts/Multipart.d.ts.map b/dist/dts/Multipart.d.ts.map
index 5ea46ec9bc94d62f422c395190bb45f992714e4c..47c3c89f1f080ff5e5e65ad9ac17b2cb77fbc567 100644
--- a/dist/dts/Multipart.d.ts.map
+++ b/dist/dts/Multipart.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Multipart.d.ts","sourceRoot":"","sources":["../../src/Multipart.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,KAAK,EAAE,cAAc,EAAE,MAAM,cAAc,CAAA;AAClD,OAAO,KAAK,KAAK,OAAO,MAAM,gBAAgB,CAAA;AAC9C,OAAO,KAAK,KAAK,KAAK,MAAM,cAAc,CAAA;AAC1C,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,KAAK,QAAQ,MAAM,iBAAiB,CAAA;AAChD,OAAO,KAAK,EAAE,WAAW,EAAE,MAAM,oBAAoB,CAAA;AACrD,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,KAAK,WAAW,MAAM,oBAAoB,CAAA;AACtD,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAA;AACpD,OAAO,KAAK,KAAK,KAAK,MAAM,cAAc,CAAA;AAC1C,OAAO,KAAK,KAAK,MAAM,MAAM,eAAe,CAAA;AAC5C,OAAO,KAAK,KAAK,UAAU,MAAM,YAAY,CAAA;AAC7C,OAAO,KAAK,KAAK,UAAU,MAAM,iBAAiB,CAAA;AAElD,OAAO,KAAK,KAAK,IAAI,MAAM,WAAW,CAAA;AAEtC;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE,OAAO,MAAwB,CAAA;AAEpD;;;GAGG;AACH,MAAM,MAAM,MAAM,GAAG,OAAO,MAAM,CAAA;AAElC;;;GAGG;AACH,MAAM,MAAM,IAAI,GAAG,KAAK,GAAG,IAAI,CAAA;AAE/B;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI,IAAsB,CAAA;AAEhE;;GAEG;AACH,MAAM,CAAC,OAAO,WAAW,IAAI,CAAC;IAC5B;;;OAGG;IACH,UAAiB,KAAM,SAAQ,WAAW;QACxC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE,MAAM,CAAA;QACzB,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAA;KACtB;CACF;AAED;;;GAGG;AACH,MAAM,WAAW,KAAM,SAAQ,IAAI,CAAC,KAAK;IACvC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAA;IACtB,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAA;IACpB,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAA;IAC5B,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAA;CACvB;AAED;;;GAGG;AACH,eAAO,MAAM,OAAO,EAAE,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI,KAAwB,CAAA;AAEnE;;;GAGG;AACH,MAAM,WAAW,IAAK,SAAQ,IAAI,CAAC,KAAK;IACtC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAA;IACrB,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAA;IACpB,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAA;IACrB,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAA;IAC5B,QAAQ,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC,CAAA;CAC5D;AAED;;;GAGG;AACH,eAAO,MAAM,MAAM,EAAE,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI,IAAsB,CAAA;AAEhE;;;GAGG;AACH,MAAM,WAAW,aAAc,SAAQ,IAAI,CAAC,KAAK;IAC/C,QAAQ,CAAC,IAAI,EAAE,eAAe,CAAA;IAC9B,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAA;IACpB,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAA;IACrB,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAA;IAC5B,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAA;CACtB;AAED;;;GAGG;AACH,eAAO,MAAM,eAAe,EAAE,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI,aAAwC,CAAA;AAE3F;;;GAGG;AACH,MAAM,WAAW,SAAS;IACxB,QAAQ,EAAE,GAAG,EAAE,MAAM,GAAG,aAAa,CAAC,aAAa,CAAC,GAAG,MAAM,CAAA;CAC9D;AAED;;;GAGG;AACH,eAAO,MAAM,WAAW,EAAE,OAAO,MAA6B,CAAA;AAE9D;;;GAGG;AACH,MAAM,MAAM,WAAW,GAAG,OAAO,WAAW,CAAA;AAE5C;;;GAGG;AACH,MAAM,WAAW,cAAe,SAAQ,cAAc;IACpD,QAAQ,CAAC,CAAC,WAAW,CAAC,EAAE,WAAW,CAAA;IACnC,QAAQ,CAAC,IAAI,EAAE,gBAAgB,CAAA;IAC/B,QAAQ,CAAC,MAAM,EAAE,cAAc,GAAG,eAAe,GAAG,cAAc,GAAG,cAAc,GAAG,eAAe,GAAG,OAAO,CAAA;IAC/G,QAAQ,CAAC,OAAO,EAAE,MAAM,CAAA;IACxB,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAA;CACxB;AAED;;;GAGG;AACH,eAAO,MAAM,cAAc,EAAE,KAC3B,OAAO,EAAE;IACP,QAAQ,CAAC,MAAM,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAA;IACzC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAA;CACxB,KACE,cAAwC,CAAA;AAE7C;;;GAGG;AACH,eAAO,MAAM,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAqB,CAAA;AAEnF;;;GAGG;AACH,eAAO,MAAM,YAAY,EAAE;IACzB;;;OAGG;IACH,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IACnG;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;CACxE,CAAA;AAEzB;;;GAGG;AACH,eAAO,MAAM,YAAY,EAAE,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAyB,CAAA;AAErF;;;GAGG;AACH,eAAO,MAAM,gBAAgB,EAAE;IAC7B;;;OAGG;IACH,CAAC,IAAI,EAAE,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IACjG;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;CAClE,CAAA;AAE7B;;;GAGG;AACH,eAAO,MAAM,WAAW,EAAE,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAwB,CAAA;AAElG;;;GAGG;AACH,eAAO,MAAM,eAAe,EAAE;IAC5B;;;OAGG;IACH,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IAChH;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;CAClF,CAAA;AAE5B;;;GAGG;AACH,eAAO,MAAM,cAAc,EAAE,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAA2B,CAAA;AAE7F;;;GAGG;AACH,eAAO,MAAM,kBAAkB,EAAE;IAC/B;;;OAGG;IACH,CAAC,SAAS,EAAE,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IACvG;;;OAGG;IACH,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;CACtE,CAAA;AAE/B;;;GAGG;AACH,eAAO,MAAM,UAAU,EAAE,MAAM,CAAC,MAAM,CAAC,aAAa,CAAuB,CAAA;AAE3E;;;GAGG;AACH,eAAO,MAAM,WAAW,EAAE,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,CAAwB,CAAA;AAE5F;;;GAGG;AACH,eAAO,MAAM,gBAAgB,EAAE,MAAM,CAAC,SAAS,CAC7C,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,EAC3C,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CACD,CAAA;AAE7B;;;GAGG;AACH,eAAO,MAAM,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAC/B,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC9B,OAAO,CAAC,EAAE,YAAY,GAAG,SAAS,KAC/B;IACH,CAAC,KAAK,EAAE,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC,CAAA;IACtF,CAAC,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC,CAAA;CAC7D,CAAA;AAEvB;;;GAGG;AACH,eAAO,MAAM,eAAe,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,EAC/D,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC9B,OAAO,CAAC,EAAE,YAAY,GAAG,SAAS,KAC/B,CAAC,SAAS,EAAE,SAAS,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,UAAU,EAAE,CAAC,CAA4B,CAAA;AAErG;;;GAGG;AACH,eAAO,MAAM,WAAW,EAAE,CAAC,EAAE,EAC3B,OAAO,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC/B,UAAU,CAAC,EAAE,MAAM,KAChB,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,cAAc,GAAG,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,OAAO,CACpF,CAAA;AAEtB;;;GAGG;AACH,eAAO,MAAM,UAAU,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,CAAuB,CAAA;AAExH;;;GAGG;AACH,eAAO,MAAM,WAAW,EAAE,CACxB,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,cAAc,CAAC,EAC3C,SAAS,CAAC,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,KAAK,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,cAAc,EAAE,UAAU,CAAC,UAAU,CAAC,KACjG,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,cAAc,EAAE,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAwB,CAAA"}
\ No newline at end of file
+{"version":3,"file":"Multipart.d.ts","sourceRoot":"","sources":["../../src/Multipart.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/OpenApi.d.ts b/dist/dts/OpenApi.d.ts
index be3bd7a56af24fb91047fd48122630f8542370d1..79ab8f07af278c2e01c52207a5e1490dc1d37bab 100644
--- a/dist/dts/OpenApi.d.ts
+++ b/dist/dts/OpenApi.d.ts
@@ -82,7 +82,7 @@ declare const Override_base: Context.TagClass<Override, "@effect/platform/OpenAp
  */
 export declare class Override extends Override_base {
 }
-declare const Transform_base: Context.TagClass<Transform, "@effect/platform/OpenApi/Transform", (openApiSpec: OpenAPISpec) => OpenAPISpec>;
+declare const Transform_base: Context.TagClass<Transform, "@effect/platform/OpenApi/Transform", (openApiSpec: Record<string, any>) => Record<string, any>>;
 /**
  * Transforms the generated OpenAPI specification
  * @since 1.0.0
@@ -97,18 +97,15 @@ export declare class Transform extends Transform_base {
 export declare const annotations: (options: {
     readonly identifier?: string | undefined;
     readonly title?: string | undefined;
-    readonly summary?: string | undefined;
     readonly version?: string | undefined;
     readonly description?: string | undefined;
     readonly license?: OpenAPISpecLicense | undefined;
+    readonly summary?: string | undefined;
     readonly externalDocs?: OpenAPISpecExternalDocs | undefined;
     readonly servers?: ReadonlyArray<OpenAPISpecServer> | undefined;
     readonly format?: string | undefined;
     readonly override?: Record<string, unknown> | undefined;
-    /**
-     * Transforms the generated OpenAPI specification
-     */
-    readonly transform?: ((openApiSpec: OpenAPISpec) => OpenAPISpec) | undefined;
+    readonly transform?: ((openApiSpec: Record<string, any>) => Record<string, any>) | undefined;
 }) => Context.Context<never>;
 /**
  * @category constructors
diff --git a/dist/dts/OpenApi.d.ts.map b/dist/dts/OpenApi.d.ts.map
index 59fc8bead6e561a0cdb83e5fc5b5a30330c33a25..204f664bced27e35e3fdc1bb0c5dcc6e7adb8ef0 100644
--- a/dist/dts/OpenApi.d.ts.map
+++ b/dist/dts/OpenApi.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"OpenApi.d.ts","sourceRoot":"","sources":["../../src/OpenApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"OpenApi.d.ts","sourceRoot":"","sources":["../../src/OpenApi.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/OpenApiJsonSchema.d.ts b/dist/dts/OpenApiJsonSchema.d.ts
index 1036e86bdd3e60f90662babe68987bf90ac158ed..2f93099ff4bae472936d7fb341af542656cb6a18 100644
--- a/dist/dts/OpenApiJsonSchema.d.ts
+++ b/dist/dts/OpenApiJsonSchema.d.ts
@@ -77,6 +77,7 @@ export interface String extends Annotations {
     minLength?: number;
     maxLength?: number;
     pattern?: string;
+    format?: string;
     contentEncoding?: string;
     contentMediaType?: string;
     contentSchema?: JsonSchema;
@@ -90,6 +91,7 @@ export interface Numeric extends Annotations {
     exclusiveMinimum?: number;
     maximum?: number;
     exclusiveMaximum?: number;
+    format?: string;
 }
 /**
  * @category model
diff --git a/dist/dts/OpenApiJsonSchema.d.ts.map b/dist/dts/OpenApiJsonSchema.d.ts.map
index 5930d3e6e6eb83db4cfb46a09c442e331b12560e..f5ec76536149ebab8112dc8510266d5210866ae2 100644
--- a/dist/dts/OpenApiJsonSchema.d.ts.map
+++ b/dist/dts/OpenApiJsonSchema.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"OpenApiJsonSchema.d.ts","sourceRoot":"","sources":["../../src/OpenApiJsonSchema.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"OpenApiJsonSchema.d.ts","sourceRoot":"","sources":["../../src/OpenApiJsonSchema.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/UrlParams.d.ts b/dist/dts/UrlParams.d.ts
index c31b89fe0aa63b18f3a722587b7d2a5fad05917d..f3d9699b4c9f9343e41bddeb488021b515be7e65 100644
--- a/dist/dts/UrlParams.d.ts
+++ b/dist/dts/UrlParams.d.ts
@@ -169,14 +169,14 @@ export declare const remove: {
 };
 /**
  * @since 1.0.0
- * @category combinators
+ * @category conversions
  */
-export declare const toString: (self: UrlParams) => string;
+export declare const makeUrl: (url: string, params: UrlParams, hash: Option.Option<string>) => Either.Either<URL, Error>;
 /**
  * @since 1.0.0
- * @category constructors
+ * @category conversions
  */
-export declare const makeUrl: (url: string, params: UrlParams, hash: Option.Option<string>) => Either.Either<URL, Error>;
+export declare const toString: (self: UrlParams) => string;
 /**
  * Builds a `Record` containing all the key-value pairs in the given `UrlParams`
  * as `string` (if only one value for a key) or a `NonEmptyArray<string>`
@@ -205,4 +205,28 @@ export declare const schemaJson: <A, I, R>(schema: Schema.Schema<A, I, R>, optio
     (field: string): (self: UrlParams) => Effect.Effect<A, ParseResult.ParseError, R>;
     (self: UrlParams, field: string): Effect.Effect<A, ParseResult.ParseError, R>;
 };
+/**
+ * Extract schema from all key-value pairs in the given `UrlParams`.
+ *
+ * @example
+ * import { Effect, Schema } from "effect"
+ * import { UrlParams } from "@effect/platform"
+ *
+ * Effect.gen(function* () {
+ *   const urlParams = UrlParams.fromInput({ "a": [10, "string"], "b": false })
+ *   const result = yield* UrlParams.schemaStruct(Schema.Struct({
+ *     a: Schema.Tuple(Schema.NumberFromString, Schema.String),
+ *     b: Schema.BooleanFromString
+ *   }))(urlParams)
+ *
+ *   assert.deepStrictEqual(result, {
+ *     a: [10, "string"],
+ *     b: false
+ *   })
+ * })
+ *
+ * @since 1.0.0
+ * @category schema
+ */
+export declare const schemaStruct: <A, I extends Record<string, string | ReadonlyArray<string> | undefined>, R>(schema: Schema.Schema<A, I, R>, options?: ParseOptions | undefined) => (self: UrlParams) => Effect.Effect<A, ParseResult.ParseError, R>;
 //# sourceMappingURL=UrlParams.d.ts.map
\ No newline at end of file
diff --git a/dist/dts/UrlParams.d.ts.map b/dist/dts/UrlParams.d.ts.map
index 13f57051b9bbecdb9ec0c79f0ecc594de07b1afe..8d642e912ecbd4151ec32f69e0abdfcae4357142 100644
--- a/dist/dts/UrlParams.d.ts.map
+++ b/dist/dts/UrlParams.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"UrlParams.d.ts","sourceRoot":"","sources":["../../src/UrlParams.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"UrlParams.d.ts","sourceRoot":"","sources":["../../src/UrlParams.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/dts/internal/httpClient.d.ts.map b/dist/dts/internal/httpClient.d.ts.map
index 264797465910ce1c769270241af5bc9a193932f6..cd5ca517d735a1393fcb989d115d85f08a20131b 100644
--- a/dist/dts/internal/httpClient.d.ts.map
+++ b/dist/dts/internal/httpClient.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"httpClient.d.ts","sourceRoot":"","sources":["../../../src/internal/httpClient.ts"],"names":[],"mappings":"AAEA,OAAO,KAAK,MAAM,MAAM,eAAe,CAAA;AAWvC,OAAO,KAAK,KAAK,MAAM,cAAc,CAAA;AAIrC,OAAO,KAAK,KAAK,MAAM,MAAM,kBAAkB,CAAA;AAC/C,OAAO,KAAK,KAAK,MAAM,uBAAuB,CAAA;AAC9C,OAAO,KAAK,KAAK,aAAa,MAAM,yBAAyB,CAAA;AAC7D,OAAO,KAAK,KAAK,cAAc,MAAM,0BAA0B,CAAA;AAsL/D,eAAO;AACL,gBAAgB;AAChB,GAAG;AACH,gBAAgB;AAChB,OAAO;AACP,gBAAgB;AAChB,GAAG;AACH,gBAAgB;AAChB,IAAI;AACJ,gBAAgB;AAChB,OAAO;AACP,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB,IAAI;AACJ,gBAAgB;AAChB,GAAG,wNAC2B,CAAA"}
\ No newline at end of file
+{"version":3,"file":"httpClient.d.ts","sourceRoot":"","sources":["../../../src/internal/httpClient.ts"],"names":[],"mappings":"AAEA,OAAO,KAAK,MAAM,MAAM,eAAe,CAAA;AAWvC,OAAO,KAAK,KAAK,MAAM,cAAc,CAAA;AAIrC,OAAO,KAAK,KAAK,MAAM,MAAM,kBAAkB,CAAA;AAC/C,OAAO,KAAK,KAAK,MAAM,uBAAuB,CAAA;AAC9C,OAAO,KAAK,KAAK,aAAa,MAAM,yBAAyB,CAAA;AAC7D,OAAO,KAAK,KAAK,cAAc,MAAM,0BAA0B,CAAA;AAyL/D,eAAO;AACL,gBAAgB;AAChB,GAAG;AACH,gBAAgB;AAChB,OAAO;AACP,gBAAgB;AAChB,GAAG;AACH,gBAAgB;AAChB,IAAI;AACJ,gBAAgB;AAChB,OAAO;AACP,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB,IAAI;AACJ,gBAAgB;AAChB,GAAG,wNAC2B,CAAA"}
\ No newline at end of file
diff --git a/dist/esm/HttpApi.js b/dist/esm/HttpApi.js
index 68d23f522df683a2eb054bc7ffad87d70c927674..92f878649f3b0a25aeda91ab15627dec369d135f 100644
--- a/dist/esm/HttpApi.js
+++ b/dist/esm/HttpApi.js
@@ -175,8 +175,11 @@ const extractMembers = (topAst, inherited, getStatus) => {
     });
     const status = getStatus(ast);
     const emptyDecodeable = HttpApiSchema.getEmptyDecodeable(ast);
-    const current = members.get(status) ?? Option.none();
-    members.set(status, current.pipe(Option.map(current => AST.Union.make(current._tag === "Union" ? [...current.types, ast] : [current, ast])), Option.orElse(() => !emptyDecodeable && AST.encodedAST(ast)._tag === "VoidKeyword" ? Option.none() : Option.some(ast))));
+    const current = members.get(status);
+    members.set(status, {
+      description: (current ? current.description : Option.none()).pipe(Option.orElse(() => getDescriptionOrIdentifier(ast))),
+      ast: (current ? current.ast : Option.none()).pipe(Option.map(current => AST.Union.make(current._tag === "Union" ? [...current.types, ast] : [current, ast])), Option.orElse(() => !emptyDecodeable && AST.encodedAST(ast)._tag === "VoidKeyword" ? Option.none() : Option.some(ast)))
+    });
   }
   if (topAst._tag === "Union") {
     for (const type of topAst.types) {
@@ -218,6 +221,13 @@ const extractPayloads = topAst => {
   }
   return members;
 };
+const getDescriptionOrIdentifier = ast => {
+  const annotations = "to" in ast ? {
+    ...ast.to.annotations,
+    ...ast.annotations
+  } : ast.annotations;
+  return Option.fromNullable(annotations[AST.DescriptionAnnotationId] ?? annotations[AST.IdentifierAnnotationId]);
+};
 /**
  * @since 1.0.0
  * @category tags
diff --git a/dist/esm/HttpApi.js.map b/dist/esm/HttpApi.js.map
index c9258873df9fde2d7b66f34c5a6f10c30ded71d5..a585811a2f32644937f585d13bb70fae0eca6f67 100644
--- a/dist/esm/HttpApi.js.map
+++ b/dist/esm/HttpApi.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApi.js","names":["Context","Option","pipeArguments","Predicate","Record","AST","HttpApiDecodeError","HttpApiSchema","TypeId","Symbol","for","isHttpApi","u","hasProperty","Api","Tag","Proto","pipe","arguments","add","group","makeProto","groups","set","identifier","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","getStatusError","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","Object","setPrototypeOf","Map","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","emptyDecodeable","getEmptyDecodeable","current","get","none","Union","make","types","orElse","encodedAST","some","type","encoding","getEncoding","contentType","getMultipart","undefined","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpApi.js","names":["Context","Option","pipeArguments","Predicate","Record","AST","HttpApiDecodeError","HttpApiSchema","TypeId","Symbol","for","isHttpApi","u","hasProperty","Api","Tag","Proto","pipe","arguments","add","group","makeProto","groups","set","identifier","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","getStatusError","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","Object","setPrototypeOf","Map","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","emptyDecodeable","getEmptyDecodeable","current","get","description","none","orElse","getDescriptionOrIdentifier","Union","make","types","encodedAST","some","type","encoding","getEncoding","contentType","getMultipart","undefined","to","fromNullable","DescriptionAnnotationId","IdentifierAnnotationId","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/HttpApiClient.js b/dist/esm/HttpApiClient.js
index 912840950a6161781d420fd7e9a9e0e2088a67f6..063bacdbd69633c7aae795e418aac295f9b28051 100644
--- a/dist/esm/HttpApiClient.js
+++ b/dist/esm/HttpApiClient.js
@@ -39,7 +39,9 @@ const makeClient = (api, options) => Effect.gen(function* () {
         orElse: statusOrElse
       };
       const decodeResponse = HttpClientResponse.matchStatus(decodeMap);
-      errors.forEach((ast, status) => {
+      errors.forEach(({
+        ast
+      }, status) => {
         if (ast._tag === "None") {
           decodeMap[status] = statusCodeError;
           return;
@@ -47,7 +49,9 @@ const makeClient = (api, options) => Effect.gen(function* () {
         const decode = schemaToResponse(ast.value);
         decodeMap[status] = response => Effect.flatMap(decode(response), Effect.fail);
       });
-      successes.forEach((ast, status) => {
+      successes.forEach(({
+        ast
+      }, status) => {
         decodeMap[status] = ast._tag === "None" ? responseAsVoid : schemaToResponse(ast.value);
       });
       const encodePayloadBody = endpoint.payloadSchema.pipe(Option.map(schema => {
@@ -151,7 +155,7 @@ export const endpoint = (api, groupName, endpointName, options) => {
   }).pipe(Effect.map(() => client));
 };
 // ----------------------------------------------------------------------------
-const paramsRegex = /:(\w+)[^/]*/g;
+const paramsRegex = /:([^/:.]+)/g;
 const compilePath = path => {
   const segments = path.split(paramsRegex);
   const len = segments.length;
diff --git a/dist/esm/HttpApiClient.js.map b/dist/esm/HttpApiClient.js.map
index 84981c2210ce4e50b8cce49681f59f65459543e7..915d9ed34f21a9d753d5076eb22780e18dbbbaa8 100644
--- a/dist/esm/HttpApiClient.js.map
+++ b/dist/esm/HttpApiClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApiClient.js","names":["Context","Effect","identity","globalValue","Option","ParseResult","Schema","HttpApi","HttpApiSchema","HttpBody","HttpClient","HttpClientError","HttpClientRequest","HttpClientResponse","HttpMethod","UrlParams","makeClient","api","options","gen","context","httpClient","pipe","baseUrl","undefined","mapRequest","prependUrl","transformClient","reflect","predicate","onGroup","onGroupOptions","onEndpoint","onEndpointOptions","endpoint","errors","successes","makeUrl","compilePath","path","decodeMap","orElse","statusOrElse","decodeResponse","matchStatus","forEach","ast","status","_tag","statusCodeError","decode","schemaToResponse","value","response","flatMap","fail","responseAsVoid","encodePayloadBody","payloadSchema","map","schema","hasBody","method","encodeUnknown","payloadSchemaBody","encodeHeaders","headersSchema","encodeUrlParams","urlParamsSchema","endpointFn","request","httpRequest","make","payload","FormData","bodyFormData","body","setBody","urlParams","setUrlParams","setHeaders","headers","appendUrlParams","execute","transformResponse","withResponse","scoped","catchIf","isParseError","die","mapInputContext","input","merge","client","group","topLevel","identifier","name","groupId","groupName","endpointName","paramsRegex","segments","split","len","length","_","params","url","i","encoding","getEncoding","decodeUnknown","kind","responseJson","schemaBodyUrlParams","arrayBuffer","buffer","Uint8Array","text","void","try","JSON","parse","catch","cause","ResponseError","reason","_response","HttpBodyFromSelf","declare","isHttpBody","members","types","Union","bodyFromPayload","bodyFromPayloadCache","WeakMap","has","get","transform","transformOrFail","fromA","Forbidden","encode","toI","json","mapError","error","Type","succeed","fromInput","uint8Array","set"],"sources":["../../src/HttpApiClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpApiClient.js","names":["Context","Effect","identity","globalValue","Option","ParseResult","Schema","HttpApi","HttpApiSchema","HttpBody","HttpClient","HttpClientError","HttpClientRequest","HttpClientResponse","HttpMethod","UrlParams","makeClient","api","options","gen","context","httpClient","pipe","baseUrl","undefined","mapRequest","prependUrl","transformClient","reflect","predicate","onGroup","onGroupOptions","onEndpoint","onEndpointOptions","endpoint","errors","successes","makeUrl","compilePath","path","decodeMap","orElse","statusOrElse","decodeResponse","matchStatus","forEach","ast","status","_tag","statusCodeError","decode","schemaToResponse","value","response","flatMap","fail","responseAsVoid","encodePayloadBody","payloadSchema","map","schema","hasBody","method","encodeUnknown","payloadSchemaBody","encodeHeaders","headersSchema","encodeUrlParams","urlParamsSchema","endpointFn","request","httpRequest","make","payload","FormData","bodyFormData","body","setBody","urlParams","setUrlParams","setHeaders","headers","appendUrlParams","execute","transformResponse","withResponse","scoped","catchIf","isParseError","die","mapInputContext","input","merge","client","group","topLevel","identifier","name","groupId","groupName","endpointName","paramsRegex","segments","split","len","length","_","params","url","i","encoding","getEncoding","decodeUnknown","kind","responseJson","schemaBodyUrlParams","arrayBuffer","buffer","Uint8Array","text","void","try","JSON","parse","catch","cause","ResponseError","reason","_response","HttpBodyFromSelf","declare","isHttpBody","members","types","Union","bodyFromPayload","bodyFromPayloadCache","WeakMap","has","get","transform","transformOrFail","fromA","Forbidden","encode","toI","json","mapError","error","Type","succeed","fromInput","uint8Array","set"],"sources":["../../src/HttpApiClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/HttpApiEndpoint.js.map b/dist/esm/HttpApiEndpoint.js.map
index 57e9a2fd30cc161551ccaeabe729a9740d63de28..dbd78b4328e259759f00d946107b1a6ae30c2a81 100644
--- a/dist/esm/HttpApiEndpoint.js.map
+++ b/dist/esm/HttpApiEndpoint.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpApiEndpoint.js","names":["Context","Option","pipeArguments","Predicate","Schema","HttpApiSchema","HttpRouter","TypeId","Symbol","for","isHttpApiEndpoint","u","hasProperty","Proto","pipe","arguments","addSuccess","schema","annotations","status","getStatusSuccess","makeProto","successSchema","NoContent","UnionUnify","addError","errorSchema","getStatusError","setPayload","payloadSchema","some","setPath","pathSchema","setUrlParams","urlParamsSchema","setHeaders","headersSchema","prefix","path","prefixPath","middleware","failure","middlewares","Set","annotate","tag","value","add","annotateContext","context","merge","options","Object","assign","create","make","method","name","args","length","none","Never","empty","segments","schemas","obj","i","key","getParam","ast","String","Struct","get","post","put","patch","del"],"sources":["../../src/HttpApiEndpoint.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpApiEndpoint.js","names":["Context","Option","pipeArguments","Predicate","Schema","HttpApiSchema","HttpRouter","TypeId","Symbol","for","isHttpApiEndpoint","u","hasProperty","Proto","pipe","arguments","addSuccess","schema","annotations","status","getStatusSuccess","makeProto","successSchema","NoContent","UnionUnify","addError","errorSchema","getStatusError","setPayload","payloadSchema","some","setPath","pathSchema","setUrlParams","urlParamsSchema","setHeaders","headersSchema","prefix","path","prefixPath","middleware","failure","middlewares","Set","annotate","tag","value","add","annotateContext","context","merge","options","Object","assign","create","make","method","name","args","length","none","Never","empty","segments","schemas","obj","i","key","getParam","ast","String","Struct","get","post","put","patch","del"],"sources":["../../src/HttpApiEndpoint.ts"],"sourcesContent":[null],"mappings":"AAIA,OAAO,KAAKA,OAAO,MAAM,gBAAgB;AAEzC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,SAAwBC,aAAa,QAAQ,iBAAiB;AAC9D,OAAO,KAAKC,SAAS,MAAM,kBAAkB;AAC7C,OAAO,KAAKC,MAAM,MAAM,eAAe;AAGvC,OAAO,KAAKC,aAAa,MAAM,oBAAoB;AAEnD,OAAO,KAAKC,UAAU,MAAM,iBAAiB;AAG7C;;;;AAIA,OAAO,MAAMC,MAAM,gBAAkBC,MAAM,CAACC,GAAG,CAAC,kCAAkC,CAAC;AAQnF;;;;AAIA,OAAO,MAAMC,iBAAiB,GAAIC,CAAU,IAA0CR,SAAS,CAACS,WAAW,CAACD,CAAC,EAAEJ,MAAM,CAAC;AAgoBtH,MAAMM,KAAK,GAAG;EACZ,CAACN,MAAM,GAAGA,MAAM;EAChBO,IAAIA,CAAA;IACF,OAAOZ,aAAa,CAAC,IAAI,EAAEa,SAAS,CAAC;EACvC,CAAC;EACDC,UAAUA,CAERC,MAAyB,EACzBC,WAA0C;IAE1CD,MAAM,GAAGA,MAAM,CAACH,IAAI,CAClBV,MAAM,CAACc,WAAW,CAACb,aAAa,CAACa,WAAW,CAAC;MAC3CC,MAAM,EAAED,WAAW,EAAEC,MAAM,IAAId,aAAa,CAACe,gBAAgB,CAACH,MAAM;KACrE,CAAC,CAAC,CACJ;IACD,OAAOI,SAAS,CAAC;MACf,GAAG,IAAI;MACPC,aAAa,EAAE,IAAI,CAACA,aAAa,KAAKjB,aAAa,CAACkB,SAAS,GAC3DN,MAAM,GACNZ,aAAa,CAACmB,UAAU,CAAC,IAAI,CAACF,aAAa,EAAEL,MAAM;KACtD,CAAC;EACJ,CAAC;EACDQ,QAAQA,CAAqCR,MAAyB,EAAEC,WAA0C;IAChH,OAAOG,SAAS,CAAC;MACf,GAAG,IAAI;MACPK,WAAW,EAAErB,aAAa,CAACmB,UAAU,CACnC,IAAI,CAACE,WAAW,EAChBT,MAAM,CAACH,IAAI,CACTV,MAAM,CAACc,WAAW,CAACb,aAAa,CAACa,WAAW,CAAC;QAC3CC,MAAM,EAAED,WAAW,EAAEC,MAAM,IAAId,aAAa,CAACsB,cAAc,CAACV,MAAM;OACnE,CAAC,CAAC,CACJ;KAEJ,CAAC;EACJ,CAAC;EACDW,UAAUA,CAAqCX,MAAyB;IACtE,OAAOI,SAAS,CAAC;MACf,GAAG,IAAI;MACPQ,aAAa,EAAE5B,MAAM,CAAC6B,IAAI,CAACb,MAAM;KAClC,CAAC;EACJ,CAAC;EACDc,OAAOA,CAAqCd,MAAyB;IACnE,OAAOI,SAAS,CAAC;MACf,GAAG,IAAI;MACPW,UAAU,EAAE/B,MAAM,CAAC6B,IAAI,CAACb,MAAM;KAC/B,CAAC;EACJ,CAAC;EACDgB,YAAYA,CAAqChB,MAAyB;IACxE,OAAOI,SAAS,CAAC;MACf,GAAG,IAAI;MACPa,eAAe,EAAEjC,MAAM,CAAC6B,IAAI,CAACb,MAAM;KACpC,CAAC;EACJ,CAAC;EACDkB,UAAUA,CAAqClB,MAAyB;IACtE,OAAOI,SAAS,CAAC;MACf,GAAG,IAAI;MACPe,aAAa,EAAEnC,MAAM,CAAC6B,IAAI,CAACb,MAAM;KAClC,CAAC;EACJ,CAAC;EACDoB,MAAMA,CAAqCA,MAA4B;IACrE,OAAOhB,SAAS,CAAC;MACf,GAAG,IAAI;MACPiB,IAAI,EAAEhC,UAAU,CAACiC,UAAU,CAAC,IAAI,CAACD,IAAI,EAAED,MAAM;KAC9C,CAAC;EACJ,CAAC;EACDG,UAAUA,CAAqCA,UAAyC;IACtF,OAAOnB,SAAS,CAAC;MACf,GAAG,IAAI;MACPK,WAAW,EAAErB,aAAa,CAACmB,UAAU,CACnC,IAAI,CAACE,WAAW,EAChBc,UAAU,CAACC,OAAO,CAAC3B,IAAI,CACrBV,MAAM,CAACc,WAAW,CAACb,aAAa,CAACa,WAAW,CAAC;QAC3CC,MAAM,EAAEd,aAAa,CAACsB,cAAc,CAACa,UAAU,CAACC,OAAO;OACxD,CAAC,CAAC,CACJ,CACF;MACDC,WAAW,EAAE,IAAIC,GAAG,CAAC,CAAC,GAAG,IAAI,CAACD,WAAW,EAAEF,UAAU,CAAC;KACvD,CAAC;EACJ,CAAC;EACDI,QAAQA,CAAqCC,GAA0B,EAAEC,KAAU;IACjF,OAAOzB,SAAS,CAAC;MACf,GAAG,IAAI;MACPH,WAAW,EAAElB,OAAO,CAAC+C,GAAG,CAAC,IAAI,CAAC7B,WAAW,EAAE2B,GAAG,EAAEC,KAAK;KACtD,CAAC;EACJ,CAAC;EACDE,eAAeA,CAAqCC,OAA6B;IAC/E,OAAO5B,SAAS,CAAC;MACf,GAAG,IAAI;MACPH,WAAW,EAAElB,OAAO,CAACkD,KAAK,CAAC,IAAI,CAAChC,WAAW,EAAE+B,OAAO;KACrD,CAAC;EACJ;CACD;AAED,MAAM5B,SAAS,GAWb8B,OAYD,IACCC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACE,MAAM,CAACzC,KAAK,CAAC,EAAEsC,OAAO,CAAC;AAE9C;;;;AAIA,OAAO,MAAMI,IAAI,GAA+BC,MAAc,IAI3D,CAACC,IAAY,EAAE,GAAGC,IAA4B,KAAI;EACjD,IAAIA,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;IACrB,OAAOtC,SAAS,CAAC;MACfoC,IAAI;MACJnB,IAAI,EAAEoB,IAAI,CAAC,CAAC,CAAC;MACbF,MAAM;MACNxB,UAAU,EAAE/B,MAAM,CAAC2D,IAAI,EAAE;MACzB1B,eAAe,EAAEjC,MAAM,CAAC2D,IAAI,EAAE;MAC9B/B,aAAa,EAAE5B,MAAM,CAAC2D,IAAI,EAAE;MAC5BxB,aAAa,EAAEnC,MAAM,CAAC2D,IAAI,EAAE;MAC5BtC,aAAa,EAAEjB,aAAa,CAACkB,SAAgB;MAC7CG,WAAW,EAAEtB,MAAM,CAACyD,KAAY;MAChC3C,WAAW,EAAElB,OAAO,CAAC8D,KAAK,EAAE;MAC5BpB,WAAW,EAAE,IAAIC,GAAG;KACrB,CAAC;EACJ;EACA,OAAO,CAACoB,QAA8B,EAAE,GAAGC,OAA+C,KAAI;IAC5F,IAAI1B,IAAI,GAAGyB,QAAQ,CAAC,CAAC,CAAyB;IAC9C,IAAI/B,UAAU,GAAG/B,MAAM,CAAC2D,IAAI,EAAqB;IACjD,IAAII,OAAO,CAACL,MAAM,GAAG,CAAC,EAAE;MACtB,MAAMM,GAAG,GAAsC,EAAE;MACjD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,OAAO,CAACL,MAAM,EAAEO,CAAC,EAAE,EAAE;QACvC,MAAMjD,MAAM,GAAG+C,OAAO,CAACE,CAAC,CAAC;QACzB,MAAMC,GAAG,GAAG9D,aAAa,CAAC+D,QAAQ,CAACnD,MAAM,CAACoD,GAAG,CAAC,IAAIC,MAAM,CAACJ,CAAC,CAAC;QAC3DD,GAAG,CAACE,GAAG,CAAC,GAAGlD,MAAM;QACjBqB,IAAI,IAAI,IAAI6B,GAAG,GAAGJ,QAAQ,CAACG,CAAC,GAAG,CAAC,CAAC,EAAE;MACrC;MACAlC,UAAU,GAAG/B,MAAM,CAAC6B,IAAI,CAAC1B,MAAM,CAACmE,MAAM,CAACN,GAAG,CAAC,CAAC;IAC9C;IACA,OAAO5C,SAAS,CAAC;MACfoC,IAAI;MACJnB,IAAI;MACJkB,MAAM;MACNxB,UAAU;MACVE,eAAe,EAAEjC,MAAM,CAAC2D,IAAI,EAAE;MAC9B/B,aAAa,EAAE5B,MAAM,CAAC2D,IAAI,EAAE;MAC5BxB,aAAa,EAAEnC,MAAM,CAAC2D,IAAI,EAAE;MAC5BtC,aAAa,EAAEjB,aAAa,CAACkB,SAAgB;MAC7CG,WAAW,EAAEtB,MAAM,CAACyD,KAAY;MAChC3C,WAAW,EAAElB,OAAO,CAAC8D,KAAK,EAAE;MAC5BpB,WAAW,EAAE,IAAIC,GAAG;KACrB,CAAC;EACJ,CAAC;AACH,CAAS;AAEX;;;;AAIA,OAAO,MAAM6B,GAAG,gBAWZjB,IAAI,CAAC,KAAK,CAAC;AAEf;;;;AAIA,OAAO,MAAMkB,IAAI,gBAWblB,IAAI,CAAC,MAAM,CAAC;AAEhB;;;;AAIA,OAAO,MAAMmB,GAAG,gBAWZnB,IAAI,CAAC,KAAK,CAAC;AAEf;;;;AAIA,OAAO,MAAMoB,KAAK,gBAWdpB,IAAI,CACN,OAAO,CACR;AAED;;;;AAIA,OAAO,MAAMqB,GAAG,gBAWZrB,IAAI,CACN,QAAQ,CACT","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/HttpIncomingMessage.js b/dist/esm/HttpIncomingMessage.js
index f8a9b99a8760e8562c9f2f085707aefed9df13ef..b12101dca8fd5d5015eafd4d64d911a09c5d9199 100644
--- a/dist/esm/HttpIncomingMessage.js
+++ b/dist/esm/HttpIncomingMessage.js
@@ -9,6 +9,7 @@ import * as Inspectable from "effect/Inspectable";
 import * as Option from "effect/Option";
 import * as Schema from "effect/Schema";
 import * as FileSystem from "./FileSystem.js";
+import * as UrlParams from "./UrlParams.js";
 /**
  * @since 1.0.0
  * @category type ids
@@ -27,8 +28,8 @@ export const schemaBodyJson = (schema, options) => {
  * @category schema
  */
 export const schemaBodyUrlParams = (schema, options) => {
-  const parse = Schema.decodeUnknown(schema, options);
-  return self => Effect.flatMap(self.urlParamsBody, _ => parse(Object.fromEntries(_)));
+  const decode = UrlParams.schemaStruct(schema, options);
+  return self => Effect.flatMap(self.urlParamsBody, decode);
 };
 /**
  * @since 1.0.0
diff --git a/dist/esm/HttpIncomingMessage.js.map b/dist/esm/HttpIncomingMessage.js.map
index 7e830e0112faa645478d94598ef2743f19f89765..a16b276f3e86ad59ff36fd5479352d573aabb0cb 100644
--- a/dist/esm/HttpIncomingMessage.js.map
+++ b/dist/esm/HttpIncomingMessage.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpIncomingMessage.js","names":["Effect","FiberRef","dual","Global","Inspectable","Option","Schema","FileSystem","TypeId","Symbol","for","schemaBodyJson","schema","options","parse","decodeUnknown","self","flatMap","json","schemaBodyUrlParams","urlParamsBody","_","Object","fromEntries","schemaHeaders","headers","maxBodySize","globalValue","unsafeMake","none","withMaxBodySize","effect","size","locally","map","Size","inspect","that","contentType","body","includes","runSync","text","obj","redact","remoteAddress","toJSON","undefined"],"sources":["../../src/HttpIncomingMessage.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpIncomingMessage.js","names":["Effect","FiberRef","dual","Global","Inspectable","Option","Schema","FileSystem","UrlParams","TypeId","Symbol","for","schemaBodyJson","schema","options","parse","decodeUnknown","self","flatMap","json","schemaBodyUrlParams","decode","schemaStruct","urlParamsBody","schemaHeaders","headers","maxBodySize","globalValue","unsafeMake","none","withMaxBodySize","effect","size","locally","map","Size","inspect","that","contentType","body","includes","runSync","_","text","obj","redact","remoteAddress","toJSON","undefined"],"sources":["../../src/HttpIncomingMessage.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/HttpServerRequest.js.map b/dist/esm/HttpServerRequest.js.map
index 6f625c5f125fe8f939481ecc21f834f17734bd3f..e4ef55de2cab2335cf2242c8837312ea012077b3 100644
--- a/dist/esm/HttpServerRequest.js.map
+++ b/dist/esm/HttpServerRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"HttpServerRequest.js","names":["internal","maxBodySize","TypeId","HttpServerRequest","serverRequestTag","ParsedSearchParams","parsedSearchParamsTag","searchParamsFromURL","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaSearchParams","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb","toURL"],"sources":["../../src/HttpServerRequest.ts"],"sourcesContent":[null],"mappings":"AAmBA,OAAO,KAAKA,QAAQ,MAAM,iCAAiC;AAK3D;AACE;;;;AAIAC,WAAW,QACN,0BAA0B;AAEjC;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBF,QAAQ,CAACE,MAAM;AAsCpD;;;;AAIA,OAAO,MAAMC,iBAAiB,GAAsDH,QAAQ,CAACI,gBAAgB;AAU7G;;;;AAIA,OAAO,MAAMC,kBAAkB,GAC7BL,QAAQ,CAACM,qBAAqB;AAEhC;;;;AAIA,OAAO,MAAMC,mBAAmB,GAC9BP,QAAQ,CAACO,mBAAmB;AAE9B;;;;AAIA,OAAO,MAAMC,kBAAkB,GAI3BR,QAAQ,CAACS,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAAwEV,QAAQ,CAACU,OAAO;AAE5G;;;;AAIA,OAAO,MAAMC,cAAc,GAQvBX,QAAQ,CAACW,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,aAAa,GAG6CZ,QAAQ,CAACY,aAAa;AAE7F;;;;AAIA,OAAO,MAAMC,aAAa,GAG6Cb,QAAQ,CAACa,aAAa;AAE7F;;;;AAIA,OAAO,MAAMC,kBAAkB,GAGyCd,QAAQ,CAACc,kBAAkB;AAEnG;;;;AAIA,OAAO,MAAMC,cAAc,GAGiEf,QAAQ,CAACe,cAAc;AAEnH;;;;AAIA,OAAO,MAAMC,cAAc,GAOvBhB,QAAQ,CAACgB,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,mBAAmB,GAG4DjB,QAAQ,CAACiB,mBAAmB;AAExH;;;;AAIA,OAAO,MAAMC,mBAAmB,GAO5BlB,QAAQ,CAACkB,mBAAmB;AAEhC;;;;AAIA,OAAO,MAAMC,kBAAkB,GAS3BnB,QAAQ,CAACmB,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAA4CpB,QAAQ,CAACoB,OAAO;AAEhF;;;;AAIA,OAAO,MAAMC,KAAK,GAA6CrB,QAAQ,CAACqB,KAAK","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"HttpServerRequest.js","names":["internal","maxBodySize","TypeId","HttpServerRequest","serverRequestTag","ParsedSearchParams","parsedSearchParamsTag","searchParamsFromURL","persistedMultipart","multipartPersisted","upgrade","upgradeChannel","schemaCookies","schemaHeaders","schemaSearchParams","schemaBodyJson","schemaBodyForm","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","fromWeb","toURL"],"sources":["../../src/HttpServerRequest.ts"],"sourcesContent":[null],"mappings":"AAmBA,OAAO,KAAKA,QAAQ,MAAM,iCAAiC;AAK3D;AACE;;;;AAIAC,WAAW,QACN,0BAA0B;AAEjC;;;;AAIA,OAAO,MAAMC,MAAM,GAAkBF,QAAQ,CAACE,MAAM;AAsCpD;;;;AAIA,OAAO,MAAMC,iBAAiB,GAAsDH,QAAQ,CAACI,gBAAgB;AAU7G;;;;AAIA,OAAO,MAAMC,kBAAkB,GAC7BL,QAAQ,CAACM,qBAAqB;AAEhC;;;;AAIA,OAAO,MAAMC,mBAAmB,GAC9BP,QAAQ,CAACO,mBAAmB;AAE9B;;;;AAIA,OAAO,MAAMC,kBAAkB,GAI3BR,QAAQ,CAACS,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAAwEV,QAAQ,CAACU,OAAO;AAE5G;;;;AAIA,OAAO,MAAMC,cAAc,GAQvBX,QAAQ,CAACW,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,aAAa,GAG6CZ,QAAQ,CAACY,aAAa;AAE7F;;;;AAIA,OAAO,MAAMC,aAAa,GAG6Cb,QAAQ,CAACa,aAAa;AAE7F;;;;AAIA,OAAO,MAAMC,kBAAkB,GAGyCd,QAAQ,CAACc,kBAAkB;AAEnG;;;;AAIA,OAAO,MAAMC,cAAc,GAGiEf,QAAQ,CAACe,cAAc;AAEnH;;;;AAIA,OAAO,MAAMC,cAAc,GAOvBhB,QAAQ,CAACgB,cAAc;AAE3B;;;;AAIA,OAAO,MAAMC,mBAAmB,GAO4DjB,QAAQ,CAACiB,mBAAmB;AAExH;;;;AAIA,OAAO,MAAMC,mBAAmB,GAO5BlB,QAAQ,CAACkB,mBAAmB;AAEhC;;;;AAIA,OAAO,MAAMC,kBAAkB,GAS3BnB,QAAQ,CAACmB,kBAAkB;AAE/B;;;;AAIA,OAAO,MAAMC,OAAO,GAA4CpB,QAAQ,CAACoB,OAAO;AAEhF;;;;AAIA,OAAO,MAAMC,KAAK,GAA6CrB,QAAQ,CAACqB,KAAK","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/OpenApi.js b/dist/esm/OpenApi.js
index daaa2a70e6461892fb44af4210433ec91ca28989..48a38df925e73fd4b42473d9dc34c06c01c4a86e 100644
--- a/dist/esm/OpenApi.js
+++ b/dist/esm/OpenApi.js
@@ -5,7 +5,6 @@ import * as Context from "effect/Context";
 import { globalValue } from "effect/GlobalValue";
 import * as Option from "effect/Option";
 import * as Schema from "effect/Schema";
-import * as AST from "effect/SchemaAST";
 import * as HttpApi from "./HttpApi.js";
 import * as HttpApiMiddleware from "./HttpApiMiddleware.js";
 import * as HttpApiSchema from "./HttpApiSchema.js";
@@ -172,7 +171,7 @@ export const fromApi = self => {
     onGroup({
       group
     }) {
-      const tag = {
+      let tag = {
         name: Context.getOrElse(group.annotations, Title, () => group.identifier)
       };
       Option.map(Context.getOption(group.annotations, Description), description => {
@@ -184,6 +183,9 @@ export const fromApi = self => {
       Option.map(Context.getOption(group.annotations, Override), override => {
         Object.assign(tag, override);
       });
+      Option.map(Context.getOption(group.annotations, Transform), fn => {
+        tag = fn(tag);
+      });
       spec.tags.push(tag);
     },
     onEndpoint({
@@ -196,7 +198,7 @@ export const fromApi = self => {
     }) {
       const path = endpoint.path.replace(/:(\w+)[^/]*/g, "{$1}");
       const method = endpoint.method.toLowerCase();
-      const op = {
+      let op = {
         tags: [Context.getOrElse(group.annotations, Title, () => group.identifier)],
         operationId: Context.getOrElse(endpoint.annotations, Identifier, () => group.topLevel ? endpoint.name : `${group.identifier}.${endpoint.name}`),
         parameters: [],
@@ -240,10 +242,13 @@ export const fromApi = self => {
           required: true
         };
       }
-      for (const [status, ast] of successes) {
+      for (const [status, {
+        ast,
+        description
+      }] of successes) {
         if (op.responses[status]) continue;
         op.responses[status] = {
-          description: Option.getOrElse(getDescriptionOrIdentifier(ast), () => "Success")
+          description: Option.getOrElse(description, () => "Success")
         };
         ast.pipe(Option.filter(ast => !HttpApiSchema.getEmptyDecodeable(ast)), Option.map(ast => {
           op.responses[status].content = {
@@ -305,10 +310,13 @@ export const fromApi = self => {
           });
         }
       }
-      for (const [status, ast] of errors) {
+      for (const [status, {
+        ast,
+        description
+      }] of errors) {
         if (op.responses[status]) continue;
         op.responses[status] = {
-          description: Option.getOrElse(getDescriptionOrIdentifier(ast), () => "Error")
+          description: Option.getOrElse(description, () => "Error")
         };
         ast.pipe(Option.filter(ast => !HttpApiSchema.getEmptyDecodeable(ast)), Option.map(ast => {
           op.responses[status].content = {
@@ -324,6 +332,9 @@ export const fromApi = self => {
       Option.map(Context.getOption(endpoint.annotations, Override), override => {
         Object.assign(op, override);
       });
+      Option.map(Context.getOption(endpoint.annotations, Transform), transformFn => {
+        op = transformFn(op);
+      });
       spec.paths[path][method] = op;
     }
   });
@@ -370,8 +381,4 @@ const makeSecurityScheme = security => {
       }
   }
 };
-const getDescriptionOrIdentifier = ast => ast.pipe(Option.map(ast => "to" in ast ? {
-  ...ast.to.annotations,
-  ...ast.annotations
-} : ast.annotations), Option.flatMapNullable(annotations => annotations[AST.DescriptionAnnotationId] ?? annotations[AST.IdentifierAnnotationId]));
 //# sourceMappingURL=OpenApi.js.map
\ No newline at end of file
diff --git a/dist/esm/OpenApi.js.map b/dist/esm/OpenApi.js.map
index 2b60e7e709188c68b108b641bd99c335f2d1ea06..0ea14a944f9dca9132b7f7277cafc7e40360feaf 100644
--- a/dist/esm/OpenApi.js.map
+++ b/dist/esm/OpenApi.js.map
@@ -1 +1 @@
-{"version":3,"file":"OpenApi.js","names":["Context","globalValue","Option","Schema","AST","HttpApi","HttpApiMiddleware","HttpApiSchema","HttpMethod","JsonSchema","Identifier","Tag","Title","Version","Description","License","ExternalDocs","Servers","Format","Summary","Deprecated","Override","Transform","contextPartial","tags","entries","Object","options","context","empty","key","tag","undefined","add","annotations","identifier","title","version","description","license","summary","externalDocs","servers","format","override","transform","apiCache","WeakMap","fromApi","self","has","get","api","jsonSchemaDefs","spec","openapi","info","getOrElse","paths","components","schemas","securitySchemes","security","makeJsonSchemaOrRef","schema","makeWithDefs","defs","defsPath","registerSecurity","name","scheme","makeSecurityScheme","map","getOption","AdditionalSchemas","componentSchemas","forEach","componentSchema","assign","middlewares","middleware","isSecurity","push","reflect","onGroup","group","onEndpoint","endpoint","errors","payloads","successes","path","replace","method","toLowerCase","op","operationId","topLevel","parameters","responses","deprecated","size","content","ast","contentType","make","requestBody","required","status","getDescriptionOrIdentifier","pipe","filter","getEmptyDecodeable","isSome","pathSchema","value","properties","jsonSchema","in","includes","hasBody","payloadSchema","headersSchema","urlParamsSchema","transformFn","set","meta","_tag","type","bearerFormat","getOrUndefined","to","flatMapNullable","DescriptionAnnotationId","IdentifierAnnotationId"],"sources":["../../src/OpenApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"OpenApi.js","names":["Context","globalValue","Option","Schema","HttpApi","HttpApiMiddleware","HttpApiSchema","HttpMethod","JsonSchema","Identifier","Tag","Title","Version","Description","License","ExternalDocs","Servers","Format","Summary","Deprecated","Override","Transform","contextPartial","tags","entries","Object","options","context","empty","key","tag","undefined","add","annotations","identifier","title","version","description","license","summary","externalDocs","servers","format","override","transform","apiCache","WeakMap","fromApi","self","has","get","api","jsonSchemaDefs","spec","openapi","info","getOrElse","paths","components","schemas","securitySchemes","security","makeJsonSchemaOrRef","schema","makeWithDefs","defs","defsPath","registerSecurity","name","scheme","makeSecurityScheme","map","getOption","AdditionalSchemas","componentSchemas","forEach","componentSchema","assign","middlewares","middleware","isSecurity","push","reflect","onGroup","group","fn","onEndpoint","endpoint","errors","payloads","successes","path","replace","method","toLowerCase","op","operationId","topLevel","parameters","responses","deprecated","size","content","ast","contentType","make","requestBody","required","status","pipe","filter","getEmptyDecodeable","isSome","pathSchema","value","properties","jsonSchema","in","includes","hasBody","payloadSchema","headersSchema","urlParamsSchema","transformFn","set","meta","_tag","type","bearerFormat","getOrUndefined"],"sources":["../../src/OpenApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/OpenApiJsonSchema.js.map b/dist/esm/OpenApiJsonSchema.js.map
index 46f49e3771b82679c6d05f92321a8d0c8e3140f4..ae4277b4b58862cf8112e908772404fbdd3a6890 100644
--- a/dist/esm/OpenApiJsonSchema.js.map
+++ b/dist/esm/OpenApiJsonSchema.js.map
@@ -1 +1 @@
-{"version":3,"file":"OpenApiJsonSchema.js","names":["Arr","Option","Predicate","Record","AST","make","schema","$defs","out","makeWithDefs","defs","isEmptyRecord","options","defsPath","getRef","id","go","ast","constAny","$id","constUnknown","constVoid","constAnyObject","constEmpty","getJsonSchemaAnnotations","annotated","getSomes","description","getDescriptionAnnotation","title","getTitleAnnotation","examples","getExamplesAnnotation","default","getDefaultAnnotation","removeDefaultJsonSchemaAnnotations","jsonSchemaAnnotations","annotations","TitleAnnotationId","DescriptionAnnotationId","getASTJsonSchemaAnnotations","_tag","stringKeyword","numberKeyword","booleanKeyword","pruneUndefinedFromPropertySignature","isNone","getJSONSchemaAnnotation","types","filter","type","isUndefinedKeyword","length","Union","isParseJsonTransformation","from","to","getRefinementInnerTransformation","f","isRefinement","SchemaIdAnnotationId","ParseJsonSchemaId","isOverrideAnnotation","jsonSchema","handleIdentifier","path","hook","isSome","handler","value","t","undefined","e","surrogate","getSurrogateAnnotation","identifier","getJSONIdentifier","$ref","has","Error","getJSONSchemaMissingAnnotationErrorMessage","literal","enum","isString","isNumber","isBoolean","elements","map","i","concat","rest","annotatedAST","output","len","minItems","element","isOptional","items","restLength","head","isHomogeneous","every","additionalItems","getJSONSchemaUnsupportedPostRestElementsErrorMessage","maxItems","propertySignatures","indexSignatures","patternProperties","propertyNames","is","parameter","pattern","getTemplateLiteralRegExp","source","getJSONSchemaUnsupportedParameterErrorMessage","required","properties","additionalProperties","ps","name","pruned","push","getJSONSchemaUnsupportedKeyErrorMessage","enums","anyOf","Object","keys","$comment","encodedBoundAST","regex","orElse","getJSONSchemaMissingIdentifierAnnotationErrorMessage","contentMediaType","contentSchema","getMissingAnnotationErrorMessage","getErrorMessage","key","formatPropertyKey","details","reason","isNonEmptyReadonlyArray","formatPath","formatPathKey","isNonEmpty","join","x","Array","isArray","JSON","stringify","String"],"sources":["../../src/OpenApiJsonSchema.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"OpenApiJsonSchema.js","names":["Arr","Option","Predicate","Record","AST","make","schema","$defs","out","makeWithDefs","defs","isEmptyRecord","options","defsPath","getRef","id","go","ast","constAny","$id","constUnknown","constVoid","constAnyObject","constEmpty","getJsonSchemaAnnotations","annotated","getSomes","description","getDescriptionAnnotation","title","getTitleAnnotation","examples","getExamplesAnnotation","default","getDefaultAnnotation","removeDefaultJsonSchemaAnnotations","jsonSchemaAnnotations","annotations","TitleAnnotationId","DescriptionAnnotationId","getASTJsonSchemaAnnotations","_tag","stringKeyword","numberKeyword","booleanKeyword","pruneUndefinedFromPropertySignature","isNone","getJSONSchemaAnnotation","types","filter","type","isUndefinedKeyword","length","Union","isParseJsonTransformation","from","to","getRefinementInnerTransformation","f","isRefinement","SchemaIdAnnotationId","ParseJsonSchemaId","isOverrideAnnotation","jsonSchema","handleIdentifier","path","hook","isSome","handler","value","t","undefined","e","surrogate","getSurrogateAnnotation","identifier","getJSONIdentifier","$ref","has","Error","getJSONSchemaMissingAnnotationErrorMessage","literal","enum","isString","isNumber","isBoolean","elements","map","i","concat","rest","annotatedAST","output","len","minItems","element","isOptional","items","restLength","head","isHomogeneous","every","additionalItems","getJSONSchemaUnsupportedPostRestElementsErrorMessage","maxItems","propertySignatures","indexSignatures","patternProperties","propertyNames","is","parameter","pattern","getTemplateLiteralRegExp","source","getJSONSchemaUnsupportedParameterErrorMessage","required","properties","additionalProperties","ps","name","pruned","push","getJSONSchemaUnsupportedKeyErrorMessage","enums","anyOf","Object","keys","$comment","encodedBoundAST","regex","orElse","getJSONSchemaMissingIdentifierAnnotationErrorMessage","contentMediaType","contentSchema","getMissingAnnotationErrorMessage","getErrorMessage","key","formatPropertyKey","details","reason","isNonEmptyReadonlyArray","formatPath","formatPathKey","isNonEmpty","join","x","Array","isArray","JSON","stringify","String"],"sources":["../../src/OpenApiJsonSchema.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/UrlParams.js b/dist/esm/UrlParams.js
index ba05eda22b5e31673bd486ee284b780c273d2c26..d8732216603e0e68b8e633e5029fcdd77af07968 100644
--- a/dist/esm/UrlParams.js
+++ b/dist/esm/UrlParams.js
@@ -89,12 +89,7 @@ export const appendAll = /*#__PURE__*/dual(2, (self, input) => Arr.appendAll(sel
 export const remove = /*#__PURE__*/dual(2, (self, key) => Arr.filter(self, ([k]) => k !== key));
 /**
  * @since 1.0.0
- * @category combinators
- */
-export const toString = self => new URLSearchParams(self).toString();
-/**
- * @since 1.0.0
- * @category constructors
+ * @category conversions
  */
 export const makeUrl = (url, params, hash) => {
   try {
@@ -113,6 +108,11 @@ export const makeUrl = (url, params, hash) => {
     return Either.left(e);
   }
 };
+/**
+ * @since 1.0.0
+ * @category conversions
+ */
+export const toString = self => new URLSearchParams(self).toString();
 const baseUrl = () => {
   if ("location" in globalThis && globalThis.location !== undefined && globalThis.location.origin !== undefined && globalThis.location.pathname !== undefined) {
     return location.origin + location.pathname;
@@ -160,4 +160,31 @@ export const schemaJson = (schema, options) => {
   const parse = Schema.decodeUnknown(Schema.parseJson(schema), options);
   return dual(2, (self, field) => parse(Option.getOrElse(getLast(self, field), () => "")));
 };
+/**
+ * Extract schema from all key-value pairs in the given `UrlParams`.
+ *
+ * @example
+ * import { Effect, Schema } from "effect"
+ * import { UrlParams } from "@effect/platform"
+ *
+ * Effect.gen(function* () {
+ *   const urlParams = UrlParams.fromInput({ "a": [10, "string"], "b": false })
+ *   const result = yield* UrlParams.schemaStruct(Schema.Struct({
+ *     a: Schema.Tuple(Schema.NumberFromString, Schema.String),
+ *     b: Schema.BooleanFromString
+ *   }))(urlParams)
+ *
+ *   assert.deepStrictEqual(result, {
+ *     a: [10, "string"],
+ *     b: false
+ *   })
+ * })
+ *
+ * @since 1.0.0
+ * @category schema
+ */
+export const schemaStruct = (schema, options) => self => {
+  const parse = Schema.decodeUnknown(schema, options);
+  return parse(toRecord(self));
+};
 //# sourceMappingURL=UrlParams.js.map
\ No newline at end of file
diff --git a/dist/esm/UrlParams.js.map b/dist/esm/UrlParams.js.map
index 69c001f61f1fe627dae319672207de546928e947..e5ad3e7997b379067085f4384f94fb7d59dd3bfe 100644
--- a/dist/esm/UrlParams.js.map
+++ b/dist/esm/UrlParams.js.map
@@ -1 +1 @@
-{"version":3,"file":"UrlParams.js","names":["Arr","Either","dual","Option","Schema","fromInput","input","entries","Symbol","iterator","fromIterable","Object","out","key","value","Array","isArray","i","length","undefined","push","String","schema","Tuple","annotations","identifier","empty","getAll","self","reduce","acc","k","getFirst","map","findFirst","getLast","findLast","set","append","filter","setAll","toSet","keys","appendAll","includes","remove","toString","URLSearchParams","makeUrl","url","params","hash","urlInstance","URL","baseUrl","searchParams","_tag","right","e","left","globalThis","location","origin","pathname","toRecord","curr","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse"],"sources":["../../src/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"UrlParams.js","names":["Arr","Either","dual","Option","Schema","fromInput","input","entries","Symbol","iterator","fromIterable","Object","out","key","value","Array","isArray","i","length","undefined","push","String","schema","Tuple","annotations","identifier","empty","getAll","self","reduce","acc","k","getFirst","map","findFirst","getLast","findLast","set","append","filter","setAll","toSet","keys","appendAll","includes","remove","makeUrl","url","params","hash","urlInstance","URL","baseUrl","searchParams","_tag","right","e","left","toString","URLSearchParams","globalThis","location","origin","pathname","toRecord","curr","schemaJson","options","parse","decodeUnknown","parseJson","field","getOrElse","schemaStruct"],"sources":["../../src/UrlParams.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/httpClient.js b/dist/esm/internal/httpClient.js
index 6e3de1693f6dd68a5decf3be6d8d26e2ca72b87a..89c510b545c84d16c596d59d0a3cea2f4eeada03 100644
--- a/dist/esm/internal/httpClient.js
+++ b/dist/esm/internal/httpClient.js
@@ -96,11 +96,13 @@ export const make = f => makeWith(effect => Effect.flatMap(effect, request => Ef
     kind: "client",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     span.attribute("server.address", url.origin);
     if (url.port !== "") {
       span.attribute("server.port", +url.port);
     }
+    span.attribute("http.url", url.toString());
     span.attribute("url.full", url.toString());
     span.attribute("url.path", url.pathname);
     span.attribute("url.scheme", url.protocol.slice(0, -1));
@@ -116,6 +118,7 @@ export const make = f => makeWith(effect => Effect.flatMap(effect, request => Ef
     request = fiber.getFiberRef(currentTracerPropagation) ? internalRequest.setHeaders(request, TraceContext.toHeaders(span)) : request;
     return Effect.tap(Effect.withParentSpan(f(request, url, controller.signal, fiber), span), response => {
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/esm/internal/httpClient.js.map b/dist/esm/internal/httpClient.js.map
index 73e6145153393a824740bc61ddcefc508d452b23..55c854a9576c0a3bd1cb58766129cae5ccb053c6 100644
--- a/dist/esm/internal/httpClient.js.map
+++ b/dist/esm/internal/httpClient.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpClient.js","names":["Cause","Context","Effect","FiberRef","constFalse","dual","globalValue","Inspectable","Layer","pipeArguments","Predicate","Ref","Schedule","Scope","Cookies","Headers","Error","TraceContext","UrlParams","internalRequest","internalResponse","TypeId","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","unsafeMake","withTracerDisabledWhen","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","ClientProto","pipe","arguments","BaseProto","toJSON","_id","get","url","options","execute","head","post","put","patch","del","isClient","u","hasProperty","makeWith","postprocess","preprocess","Object","create","request","make","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","serviceFunctions","transform","client","filterStatus","transformResponse","filterStatusOk","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","filterOrFail","orFailWith","mapRequest","map","mapRequestEffect","mapRequestInput","mapRequestInputEffect","retry","policy","retryTransient","while","ScheduleTypeId","undefined","isTransientError","or","schedule","times","error","TimeoutExceptionTypeId","isTransientHttpError","isHttpClientError","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","args","maxRedirects","loop","redirects","location","setUrl","layerMergedContext","context","mapInputContext","input"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpClient.js","names":["Cause","Context","Effect","FiberRef","constFalse","dual","globalValue","Inspectable","Layer","pipeArguments","Predicate","Ref","Schedule","Scope","Cookies","Headers","Error","TraceContext","UrlParams","internalRequest","internalResponse","TypeId","Symbol","for","tag","GenericTag","currentTracerDisabledWhen","unsafeMake","withTracerDisabledWhen","self","pred","locally","currentTracerPropagation","withTracerPropagation","enabled","ClientProto","pipe","arguments","BaseProto","toJSON","_id","get","url","options","execute","head","post","put","patch","del","isClient","u","hasProperty","makeWith","postprocess","preprocess","Object","create","request","make","f","effect","flatMap","withFiberRuntime","fiber","scope","unsafeGet","getFiberRef","currentContext","controller","AbortController","addAbort","addFinalizer","sync","abort","urlResult","makeUrl","urlParams","hash","_tag","fail","RequestError","reason","cause","left","right","tracerDisabled","currentTracerEnabled","zipRight","signal","useSpan","method","kind","captureStackTrace","span","attribute","origin","port","toString","pathname","protocol","slice","query","search","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","name","String","setHeaders","toHeaders","tap","withParentSpan","response","status","succeed","serviceFunctions","transform","client","filterStatus","transformResponse","filterStatusOk","catchTag","catchTags","cases","catchAll","filterOrElse","orElse","filterOrFail","orFailWith","mapRequest","map","mapRequestEffect","mapRequestInput","mapRequestInputEffect","retry","policy","retryTransient","while","ScheduleTypeId","undefined","isTransientError","or","schedule","times","error","TimeoutExceptionTypeId","isTransientHttpError","isHttpClientError","tapRequest","withCookiesRef","ref","update","cookies","merge","isEmpty","setHeader","toCookieHeader","followRedirects","args","maxRedirects","loop","redirects","location","setUrl","layerMergedContext","context","mapInputContext","input"],"sources":["../../../src/internal/httpClient.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,OAAO,MAAM,gBAAgB;AACzC,OAAO,KAAKC,MAAM,MAAM,eAAe;AAEvC,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,SAASC,UAAU,EAAEC,IAAI,QAAQ,iBAAiB;AAClD,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAO,KAAKC,WAAW,MAAM,oBAAoB;AACjD,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,OAAO,KAAKC,SAAS,MAAM,kBAAkB;AAC7C,OAAO,KAAKC,GAAG,MAAM,YAAY;AACjC,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,OAAO,KAAKC,KAAK,MAAM,cAAc;AAErC,OAAO,KAAKC,OAAO,MAAM,eAAe;AACxC,OAAO,KAAKC,OAAO,MAAM,eAAe;AAExC,OAAO,KAAKC,KAAK,MAAM,uBAAuB;AAG9C,OAAO,KAAKC,YAAY,MAAM,wBAAwB;AACtD,OAAO,KAAKC,SAAS,MAAM,iBAAiB;AAC5C,OAAO,KAAKC,eAAe,MAAM,wBAAwB;AACzD,OAAO,KAAKC,gBAAgB,MAAM,yBAAyB;AAE3D;AACA,OAAO,MAAMC,MAAM,gBAAkBC,MAAM,CAACC,GAAG,CAC7C,6BAA6B,CACb;AAElB;AACA,OAAO,MAAMC,GAAG,gBAAGvB,OAAO,CAACwB,UAAU,CAAoB,6BAA6B,CAAC;AAEvF;AACA,OAAO,MAAMC,yBAAyB,gBAAGpB,WAAW,eAClDgB,MAAM,CAACC,GAAG,CAAC,gDAAgD,CAAC,EAC5D,MAAMpB,QAAQ,CAACwB,UAAU,CAAuDvB,UAAU,CAAC,CAC5F;AAED;AACA,OAAO,MAAMwB,sBAAsB,gBAAGvB,IAAI,CAQxC,CAAC,EAAE,CAACwB,IAAI,EAAEC,IAAI,KAAK5B,MAAM,CAAC6B,OAAO,CAACF,IAAI,EAAEH,yBAAyB,EAAEI,IAAI,CAAC,CAAC;AAE3E;AACA,OAAO,MAAME,wBAAwB,gBAAG1B,WAAW,eACjDgB,MAAM,CAACC,GAAG,CAAC,sDAAsD,CAAC,EAClE,MAAMpB,QAAQ,CAACwB,UAAU,CAAC,IAAI,CAAC,CAChC;AAED;AACA,OAAO,MAAMM,qBAAqB,gBAAG5B,IAAI,CAQvC,CAAC,EAAE,CAACwB,IAAI,EAAEK,OAAO,KAAKhC,MAAM,CAAC6B,OAAO,CAACF,IAAI,EAAEG,wBAAwB,EAAEE,OAAO,CAAC,CAAC;AAEhF,MAAMC,WAAW,GAAG;EAClB,CAACd,MAAM,GAAGA,MAAM;EAChBe,IAAIA,CAAA;IACF,OAAO3B,aAAa,CAAC,IAAI,EAAE4B,SAAS,CAAC;EACvC,CAAC;EACD,GAAG9B,WAAW,CAAC+B,SAAS;EACxBC,MAAMA,CAAA;IACJ,OAAO;MACLC,GAAG,EAAE;KACN;EACH,CAAC;EACDC,GAAGA,CAA0BC,GAAiB,EAAEC,OAAsC;IACpF,OAAO,IAAI,CAACC,OAAO,CAACzB,eAAe,CAACsB,GAAG,CAACC,GAAG,EAAEC,OAAO,CAAC,CAAC;EACxD,CAAC;EACDE,IAAIA,CAA0BH,GAAiB,EAAEC,OAAsC;IACrF,OAAO,IAAI,CAACC,OAAO,CAACzB,eAAe,CAAC0B,IAAI,CAACH,GAAG,EAAEC,OAAO,CAAC,CAAC;EACzD,CAAC;EACDG,IAAIA,CAA0BJ,GAAiB,EAAEC,OAAoC;IACnF,OAAO,IAAI,CAACC,OAAO,CAACzB,eAAe,CAAC2B,IAAI,CAACJ,GAAG,EAAEC,OAAO,CAAC,CAAC;EACzD,CAAC;EACDI,GAAGA,CAA0BL,GAAiB,EAAEC,OAAoC;IAClF,OAAO,IAAI,CAACC,OAAO,CAACzB,eAAe,CAAC4B,GAAG,CAACL,GAAG,EAAEC,OAAO,CAAC,CAAC;EACxD,CAAC;EACDK,KAAKA,CAA0BN,GAAiB,EAAEC,OAAoC;IACpF,OAAO,IAAI,CAACC,OAAO,CAACzB,eAAe,CAAC6B,KAAK,CAACN,GAAG,EAAEC,OAAO,CAAC,CAAC;EAC1D,CAAC;EACDM,GAAGA,CAA0BP,GAAiB,EAAEC,OAAqC;IACnF,OAAO,IAAI,CAACC,OAAO,CAACzB,eAAe,CAAC8B,GAAG,CAACP,GAAG,EAAEC,OAAO,CAAC,CAAC;EACxD,CAAC;EACDA,OAAOA,CAA0BD,GAAiB,EAAEC,OAAsC;IACxF,OAAO,IAAI,CAACC,OAAO,CAACzB,eAAe,CAACwB,OAAO,CAACD,GAAG,EAAEC,OAAO,CAAC,CAAC;EAC5D;CACD;AAED,MAAMO,QAAQ,GAAIC,CAAU,IAA+CzC,SAAS,CAAC0C,WAAW,CAACD,CAAC,EAAE9B,MAAM,CAAC;AAO3G;AACA,OAAO,MAAMgC,QAAQ,GAAGA,CACtBC,WAE2D,EAC3DC,UAAgD,KACrB;EAC3B,MAAM1B,IAAI,GAAG2B,MAAM,CAACC,MAAM,CAACtB,WAAW,CAAC;EACvCN,IAAI,CAAC0B,UAAU,GAAGA,UAAU;EAC5B1B,IAAI,CAACyB,WAAW,GAAGA,WAAW;EAC9BzB,IAAI,CAACe,OAAO,GAAG,UAASc,OAAwC;IAC9D,OAAOJ,WAAW,CAACC,UAAU,CAACG,OAAO,CAAC,CAAC;EACzC,CAAC;EACD,OAAO7B,IAAI;AACb,CAAC;AAED;AACA,OAAO,MAAM8B,IAAI,GACfC,CAKyF,IAEzFP,QAAQ,CAAEQ,MAAM,IACd3D,MAAM,CAAC4D,OAAO,CAACD,MAAM,EAAGH,OAAO,IAC7BxD,MAAM,CAAC6D,gBAAgB,CAAEC,KAAK,IAAI;EAChC,MAAMC,KAAK,GAAGhE,OAAO,CAACiE,SAAS,CAACF,KAAK,CAACG,WAAW,CAAChE,QAAQ,CAACiE,cAAc,CAAC,EAAEvD,KAAK,CAACA,KAAK,CAAC;EACxF,MAAMwD,UAAU,GAAG,IAAIC,eAAe,EAAE;EACxC,MAAMC,QAAQ,GAAG1D,KAAK,CAAC2D,YAAY,CAACP,KAAK,EAAE/D,MAAM,CAACuE,IAAI,CAAC,MAAMJ,UAAU,CAACK,KAAK,EAAE,CAAC,CAAC;EACjF,MAAMC,SAAS,GAAGzD,SAAS,CAAC0D,OAAO,CAAClB,OAAO,CAAChB,GAAG,EAAEgB,OAAO,CAACmB,SAAS,EAAEnB,OAAO,CAACoB,IAAI,CAAC;EACjF,IAAIH,SAAS,CAACI,IAAI,KAAK,MAAM,EAAE;IAC7B,OAAO7E,MAAM,CAAC8E,IAAI,CAAC,IAAIhE,KAAK,CAACiE,YAAY,CAAC;MAAEvB,OAAO;MAAEwB,MAAM,EAAE,YAAY;MAAEC,KAAK,EAAER,SAAS,CAACS;IAAI,CAAE,CAAC,CAAC;EACtG;EACA,MAAM1C,GAAG,GAAGiC,SAAS,CAACU,KAAK;EAC3B,MAAMC,cAAc,GAAG,CAACtB,KAAK,CAACG,WAAW,CAAChE,QAAQ,CAACoF,oBAAoB,CAAC,IACtEvB,KAAK,CAACG,WAAW,CAACzC,yBAAyB,CAAC,CAACgC,OAAO,CAAC;EACvD,IAAI4B,cAAc,EAAE;IAClB,OAAOpF,MAAM,CAACsF,QAAQ,CACpBjB,QAAQ,EACRX,CAAC,CAACF,OAAO,EAAEhB,GAAG,EAAE2B,UAAU,CAACoB,MAAM,EAAEzB,KAAK,CAAC,CAC1C;EACH;EACA,OAAO9D,MAAM,CAACsF,QAAQ,CACpBjB,QAAQ,EACRrE,MAAM,CAACwF,OAAO,CACZ,eAAehC,OAAO,CAACiC,MAAM,EAAE,EAC/B;IAAEC,IAAI,EAAE,QAAQ;IAAEC,iBAAiB,EAAE;EAAK,CAAE,EAC3CC,IAAI,IAAI;IACPA,IAAI,CAACC,SAAS,CAAC,aAAa,EAAErC,OAAO,CAACiC,MAAM,CAAC;IAC7CG,IAAI,CAACC,SAAS,CAAC,qBAAqB,EAAErC,OAAO,CAACiC,MAAM,CAAC;IACrDG,IAAI,CAACC,SAAS,CAAC,gBAAgB,EAAErD,GAAG,CAACsD,MAAM,CAAC;IAC5C,IAAItD,GAAG,CAACuD,IAAI,KAAK,EAAE,EAAE;MACnBH,IAAI,CAACC,SAAS,CAAC,aAAa,EAAE,CAACrD,GAAG,CAACuD,IAAI,CAAC;IAC1C;IACAH,IAAI,CAACC,SAAS,CAAC,UAAU,EAAErD,GAAG,CAACwD,QAAQ,EAAE,CAAC;IAC1CJ,IAAI,CAACC,SAAS,CAAC,UAAU,EAAErD,GAAG,CAACwD,QAAQ,EAAE,CAAC;IAC1CJ,IAAI,CAACC,SAAS,CAAC,UAAU,EAAErD,GAAG,CAACyD,QAAQ,CAAC;IACxCL,IAAI,CAACC,SAAS,CAAC,YAAY,EAAErD,GAAG,CAAC0D,QAAQ,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACvD,MAAMC,KAAK,GAAG5D,GAAG,CAAC6D,MAAM,CAACF,KAAK,CAAC,CAAC,CAAC;IACjC,IAAIC,KAAK,KAAK,EAAE,EAAE;MAChBR,IAAI,CAACC,SAAS,CAAC,WAAW,EAAEO,KAAK,CAAC;IACpC;IACA,MAAME,mBAAmB,GAAGxC,KAAK,CAACG,WAAW,CAACpD,OAAO,CAAC0F,oBAAoB,CAAC;IAC3E,MAAMC,eAAe,GAAG3F,OAAO,CAAC4F,MAAM,CAACjD,OAAO,CAACkD,OAAO,EAAEJ,mBAAmB,CAAC;IAC5E,KAAK,MAAMK,IAAI,IAAIH,eAAe,EAAE;MAClCZ,IAAI,CAACC,SAAS,CAAC,uBAAuBc,IAAI,EAAE,EAAEC,MAAM,CAACJ,eAAe,CAACG,IAAI,CAAC,CAAC,CAAC;IAC9E;IACAnD,OAAO,GAAGM,KAAK,CAACG,WAAW,CAACnC,wBAAwB,CAAC,GACjDb,eAAe,CAAC4F,UAAU,CAACrD,OAAO,EAAEzC,YAAY,CAAC+F,SAAS,CAAClB,IAAI,CAAC,CAAC,GACjEpC,OAAO;IACX,OAAOxD,MAAM,CAAC+G,GAAG,CACf/G,MAAM,CAACgH,cAAc,CACnBtD,CAAC,CACCF,OAAO,EACPhB,GAAG,EACH2B,UAAU,CAACoB,MAAM,EACjBzB,KAAK,CACN,EACD8B,IAAI,CACL,EACAqB,QAAQ,IAAI;MACXrB,IAAI,CAACC,SAAS,CAAC,2BAA2B,EAAEoB,QAAQ,CAACC,MAAM,CAAC;MAC5DtB,IAAI,CAACC,SAAS,CAAC,kBAAkB,EAAEoB,QAAQ,CAACC,MAAM,CAAC;MACnD,MAAMV,eAAe,GAAG3F,OAAO,CAAC4F,MAAM,CAACQ,QAAQ,CAACP,OAAO,EAAEJ,mBAAmB,CAAC;MAC7E,KAAK,MAAMK,IAAI,IAAIH,eAAe,EAAE;QAClCZ,IAAI,CAACC,SAAS,CAAC,wBAAwBc,IAAI,EAAE,EAAEC,MAAM,CAACJ,eAAe,CAACG,IAAI,CAAC,CAAC,CAAC;MAC/E;IACF,CAAC,CACF;EACH,CAAC,CACF,CACF;AACH,CAAC,CAAC,CAAC,EAAE3G,MAAM,CAACmH,OAAqD,CAAC;AAExE,OAAO,MAAM;EACX;EACApE,GAAG;EACH;EACAL,OAAO;EACP;EACAH,GAAG;EACH;EACAI,IAAI;EACJ;EACAF,OAAO;EACP;EACAK,KAAK;EACL;EACAF,IAAI;EACJ;EACAC;AAAG,CACJ,gBAAG7C,MAAM,CAACoH,gBAAgB,CAAC9F,GAAG,CAAC;AAEhC;AACA,OAAO,MAAM+F,SAAS,gBAAGlH,IAAI,CAc3B,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAI;EACf,MAAM4D,MAAM,GAAG3F,IAAgC;EAC/C,OAAOwB,QAAQ,CACbnD,MAAM,CAAC4D,OAAO,CAAEJ,OAAO,IAAKE,CAAC,CAAC4D,MAAM,CAAClE,WAAW,CAACpD,MAAM,CAACmH,OAAO,CAAC3D,OAAO,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,EACpF8D,MAAM,CAACjE,UAAU,CAClB;AACH,CAAC,CAAC;AAEF;AACA,OAAO,MAAMkE,YAAY,gBAAGpH,IAAI,CAU9B,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAK8D,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAAC4D,OAAO,CAAC1C,gBAAgB,CAACqG,YAAY,CAAC7D,CAAC,CAAC,CAAC,CAAC,CAAC;AAE5F;AACA,OAAO,MAAM+D,cAAc,GACzB9F,IAA6B,IAE7B6F,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAAC4D,OAAO,CAAC1C,gBAAgB,CAACuG,cAAc,CAAC,CAAC;AAE1E;AACA,OAAO,MAAMD,iBAAiB,gBAAGrH,IAAI,CAYnC,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAI;EACf,MAAM4D,MAAM,GAAG3F,IAAgC;EAC/C,OAAOwB,QAAQ,CAAEK,OAAO,IAAKE,CAAC,CAAC4D,MAAM,CAAClE,WAAW,CAACI,OAAO,CAAC,CAAC,EAAE8D,MAAM,CAACjE,UAAU,CAAC;AACjF,CAAC,CAAC;AAEF;AACA,OAAO,MAAMqE,QAAQ,gBAgBjBvH,IAAI,CACN,CAAC,EACD,CAOEwB,IAA6B,EAC7BL,GAAM,EACNoC,CAA2F,KAC/B8D,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAAC0H,QAAQ,CAACpG,GAAG,EAAEoC,CAAC,CAAC,CAAC,CAC/G;AAED;AACA,OAAO,MAAMiE,SAAS,gBAyElBxH,IAAI,CACN,CAAC,EACD,CAmBEwB,IAA6B,EAC7BiG,KAAY,KAgBTJ,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAAC2H,SAAS,CAACC,KAAK,CAAQ,CAAC,CAC7D;AAED;AACA,OAAO,MAAMC,QAAQ,gBAQjB1H,IAAI,CACN,CAAC,EACD,CACEwB,IAA6B,EAC7B+B,CAAqE,KACnC8D,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAAC6H,QAAQ,CAACnE,CAAC,CAAC,CAAC,CAChF;AAED;AACA,OAAO,MAAMoE,YAAY,gBAYrB3H,IAAI,CAAC,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,EAAEqE,MAAM,KAAKP,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAAC8H,YAAY,CAACpE,CAAC,EAAEqE,MAAM,CAAC,CAAC,CAAC;AAEzF;AACA,OAAO,MAAMC,YAAY,gBAUrB7H,IAAI,CAAC,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,EAAEuE,UAAU,KAAKT,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAACgI,YAAY,CAACtE,CAAC,EAAEuE,UAAU,CAAC,CAAC,CAAC;AAEjG;AACA,OAAO,MAAMC,UAAU,gBAAG/H,IAAI,CAQ5B,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAI;EACf,MAAM4D,MAAM,GAAG3F,IAAgC;EAC/C,OAAOwB,QAAQ,CAACmE,MAAM,CAAClE,WAAW,EAAGI,OAAO,IAAKxD,MAAM,CAACmI,GAAG,CAACb,MAAM,CAACjE,UAAU,CAACG,OAAO,CAAC,EAAEE,CAAC,CAAC,CAAC;AAC7F,CAAC,CAAC;AAEF;AACA,OAAO,MAAM0E,gBAAgB,gBAAGjI,IAAI,CAclC,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAI;EACf,MAAM4D,MAAM,GAAG3F,IAAgC;EAC/C,OAAOwB,QAAQ,CAACmE,MAAM,CAAClE,WAAkB,EAAGI,OAAO,IAAKxD,MAAM,CAAC4D,OAAO,CAAC0D,MAAM,CAACjE,UAAU,CAACG,OAAO,CAAC,EAAEE,CAAC,CAAC,CAAC;AACxG,CAAC,CAAC;AAEF;AACA,OAAO,MAAM2E,eAAe,gBAAGlI,IAAI,CAQjC,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAI;EACf,MAAM4D,MAAM,GAAG3F,IAAgC;EAC/C,OAAOwB,QAAQ,CAACmE,MAAM,CAAClE,WAAW,EAAGI,OAAO,IAAK8D,MAAM,CAACjE,UAAU,CAACK,CAAC,CAACF,OAAO,CAAC,CAAC,CAAC;AACjF,CAAC,CAAC;AAEF;AACA,OAAO,MAAM8E,qBAAqB,gBAAGnI,IAAI,CAcvC,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAI;EACf,MAAM4D,MAAM,GAAG3F,IAAgC;EAC/C,OAAOwB,QAAQ,CAACmE,MAAM,CAAClE,WAAkB,EAAGI,OAAO,IAAKxD,MAAM,CAAC4D,OAAO,CAACF,CAAC,CAACF,OAAO,CAAC,EAAE8D,MAAM,CAACjE,UAAU,CAAC,CAAC;AACxG,CAAC,CAAC;AAEF;AACA,OAAO,MAAMkF,KAAK,gBAedpI,IAAI,CACN,CAAC,EACD,CACEwB,IAA6B,EAC7B6G,MAAoC,KACHhB,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAACuI,KAAK,CAACC,MAAM,CAAC,CAAC,CACjF;AAED;AACA,OAAO,MAAMC,cAAc,gBAgBvBtI,IAAI,CACN,CAAC,EACD,CACEwB,IAA6B,EAC7Bc,OAIwC,KAExC+E,iBAAiB,CACf7F,IAAI,EACJ3B,MAAM,CAACuI,KAAK,CAAC;EACXG,KAAK,EAAEhI,QAAQ,CAACiI,cAAc,IAAIlG,OAAO,IAAIA,OAAO,CAACiG,KAAK,KAAKE,SAAS,GACpEC,gBAAgB,GAChBrI,SAAS,CAACsI,EAAE,CAACD,gBAAgB,EAAEpG,OAAO,CAACiG,KAAK,CAAC;EACjDK,QAAQ,EAAErI,QAAQ,CAACiI,cAAc,IAAIlG,OAAO,GAAGA,OAAO,GAAGA,OAAO,CAACsG,QAAQ;EACzEC,KAAK,EAAEtI,QAAQ,CAACiI,cAAc,IAAIlG,OAAO,GAAGmG,SAAS,GAAGnG,OAAO,CAACuG;CACjE,CAAC,CACH,CACJ;AAED,MAAMH,gBAAgB,GAAII,KAAc,IACtCzI,SAAS,CAAC0C,WAAW,CAAC+F,KAAK,EAAEnJ,KAAK,CAACoJ,sBAAsB,CAAC,IAAIC,oBAAoB,CAACF,KAAK,CAAC;AAE3F,MAAME,oBAAoB,GAAIF,KAAc,IAC1CnI,KAAK,CAACsI,iBAAiB,CAACH,KAAK,CAAC,KAC5BA,KAAK,CAACpE,IAAI,KAAK,cAAc,IAAIoE,KAAK,CAACjE,MAAM,KAAK,WAAW,IAC5DiE,KAAK,CAACpE,IAAI,KAAK,eAAe,IAAIoE,KAAK,CAAChC,QAAQ,CAACC,MAAM,IAAI,GAAI,CAAC;AAErE;AACA,OAAO,MAAMH,GAAG,gBAAG5G,IAAI,CAQrB,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAK8D,iBAAiB,CAAC7F,IAAI,EAAE3B,MAAM,CAAC+G,GAAG,CAACrD,CAAC,CAAC,CAAC,CAAC;AAEzD;AACA,OAAO,MAAM2F,UAAU,gBAAGlJ,IAAI,CAU5B,CAAC,EAAE,CAACwB,IAAI,EAAE+B,CAAC,KAAI;EACf,MAAM4D,MAAM,GAAG3F,IAAgC;EAC/C,OAAOwB,QAAQ,CAACmE,MAAM,CAAClE,WAAkB,EAAGI,OAAO,IAAKxD,MAAM,CAAC+G,GAAG,CAACO,MAAM,CAACjE,UAAU,CAACG,OAAO,CAAC,EAAEE,CAAC,CAAC,CAAC;AACpG,CAAC,CAAC;AAEF;AACA,OAAO,MAAM4F,cAAc,gBAAGnJ,IAAI,CAShC,CAAC,EACD,CACEwB,IAA6B,EAC7B4H,GAA6B,KACF;EAC3B,MAAMjC,MAAM,GAAG3F,IAA4B;EAC3C,OAAOwB,QAAQ,CACZK,OAA6D,IAC5DxD,MAAM,CAAC+G,GAAG,CACRO,MAAM,CAAClE,WAAW,CAACI,OAAO,CAAC,EAC1ByD,QAAQ,IAAKxG,GAAG,CAAC+I,MAAM,CAACD,GAAG,EAAGE,OAAO,IAAK7I,OAAO,CAAC8I,KAAK,CAACD,OAAO,EAAExC,QAAQ,CAACwC,OAAO,CAAC,CAAC,CACrF,EACFjG,OAAO,IACNxD,MAAM,CAAC4D,OAAO,CAAC0D,MAAM,CAACjE,UAAU,CAACG,OAAO,CAAC,EAAGA,OAAO,IACjDxD,MAAM,CAACmI,GAAG,CACR1H,GAAG,CAAC8B,GAAG,CAACgH,GAAG,CAAC,EACXE,OAAO,IACN7I,OAAO,CAAC+I,OAAO,CAACF,OAAO,CAAC,GACpBjG,OAAO,GACPvC,eAAe,CAAC2I,SAAS,CAACpG,OAAO,EAAE,QAAQ,EAAE5C,OAAO,CAACiJ,cAAc,CAACJ,OAAO,CAAC,CAAC,CACpF,CAAC,CACP;AACH,CAAC,CACF;AAED;AACA,OAAO,MAAMK,eAAe,gBAAG3J,IAAI,CAQhC4J,IAAI,IAAK/G,QAAQ,CAAC+G,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAC7BpI,IAA6B,EAC7BqI,YAAiC,KACN;EAC3B,MAAM1C,MAAM,GAAG3F,IAA4B;EAC3C,OAAOwB,QAAQ,CACZK,OAAO,IAAI;IACV,MAAMyG,IAAI,GAAGA,CACXzG,OAAwC,EACxC0G,SAAiB,KAEjBlK,MAAM,CAAC4D,OAAO,CACZ0D,MAAM,CAAClE,WAAW,CAACpD,MAAM,CAACmH,OAAO,CAAC3D,OAAO,CAAC,CAAC,EAC1CyD,QAAQ,IACPA,QAAQ,CAACC,MAAM,IAAI,GAAG,IAAID,QAAQ,CAACC,MAAM,GAAG,GAAG,IAAID,QAAQ,CAACP,OAAO,CAACyD,QAAQ,IAC1ED,SAAS,IAAIF,YAAY,IAAI,EAAE,CAAC,GAC9BC,IAAI,CACJhJ,eAAe,CAACmJ,MAAM,CACpB5G,OAAO,EACPyD,QAAQ,CAACP,OAAO,CAACyD,QAAQ,CAC1B,EACDD,SAAS,GAAG,CAAC,CACd,GACClK,MAAM,CAACmH,OAAO,CAACF,QAAQ,CAAC,CAC/B;IACH,OAAOjH,MAAM,CAAC4D,OAAO,CAACJ,OAAO,EAAGA,OAAO,IAAKyG,IAAI,CAACzG,OAAO,EAAE,CAAC,CAAC,CAAC;EAC/D,CAAC,EACD8D,MAAM,CAACjE,UAAU,CAClB;AACH,CAAC,CAAC;AAEF;AACA,OAAO,MAAMgH,kBAAkB,GAC7B1G,MAA8C,IAE9CrD,KAAK,CAACqD,MAAM,CACVrC,GAAG,EACHtB,MAAM,CAAC4D,OAAO,CAAC5D,MAAM,CAACsK,OAAO,EAAS,EAAGA,OAAO,IAC9CtK,MAAM,CAACmI,GAAG,CAACxE,MAAM,EAAG2D,MAAM,IACxBE,iBAAiB,CACfF,MAAM,EACNtH,MAAM,CAACuK,eAAe,CAAEC,KAAmC,IAAKzK,OAAO,CAAC2J,KAAK,CAACY,OAAO,EAAEE,KAAK,CAAC,CAAC,CAC/F,CAAC,CAAC,CACR","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/httpMiddleware.js b/dist/esm/internal/httpMiddleware.js
index a40a8982cef881f61c5cf0b9a30df7df19ae0b8d..98b7a87814be7143c5276eb02eacdaa98fc5b4ec 100644
--- a/dist/esm/internal/httpMiddleware.js
+++ b/dist/esm/internal/httpMiddleware.js
@@ -68,8 +68,10 @@ export const tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRuntime(fiber
     kind: "server",
     captureStackTrace: false
   }, span => {
+    span.attribute("http.method", request.method);
     span.attribute("http.request.method", request.method);
     if (url !== undefined) {
+      span.attribute("http.url", url.toString());
       span.attribute("url.full", url.toString());
       span.attribute("url.path", url.pathname);
       const query = url.search.slice(1);
@@ -90,6 +92,7 @@ export const tracer = /*#__PURE__*/make(httpApp => Effect.withFiberRuntime(fiber
     return Effect.flatMap(Effect.exit(Effect.withParentSpan(httpApp, span)), exit => {
       const response = ServerError.exitResponse(exit);
       span.attribute("http.response.status_code", response.status);
+      span.attribute("http.status_code", response.status);
       const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames);
       for (const name in redactedHeaders) {
         span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]));
diff --git a/dist/esm/internal/httpMiddleware.js.map b/dist/esm/internal/httpMiddleware.js.map
index e039b064b3707c92d906fe00497fe8459be351e0..16eb7b4f33c1ad51f69394e0bbf86bee67ffaa9f 100644
--- a/dist/esm/internal/httpMiddleware.js.map
+++ b/dist/esm/internal/httpMiddleware.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpMiddleware.js","names":["Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","internalHttpApp","make","middleware","loggerDisabled","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","set","currentTracerDisabledWhen","withTracerDisabledWhen","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","request","unsafeGet","currentContext","HttpServerRequest","withLogSpan","flatMap","exit","getFiberRef","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","context","params","searchParamsFromURL","URL","originalUrl","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","headersFromRequest","unsafeFromRecord","headersFromRequestOptions","preResponseHandler","succeed","setHeaders","empty","appendPreResponseHandler"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpMiddleware.js","names":["Context","Effect","FiberRef","constFalse","dual","globalValue","Layer","Option","Headers","ServerError","ServerRequest","ServerResponse","TraceContext","internalHttpApp","make","middleware","loggerDisabled","Symbol","for","unsafeMake","withLoggerDisabled","self","zipRight","set","currentTracerDisabledWhen","withTracerDisabledWhen","pred","locally","withTracerDisabledWhenEffect","withTracerDisabledForUrls","urls","req","includes","url","logger","httpApp","counter","withFiberRuntime","fiber","request","unsafeGet","currentContext","HttpServerRequest","withLogSpan","flatMap","exit","getFiberRef","_tag","response","cause","causeResponseStripped","annotateLogs","log","value","method","status","tracer","disabled","getOrUndefined","toURL","undefined","username","password","redactedHeaderNames","currentRedactedNames","redactedHeaders","redact","headers","useSpan","parent","fromHeaders","kind","captureStackTrace","span","attribute","toString","pathname","query","search","slice","protocol","name","String","remoteAddress","withParentSpan","exitResponse","xForwardedHeaders","updateService","modify","split","trim","searchParamsParser","context","params","searchParamsFromURL","URL","originalUrl","add","ParsedSearchParams","cors","options","opts","allowedOrigins","allowedMethods","allowedHeaders","exposedHeaders","credentials","isAllowedOrigin","origin","allowOrigin","originHeader","length","vary","allowMethods","join","allowCredentials","allowHeaders","accessControlRequestHeaders","exposeHeaders","maxAge","headersFromRequest","unsafeFromRecord","headersFromRequestOptions","preResponseHandler","succeed","setHeaders","empty","appendPreResponseHandler"],"sources":["../../../src/internal/httpMiddleware.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/httpRouter.js.map b/dist/esm/internal/httpRouter.js.map
index 27a164fca6595a756d9307b6335f06a42628f5cf..634ba91cc57ab0519bad8208b52173064e902a80 100644
--- a/dist/esm/internal/httpRouter.js.map
+++ b/dist/esm/internal/httpRouter.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpRouter.js","names":["Chunk","Context","Effect","Effectable","FiberRef","dual","globalValue","Inspectable","Layer","Option","Predicate","Schema","Tracer","FindMyWay","Error","ServerRequest","Respondable","TypeId","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","u","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","get","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","unsafeMake","withRouterConfig","effect","config","locally","setRouterConfig","locallyScoped","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","pipe","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","i","startsWith","set","key","sliceRequestUrl","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixPath","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","Object","setPrototypeOf","getPrototypeOf","defineProperty","stack","Live","effectDiscard","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpRouter.js","names":["Chunk","Context","Effect","Effectable","FiberRef","dual","globalValue","Inspectable","Layer","Option","Predicate","Schema","Tracer","FindMyWay","Error","ServerRequest","Respondable","TypeId","Symbol","for","RouteTypeId","RouteContextTypeId","RouteContext","GenericTag","isRouter","u","hasProperty","params","map","_","schemaJson","schema","options","parse","decodeUnknown","flatMap","context","request","get","HttpServerRequest","searchParams","ParsedSearchParams","routeContext","json","body","method","url","headers","cookies","pathParams","schemaNoBody","schemaParams","schemaPathParams","currentRouterConfig","unsafeMake","withRouterConfig","effect","config","locally","setRouterConfig","locallyScoped","RouterImpl","StructuralClass","routes","mounts","constructor","httpApp","pipe","toHttpApp","commit","toJSON","_id","toString","format","NodeInspectSymbol","self","router","make","toReadonlyArray","path","app","RouteContextImpl","RouteImpl","includePrefix","none","some","mountsLen","length","forEach","route","all","on","withFiberRuntime","fiber","Map","getFiberRef","currentContext","unsafeMap","unsafeGet","i","startsWith","set","key","sliceRequestUrl","handler","toResponse","result","find","undefined","fail","RouteNotFound","prefix","_tag","value","span","getOption","ParentSpan","attribute","handlerResponse","uninterruptible","interruptible","prefexLen","modify","slice","Class","empty","fromIterable","makeRoute","append","concat","that","concatAll","routers","reduce","cur","acc","appendAll","removeTrailingSlash","endsWith","prefixPath","prefixAll","orElse","mount","mountApp","args","post","put","patch","del","head","use","f","transform","catchAll","catchAllCause","catchTag","k","catchTags","cases","provideService","tag","service","provideServiceEffect","makeService","addRoute","sync","opts","Tag","id","Err","globalThis","limit","stackTraceLimit","creationError","TagClass","TagClass_","Object","setPrototypeOf","getPrototypeOf","defineProperty","stack","Live","effectDiscard","provide","useScoped","scopedDiscard","unwrap","unwrapEffect"],"sources":["../../../src/internal/httpRouter.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/httpServerRequest.js.map b/dist/esm/internal/httpServerRequest.js.map
index 4ec15e64df3193d92bdea567f51140f5edaf82f0..46f8e530de854d510f0286016590691c503649a8 100644
--- a/dist/esm/internal/httpServerRequest.js.map
+++ b/dist/esm/internal/httpServerRequest.js.map
@@ -1 +1 @@
-{"version":3,"file":"httpServerRequest.js","names":["Channel","Context","Effect","Inspectable","Option","Schema","Stream","Cookies","Headers","IncomingMessage","Error","Multipart","Socket","UrlParams","TypeId","Symbol","for","serverRequestTag","GenericTag","parsedSearchParamsTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","searchParamsFromURL","url","out","key","value","searchParams","entries","entry","undefined","Array","isArray","push","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaSearchParams","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","cause","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","removeHost","index","indexOf","slice","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","fail","description","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","_","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer","toURL","self","host","protocol","URL"],"sources":["../../../src/internal/httpServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"httpServerRequest.js","names":["Channel","Context","Effect","Inspectable","Option","Schema","Stream","Cookies","Headers","IncomingMessage","Error","Multipart","Socket","UrlParams","TypeId","Symbol","for","serverRequestTag","GenericTag","parsedSearchParamsTag","upgrade","flatMap","request","upgradeChannel","unwrap","map","toChannelWith","multipartPersisted","multipart","searchParamsFromURL","url","out","key","value","searchParams","entries","entry","undefined","Array","isArray","push","schemaCookies","schema","options","parse","decodeUnknown","req","cookies","schemaHeaders","schemaSearchParams","schemaBodyJson","isMultipart","headers","toLowerCase","includes","schemaBodyForm","parseMultipart","schemaPersisted","parseUrlParams","schemaBodyUrlParams","schemaBodyMultipart","schemaBodyFormJson","schemaJson","field","mapError","cause","RequestError","reason","urlParamsBody","fromWeb","ServerRequestImpl","removeHost","index","indexOf","slice","Class","source","headersOverride","remoteAddressOverride","constructor","toJSON","inspect","_id","method","originalUrl","modify","remoteAddress","toUpperCase","some","none","fromInput","cachedCookies","parseHeader","cookie","stream","body","fromReadableStream","fail","description","textEffect","text","runSync","cached","tryPromise","try","catch","json","tryMap","_","JSON","URLSearchParams","multipartEffect","toPersisted","multipartStream","pipeThroughChannel","MultipartError","makeChannel","arrayBufferEffect","arrayBuffer","toURL","self","host","protocol","URL"],"sources":["../../../src/internal/httpServerRequest.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/esm/internal/multipart.js b/dist/esm/internal/multipart.js
index bb86ffd58768637f6e3ef53a60bb2b9704fbdcf6..560c96e12caef6789833548ac097a46ef20d0ab2 100644
--- a/dist/esm/internal/multipart.js
+++ b/dist/esm/internal/multipart.js
@@ -260,20 +260,33 @@ export const toPersisted = (stream, writeFile = defaultWriteFile) => Effect.gen(
   const fs = yield* FileSystem.FileSystem;
   const path_ = yield* Path.Path;
   const dir = yield* fs.makeTempDirectoryScoped();
-  return yield* Stream.runFoldEffect(stream, Object.create(null), (persisted, part) => {
+  const persisted = Object.create(null);
+  yield* Stream.runForEach(stream, part => {
     if (part._tag === "Field") {
-      persisted[part.key] = part.value;
-      return Effect.succeed(persisted);
+      if (!(part.key in persisted)) {
+        persisted[part.key] = part.value;
+      } else if (typeof persisted[part.key] === "string") {
+        persisted[part.key] = [persisted[part.key], part.value];
+      } else {
+        ;
+        persisted[part.key].push(part.value);
+      }
+      return Effect.void;
+    } else if (part.name === "") {
+      return Effect.void;
     }
     const file = part;
     const path = path_.join(dir, path_.basename(file.name).slice(-128));
-    if (!Array.isArray(persisted[part.key])) {
-      persisted[part.key] = [];
+    const filePart = new PersistedFileImpl(file.key, file.name, file.contentType, path);
+    if (Array.isArray(persisted[part.key])) {
+      ;
+      persisted[part.key].push(filePart);
+    } else {
+      persisted[part.key] = [filePart];
     }
-    ;
-    persisted[part.key].push(new PersistedFileImpl(file.key, file.name, file.contentType, path));
-    return Effect.as(writeFile(path, file), persisted);
+    return writeFile(path, file);
   });
+  return persisted;
 }).pipe(Effect.catchTags({
   SystemError: cause => Effect.fail(new MultipartError({
     reason: "InternalError",
diff --git a/dist/esm/internal/multipart.js.map b/dist/esm/internal/multipart.js.map
index d68f5059bdb045a65c0b7fe66aecfce38ff94530..09bf7bcdf6d18250217123d32b8005b38aed8801 100644
--- a/dist/esm/internal/multipart.js.map
+++ b/dist/esm/internal/multipart.js.map
@@ -1 +1 @@
-{"version":3,"file":"multipart.js","names":["Channel","Chunk","Effect","Exit","FiberRef","dual","globalValue","Inspectable","Mailbox","Option","Predicate","Schema","Stream","MP","TypeIdError","FileSystem","IncomingMessage","Path","TypeId","Symbol","for","isPart","u","hasProperty","isField","_tag","isFile","isPersistedFile","isTagged","ErrorTypeId","MultipartError","message","reason","maxParts","unsafeMake","none","withMaxParts","effect","count","locally","maxFieldSize","Size","withMaxFieldSize","size","maxFileSize","withMaxFileSize","map","fieldMimeTypes","make","withFieldMimeTypes","mimeTypes","fromIterable","FileSchema","declare","identifier","jsonSchema","type","format","FilesSchema","Array","SingleFileSchema","transform","pipe","itemsCount","strict","decode","file","encode","schemaPersisted","schema","options","parse","decodeUnknown","persisted","schemaJson","fromJson","parseJson","field","Struct","_","makeConfig","headers","withFiberRuntime","fiber","getFiberRef","succeed","getOrUndefined","Number","maxPartSize","maxTotalSize","maxBodySize","length","undefined","info","some","contentType","includes","defaultIsFile","makeChannel","bufferSize","acquireUseRelease","all","config","mailbox","partsBuffer","exit","input","awaitRead","void","emit","element","offer","error","cause","failCause","end","done","_value","parser","onField","value","push","FieldImpl","name","decodeField","onFile","chunks","finished","take","suspend","zipRight","pump","chunk","unsafeFromArray","write","FileImpl","onError","error_","fail","convertError","onDone","flatMap","takeAll","sync","forEach","partsChannel","writeExit","embedInput","shutdown","self","limit","PartBase","Class","constructor","key","toJSON","_id","content","channel","filename","fromChannel","defaultWriteFile","path","fs","mapError","run","sink","toPersisted","stream","writeFile","gen","path_","dir","makeTempDirectoryScoped","runFoldEffect","Object","create","part","join","basename","slice","isArray","PersistedFileImpl","as","catchTags","SystemError","BadArgument"],"sources":["../../../src/internal/multipart.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"multipart.js","names":["Channel","Chunk","Effect","Exit","FiberRef","dual","globalValue","Inspectable","Mailbox","Option","Predicate","Schema","Stream","MP","TypeIdError","FileSystem","IncomingMessage","Path","TypeId","Symbol","for","isPart","u","hasProperty","isField","_tag","isFile","isPersistedFile","isTagged","ErrorTypeId","MultipartError","message","reason","maxParts","unsafeMake","none","withMaxParts","effect","count","locally","maxFieldSize","Size","withMaxFieldSize","size","maxFileSize","withMaxFileSize","map","fieldMimeTypes","make","withFieldMimeTypes","mimeTypes","fromIterable","FileSchema","declare","identifier","jsonSchema","type","format","FilesSchema","Array","SingleFileSchema","transform","pipe","itemsCount","strict","decode","file","encode","schemaPersisted","schema","options","parse","decodeUnknown","persisted","schemaJson","fromJson","parseJson","field","Struct","_","makeConfig","headers","withFiberRuntime","fiber","getFiberRef","succeed","getOrUndefined","Number","maxPartSize","maxTotalSize","maxBodySize","length","undefined","info","some","contentType","includes","defaultIsFile","makeChannel","bufferSize","acquireUseRelease","all","config","mailbox","partsBuffer","exit","input","awaitRead","void","emit","element","offer","error","cause","failCause","end","done","_value","parser","onField","value","push","FieldImpl","name","decodeField","onFile","chunks","finished","take","suspend","zipRight","pump","chunk","unsafeFromArray","write","FileImpl","onError","error_","fail","convertError","onDone","flatMap","takeAll","sync","forEach","partsChannel","writeExit","embedInput","shutdown","self","limit","PartBase","Class","constructor","key","toJSON","_id","content","channel","filename","fromChannel","defaultWriteFile","path","fs","mapError","run","sink","toPersisted","stream","writeFile","gen","path_","dir","makeTempDirectoryScoped","Object","create","runForEach","part","join","basename","slice","filePart","PersistedFileImpl","isArray","catchTags","SystemError","BadArgument"],"sources":["../../../src/internal/multipart.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/src/HttpApi.ts b/src/HttpApi.ts
index 32b23eab1c753616e1eb92817149d749f2cddac5..152d7f64ce6ac635aa1cc6a67bc5749525e50260 100644
--- a/src/HttpApi.ts
+++ b/src/HttpApi.ts
@@ -286,8 +286,14 @@ export const reflect = <Groups extends HttpApiGroup.HttpApiGroup.Any, Error, R>(
         readonly encoding: HttpApiSchema.Encoding
         readonly ast: AST.AST
       }>
-      readonly successes: ReadonlyMap<number, Option.Option<AST.AST>>
-      readonly errors: ReadonlyMap<number, Option.Option<AST.AST>>
+      readonly successes: ReadonlyMap<number, {
+        readonly ast: Option.Option<AST.AST>
+        readonly description: Option.Option<string>
+      }>
+      readonly errors: ReadonlyMap<number, {
+        readonly ast: Option.Option<AST.AST>
+        readonly description: Option.Option<string>
+      }>
     }) => void
   }
 ) => {
@@ -329,9 +335,15 @@ const emptyMap = new Map<never, never>()
 
 const extractMembers = (
   topAst: AST.AST,
-  inherited: ReadonlyMap<number, Option.Option<AST.AST>>,
+  inherited: ReadonlyMap<number, {
+    readonly ast: Option.Option<AST.AST>
+    readonly description: Option.Option<string>
+  }>,
   getStatus: (ast: AST.AST) => number
-): ReadonlyMap<number, Option.Option<AST.AST>> => {
+): ReadonlyMap<number, {
+  readonly ast: Option.Option<AST.AST>
+  readonly description: Option.Option<string>
+}> => {
   const members = new Map(inherited)
   function process(ast: AST.AST) {
     if (ast._tag === "NeverKeyword") {
@@ -343,19 +355,24 @@ const extractMembers = (
     })
     const status = getStatus(ast)
     const emptyDecodeable = HttpApiSchema.getEmptyDecodeable(ast)
-    const current = members.get(status) ?? Option.none()
+    const current = members.get(status)
     members.set(
       status,
-      current.pipe(
-        Option.map((current) =>
-          AST.Union.make(
-            current._tag === "Union" ? [...current.types, ast] : [current, ast]
-          )
+      {
+        description: (current ? current.description : Option.none()).pipe(
+          Option.orElse(() => getDescriptionOrIdentifier(ast))
         ),
-        Option.orElse(() =>
-          !emptyDecodeable && AST.encodedAST(ast)._tag === "VoidKeyword" ? Option.none() : Option.some(ast)
+        ast: (current ? current.ast : Option.none()).pipe(
+          Option.map((current) =>
+            AST.Union.make(
+              current._tag === "Union" ? [...current.types, ast] : [current, ast]
+            )
+          ),
+          Option.orElse(() =>
+            !emptyDecodeable && AST.encodedAST(ast)._tag === "VoidKeyword" ? Option.none() : Option.some(ast)
+          )
         )
-      )
+      }
     )
   }
   if (topAst._tag === "Union") {
@@ -406,6 +423,16 @@ const extractPayloads = (topAst: AST.AST): ReadonlyMap<string, {
   return members
 }
 
+const getDescriptionOrIdentifier = (ast: AST.PropertySignature | AST.AST): Option.Option<string> => {
+  const annotations = "to" in ast ?
+    {
+      ...ast.to.annotations,
+      ...ast.annotations
+    } :
+    ast.annotations
+  return Option.fromNullable(annotations[AST.DescriptionAnnotationId] ?? annotations[AST.IdentifierAnnotationId] as any)
+}
+
 /**
  * @since 1.0.0
  * @category tags
diff --git a/src/HttpApiClient.ts b/src/HttpApiClient.ts
index 254dbbf007ab8e3d95aa7cffc9345aa1b6e4919b..cde3596e89c1c3e138aa4909f5f3a199d5fb6760 100644
--- a/src/HttpApiClient.ts
+++ b/src/HttpApiClient.ts
@@ -118,8 +118,14 @@ const makeClient = <Groups extends HttpApiGroup.Any, ApiError, ApiR>(
       readonly endpoint: HttpApiEndpoint<string, HttpMethod.HttpMethod>
       readonly mergedAnnotations: Context.Context<never>
       readonly middleware: ReadonlySet<HttpApiMiddleware.TagClassAny>
-      readonly successes: ReadonlyMap<number, Option.Option<AST.AST>>
-      readonly errors: ReadonlyMap<number, Option.Option<AST.AST>>
+      readonly successes: ReadonlyMap<number, {
+        readonly ast: Option.Option<AST.AST>
+        readonly description: Option.Option<string>
+      }>
+      readonly errors: ReadonlyMap<number, {
+        readonly ast: Option.Option<AST.AST>
+        readonly description: Option.Option<string>
+      }>
       readonly endpointFn: Function
     }) => void
     readonly transformClient?: ((client: HttpClient.HttpClient) => HttpClient.HttpClient) | undefined
@@ -152,7 +158,7 @@ const makeClient = <Groups extends HttpApiGroup.Any, ApiError, ApiR>(
           (response: HttpClientResponse.HttpClientResponse) => Effect.Effect<any, any>
         > = { orElse: statusOrElse }
         const decodeResponse = HttpClientResponse.matchStatus(decodeMap)
-        errors.forEach((ast, status) => {
+        errors.forEach(({ ast }, status) => {
           if (ast._tag === "None") {
             decodeMap[status] = statusCodeError
             return
@@ -160,7 +166,7 @@ const makeClient = <Groups extends HttpApiGroup.Any, ApiError, ApiR>(
           const decode = schemaToResponse(ast.value)
           decodeMap[status] = (response) => Effect.flatMap(decode(response), Effect.fail)
         })
-        successes.forEach((ast, status) => {
+        successes.forEach(({ ast }, status) => {
           decodeMap[status] = ast._tag === "None" ? responseAsVoid : schemaToResponse(ast.value)
         })
         const encodePayloadBody = endpoint.payloadSchema.pipe(
@@ -348,7 +354,7 @@ export const endpoint = <
 
 // ----------------------------------------------------------------------------
 
-const paramsRegex = /:(\w+)[^/]*/g
+const paramsRegex = /:([^/:.]+)/g
 
 const compilePath = (path: string) => {
   const segments = path.split(paramsRegex)
diff --git a/src/HttpApiEndpoint.ts b/src/HttpApiEndpoint.ts
index db7e8baf05505afce71519985ae0fcdaeb034ec6..e53de9d6482edf7ef526cd3de75f7ec0d22e3261 100644
--- a/src/HttpApiEndpoint.ts
+++ b/src/HttpApiEndpoint.ts
@@ -546,7 +546,7 @@ export declare namespace HttpApiEndpoint {
    * @category models
    */
   export type ValidateUrlParams<S extends Schema.Schema.Any> = S extends Schema.Schema<infer _A, infer _I, infer _R>
-    ? [_I] extends [Readonly<Record<string, string | undefined>>] ? {}
+    ? [_I] extends [Readonly<Record<string, string | ReadonlyArray<string> | undefined>>] ? {}
     : `UrlParams schema must be encodeable to strings`
     : {}
 
@@ -857,10 +857,7 @@ export const get: {
    * @since 1.0.0
    * @category constructors
    */
-  <const Name extends string>(
-    name: Name,
-    path: HttpRouter.PathInput
-  ): HttpApiEndpoint<Name, "GET", never, never, never, never, void, never, never, never>
+  <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "GET">
 } = make("GET")
 
 /**
@@ -877,10 +874,7 @@ export const post: {
    * @since 1.0.0
    * @category constructors
    */
-  <const Name extends string>(
-    name: Name,
-    path: HttpRouter.PathInput
-  ): HttpApiEndpoint<Name, "POST", never, never, never, never, void, never, never, never>
+  <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "POST">
 } = make("POST")
 
 /**
@@ -897,10 +891,7 @@ export const put: {
    * @since 1.0.0
    * @category constructors
    */
-  <const Name extends string>(
-    name: Name,
-    path: HttpRouter.PathInput
-  ): HttpApiEndpoint<Name, "PUT", never, never, never, never, void, never, never, never>
+  <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "PUT">
 } = make("PUT")
 
 /**
@@ -917,10 +908,7 @@ export const patch: {
    * @since 1.0.0
    * @category constructors
    */
-  <const Name extends string>(
-    name: Name,
-    path: HttpRouter.PathInput
-  ): HttpApiEndpoint<Name, "PATCH", never, never, never, never, void, never, never, never>
+  <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "PATCH">
 } = make(
   "PATCH"
 )
@@ -939,10 +927,7 @@ export const del: {
    * @since 1.0.0
    * @category constructors
    */
-  <const Name extends string>(
-    name: Name,
-    path: HttpRouter.PathInput
-  ): HttpApiEndpoint<Name, "DELETE", never, never, never, never, void, never, never, never>
+  <const Name extends string>(name: Name, path: HttpRouter.PathInput): HttpApiEndpoint<Name, "DELETE">
 } = make(
   "DELETE"
 )
diff --git a/src/HttpIncomingMessage.ts b/src/HttpIncomingMessage.ts
index 605dd14a336060ee15924c6d95accd66c3281f57..dd7c4959dcfb5d266804e79219d9aaa33e448a84 100644
--- a/src/HttpIncomingMessage.ts
+++ b/src/HttpIncomingMessage.ts
@@ -13,7 +13,7 @@ import type { ParseOptions } from "effect/SchemaAST"
 import type * as Stream from "effect/Stream"
 import * as FileSystem from "./FileSystem.js"
 import type * as Headers from "./Headers.js"
-import type * as UrlParams from "./UrlParams.js"
+import * as UrlParams from "./UrlParams.js"
 
 /**
  * @since 1.0.0
@@ -56,13 +56,17 @@ export const schemaBodyJson = <A, I, R>(schema: Schema.Schema<A, I, R>, options?
  * @since 1.0.0
  * @category schema
  */
-export const schemaBodyUrlParams = <A, I extends Readonly<Record<string, string | undefined>>, R>(
+export const schemaBodyUrlParams = <
+  A,
+  I extends Readonly<Record<string, string | ReadonlyArray<string> | undefined>>,
+  R
+>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
 ) => {
-  const parse = Schema.decodeUnknown(schema, options)
+  const decode = UrlParams.schemaStruct(schema, options)
   return <E>(self: HttpIncomingMessage<E>): Effect.Effect<A, E | ParseResult.ParseError, R> =>
-    Effect.flatMap(self.urlParamsBody, (_) => parse(Object.fromEntries(_)))
+    Effect.flatMap(self.urlParamsBody, decode)
 }
 
 /**
diff --git a/src/HttpRouter.ts b/src/HttpRouter.ts
index 0e97c984d89b65fe8009448aca231df249d8a2ff..5f5a2ff99d33f80051e84ee99008c01b4d509e17 100644
--- a/src/HttpRouter.ts
+++ b/src/HttpRouter.ts
@@ -359,7 +359,7 @@ export const fromIterable: <R extends Route<any, any>>(
  * @category constructors
  */
 export const makeRoute: <E, R>(
-  method: Method.HttpMethod,
+  method: Method.HttpMethod | "*",
   path: PathInput,
   handler: Route.Handler<E, R>,
   options?: { readonly prefix?: string | undefined; readonly uninterruptible?: boolean | undefined } | undefined
diff --git a/src/HttpServerRequest.ts b/src/HttpServerRequest.ts
index 27bc396554f605c3d8f9d52d6aeb225b48965c10..3382467ea27ebb402c1e536f9ebb1b44716fdfb7 100644
--- a/src/HttpServerRequest.ts
+++ b/src/HttpServerRequest.ts
@@ -183,7 +183,11 @@ export const schemaBodyForm: <A, I extends Partial<Multipart.Persisted>, R>(
  * @since 1.0.0
  * @category schema
  */
-export const schemaBodyUrlParams: <A, I extends Readonly<Record<string, string | undefined>>, R>(
+export const schemaBodyUrlParams: <
+  A,
+  I extends Readonly<Record<string, string | ReadonlyArray<string> | undefined>>,
+  R
+>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
 ) => Effect.Effect<A, ParseResult.ParseError | Error.RequestError, R | HttpServerRequest> = internal.schemaBodyUrlParams
diff --git a/src/Multipart.ts b/src/Multipart.ts
index e2c36f58da798b157f24ab07adba6a2bc3c87f27..483ccfeeab7d76657842384be055caa5d02d8a89 100644
--- a/src/Multipart.ts
+++ b/src/Multipart.ts
@@ -114,7 +114,7 @@ export const isPersistedFile: (u: unknown) => u is PersistedFile = internal.isPe
  * @category models
  */
 export interface Persisted {
-  readonly [key: string]: ReadonlyArray<PersistedFile> | string
+  readonly [key: string]: ReadonlyArray<PersistedFile> | ReadonlyArray<string> | string
 }
 
 /**
diff --git a/src/OpenApi.ts b/src/OpenApi.ts
index 61447ed1986015f87997d9775f28657f6bff0c74..32879f2883fe09b8418bd1c2fcf6d02c72cd7622 100644
--- a/src/OpenApi.ts
+++ b/src/OpenApi.ts
@@ -6,7 +6,6 @@ import { globalValue } from "effect/GlobalValue"
 import * as Option from "effect/Option"
 import type { ReadonlyRecord } from "effect/Record"
 import * as Schema from "effect/Schema"
-import * as AST from "effect/SchemaAST"
 import type { DeepMutable, Mutable } from "effect/Types"
 import * as HttpApi from "./HttpApi.js"
 import * as HttpApiMiddleware from "./HttpApiMiddleware.js"
@@ -90,9 +89,10 @@ export class Override extends Context.Tag("@effect/platform/OpenApi/Override")<O
  * @since 1.0.0
  * @category annotations
  */
-export class Transform
-  extends Context.Tag("@effect/platform/OpenApi/Transform")<Transform, (openApiSpec: OpenAPISpec) => OpenAPISpec>()
-{}
+export class Transform extends Context.Tag("@effect/platform/OpenApi/Transform")<
+  Transform,
+  (openApiSpec: Record<string, any>) => Record<string, any>
+>() {}
 
 const contextPartial = <Tags extends Record<string, Context.Tag<any, any>>>(tags: Tags): (
   options: {
@@ -119,18 +119,15 @@ export const annotations: (
   options: {
     readonly identifier?: string | undefined
     readonly title?: string | undefined
-    readonly summary?: string | undefined
     readonly version?: string | undefined
     readonly description?: string | undefined
     readonly license?: OpenAPISpecLicense | undefined
+    readonly summary?: string | undefined
     readonly externalDocs?: OpenAPISpecExternalDocs | undefined
     readonly servers?: ReadonlyArray<OpenAPISpecServer> | undefined
     readonly format?: string | undefined
     readonly override?: Record<string, unknown> | undefined
-    /**
-     * Transforms the generated OpenAPI specification
-     */
-    readonly transform?: ((openApiSpec: OpenAPISpec) => OpenAPISpec) | undefined
+    readonly transform?: ((openApiSpec: Record<string, any>) => Record<string, any>) | undefined
   }
 ) => Context.Context<never> = contextPartial({
   identifier: Identifier,
@@ -217,7 +214,7 @@ export const fromApi = <A extends HttpApi.HttpApi.Any>(self: A): OpenAPISpec =>
   })
   HttpApi.reflect(api as any, {
     onGroup({ group }) {
-      const tag: Mutable<OpenAPISpecTag> = {
+      let tag: Mutable<OpenAPISpecTag> = {
         name: Context.getOrElse(group.annotations, Title, () => group.identifier)
       }
       Option.map(Context.getOption(group.annotations, Description), (description) => {
@@ -229,12 +226,15 @@ export const fromApi = <A extends HttpApi.HttpApi.Any>(self: A): OpenAPISpec =>
       Option.map(Context.getOption(group.annotations, Override), (override) => {
         Object.assign(tag, override)
       })
+      Option.map(Context.getOption(group.annotations, Transform), (fn) => {
+        tag = fn(tag) as OpenAPISpecTag
+      })
       spec.tags!.push(tag)
     },
     onEndpoint({ endpoint, errors, group, middleware, payloads, successes }) {
       const path = endpoint.path.replace(/:(\w+)[^/]*/g, "{$1}")
       const method = endpoint.method.toLowerCase() as OpenAPISpecMethodName
-      const op: DeepMutable<OpenAPISpecOperation> = {
+      let op: DeepMutable<OpenAPISpecOperation> = {
         tags: [Context.getOrElse(group.annotations, Title, () => group.identifier)],
         operationId: Context.getOrElse(
           endpoint.annotations,
@@ -275,10 +275,10 @@ export const fromApi = <A extends HttpApi.HttpApi.Any>(self: A): OpenAPISpec =>
         })
         op.requestBody = { content, required: true }
       }
-      for (const [status, ast] of successes) {
+      for (const [status, { ast, description }] of successes) {
         if (op.responses![status]) continue
         op.responses![status] = {
-          description: Option.getOrElse(getDescriptionOrIdentifier(ast), () => "Success")
+          description: Option.getOrElse(description, () => "Success")
         }
         ast.pipe(
           Option.filter((ast) => !HttpApiSchema.getEmptyDecodeable(ast)),
@@ -343,10 +343,10 @@ export const fromApi = <A extends HttpApi.HttpApi.Any>(self: A): OpenAPISpec =>
           })
         }
       }
-      for (const [status, ast] of errors) {
+      for (const [status, { ast, description }] of errors) {
         if (op.responses![status]) continue
         op.responses![status] = {
-          description: Option.getOrElse(getDescriptionOrIdentifier(ast), () => "Error")
+          description: Option.getOrElse(description, () => "Error")
         }
         ast.pipe(
           Option.filter((ast) => !HttpApiSchema.getEmptyDecodeable(ast)),
@@ -365,12 +365,15 @@ export const fromApi = <A extends HttpApi.HttpApi.Any>(self: A): OpenAPISpec =>
       Option.map(Context.getOption(endpoint.annotations, Override), (override) => {
         Object.assign(op, override)
       })
+      Option.map(Context.getOption(endpoint.annotations, Transform), (transformFn) => {
+        op = transformFn(op)
+      })
       spec.paths[path][method] = op
     }
   })
 
   Option.map(Context.getOption(api.annotations, Transform), (transformFn) => {
-    spec = transformFn(spec)
+    spec = transformFn(spec) as OpenAPISpec
   })
 
   apiCache.set(self, spec)
@@ -414,21 +417,6 @@ const makeSecurityScheme = (security: HttpApiSecurity): OpenAPISecurityScheme =>
   }
 }
 
-const getDescriptionOrIdentifier = (ast: Option.Option<AST.PropertySignature | AST.AST>): Option.Option<string> =>
-  ast.pipe(
-    Option.map((ast) =>
-      "to" in ast ?
-        {
-          ...ast.to.annotations,
-          ...ast.annotations
-        } :
-        ast.annotations
-    ),
-    Option.flatMapNullable((annotations) =>
-      annotations[AST.DescriptionAnnotationId] ?? annotations[AST.IdentifierAnnotationId] as any
-    )
-  )
-
 /**
  * @category models
  * @since 1.0.0
diff --git a/src/OpenApiJsonSchema.ts b/src/OpenApiJsonSchema.ts
index 156b0cc3e39a862db1598d7d4a9a4faa15644ed0..68cbfb8c8adbf401e30c128683ae168f1f242d1c 100644
--- a/src/OpenApiJsonSchema.ts
+++ b/src/OpenApiJsonSchema.ts
@@ -85,6 +85,7 @@ export interface String extends Annotations {
   minLength?: number
   maxLength?: number
   pattern?: string
+  format?: string
   contentEncoding?: string
   contentMediaType?: string
   contentSchema?: JsonSchema
@@ -99,6 +100,7 @@ export interface Numeric extends Annotations {
   exclusiveMinimum?: number
   maximum?: number
   exclusiveMaximum?: number
+  format?: string
 }
 
 /**
diff --git a/src/UrlParams.ts b/src/UrlParams.ts
index 9aef2fd6a5e93aa4f4177d95b507123fdbc64e41..da2dfc85e005b17a19cd8027627cba38ae886b6b 100644
--- a/src/UrlParams.ts
+++ b/src/UrlParams.ts
@@ -236,13 +236,7 @@ export const remove: {
 
 /**
  * @since 1.0.0
- * @category combinators
- */
-export const toString = (self: UrlParams): string => new URLSearchParams(self as any).toString()
-
-/**
- * @since 1.0.0
- * @category constructors
+ * @category conversions
  */
 export const makeUrl = (url: string, params: UrlParams, hash: Option.Option<string>): Either.Either<URL, Error> => {
   try {
@@ -262,6 +256,12 @@ export const makeUrl = (url: string, params: UrlParams, hash: Option.Option<stri
   }
 }
 
+/**
+ * @since 1.0.0
+ * @category conversions
+ */
+export const toString = (self: UrlParams): string => new URLSearchParams(self as any).toString()
+
 const baseUrl = (): string | undefined => {
   if (
     "location" in globalThis &&
@@ -327,3 +327,35 @@ export const schemaJson = <A, I, R>(schema: Schema.Schema<A, I, R>, options?: Pa
     (self: UrlParams, field: string) => Effect.Effect<A, ParseResult.ParseError, R>
   >(2, (self, field) => parse(Option.getOrElse(getLast(self, field), () => "")))
 }
+
+/**
+ * Extract schema from all key-value pairs in the given `UrlParams`.
+ *
+ * @example
+ * import { Effect, Schema } from "effect"
+ * import { UrlParams } from "@effect/platform"
+ *
+ * Effect.gen(function* () {
+ *   const urlParams = UrlParams.fromInput({ "a": [10, "string"], "b": false })
+ *   const result = yield* UrlParams.schemaStruct(Schema.Struct({
+ *     a: Schema.Tuple(Schema.NumberFromString, Schema.String),
+ *     b: Schema.BooleanFromString
+ *   }))(urlParams)
+ *
+ *   assert.deepStrictEqual(result, {
+ *     a: [10, "string"],
+ *     b: false
+ *   })
+ * })
+ *
+ * @since 1.0.0
+ * @category schema
+ */
+export const schemaStruct = <A, I extends Record<string, string | ReadonlyArray<string> | undefined>, R>(
+  schema: Schema.Schema<A, I, R>,
+  options?: ParseOptions | undefined
+) =>
+(self: UrlParams): Effect.Effect<A, ParseResult.ParseError, R> => {
+  const parse = Schema.decodeUnknown(schema, options)
+  return parse(toRecord(self))
+}
diff --git a/src/internal/httpClient.ts b/src/internal/httpClient.ts
index 1c684b7b5e7b97fdf29489ecf1483c507cf6da5b..7cc1e26f4789c3885c49c492f3163a30df5f9d8f 100644
--- a/src/internal/httpClient.ts
+++ b/src/internal/httpClient.ts
@@ -157,11 +157,13 @@ export const make = (
             `http.client ${request.method}`,
             { kind: "client", captureStackTrace: false },
             (span) => {
+              span.attribute("http.method", request.method)
               span.attribute("http.request.method", request.method)
               span.attribute("server.address", url.origin)
               if (url.port !== "") {
                 span.attribute("server.port", +url.port)
               }
+              span.attribute("http.url", url.toString())
               span.attribute("url.full", url.toString())
               span.attribute("url.path", url.pathname)
               span.attribute("url.scheme", url.protocol.slice(0, -1))
@@ -189,6 +191,7 @@ export const make = (
                 ),
                 (response) => {
                   span.attribute("http.response.status_code", response.status)
+                  span.attribute("http.status_code", response.status)
                   const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames)
                   for (const name in redactedHeaders) {
                     span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]))
diff --git a/src/internal/httpMiddleware.ts b/src/internal/httpMiddleware.ts
index aa1ff93f02ecab4842d9bcd3795d158508fb343d..c6607ff02e5820e814920ee6b48f40ea9f717c8a 100644
--- a/src/internal/httpMiddleware.ts
+++ b/src/internal/httpMiddleware.ts
@@ -129,8 +129,10 @@ export const tracer = make((httpApp) =>
         captureStackTrace: false
       },
       (span) => {
+        span.attribute("http.method", request.method)
         span.attribute("http.request.method", request.method)
         if (url !== undefined) {
+          span.attribute("http.url", url.toString())
           span.attribute("url.full", url.toString())
           span.attribute("url.path", url.pathname)
           const query = url.search.slice(1)
@@ -153,6 +155,7 @@ export const tracer = make((httpApp) =>
           (exit) => {
             const response = ServerError.exitResponse(exit)
             span.attribute("http.response.status_code", response.status)
+            span.attribute("http.status_code", response.status)
             const redactedHeaders = Headers.redact(response.headers, redactedHeaderNames)
             for (const name in redactedHeaders) {
               span.attribute(`http.response.header.${name}`, String(redactedHeaders[name]))
diff --git a/src/internal/httpRouter.ts b/src/internal/httpRouter.ts
index 9d53fec2c90237b72ddf42bcaeb0c48ee1b891c1..48924d9eefcaaf33602aebc67b3b74f433bbbe44 100644
--- a/src/internal/httpRouter.ts
+++ b/src/internal/httpRouter.ts
@@ -342,7 +342,7 @@ export const fromIterable = <R extends Router.Route<any, any>>(
 
 /** @internal */
 export const makeRoute = <E, R>(
-  method: Method.HttpMethod,
+  method: Method.HttpMethod | "*",
   path: Router.PathInput,
   handler: Router.Route.Handler<E, R>,
   options?: {
diff --git a/src/internal/httpServerRequest.ts b/src/internal/httpServerRequest.ts
index 56880eac11d7cf9b5d2940ed7b1cc200e28efc2d..dc9d8eade58769dbaca832f74ed5473ca105d993 100644
--- a/src/internal/httpServerRequest.ts
+++ b/src/internal/httpServerRequest.ts
@@ -122,7 +122,11 @@ export const schemaBodyForm = <A, I extends Partial<Multipart.Persisted>, R>(
 }
 
 /** @internal */
-export const schemaBodyUrlParams = <A, I extends Readonly<Record<string, string | undefined>>, R>(
+export const schemaBodyUrlParams = <
+  A,
+  I extends Readonly<Record<string, string | ReadonlyArray<string> | undefined>>,
+  R
+>(
   schema: Schema.Schema<A, I, R>,
   options?: ParseOptions | undefined
 ) => {
diff --git a/src/internal/multipart.ts b/src/internal/multipart.ts
index b73d6ac0d7bead019bd35cfa3757e88d01d0354b..99d70b8acbf579e53c5b6989683055900ad723be 100644
--- a/src/internal/multipart.ts
+++ b/src/internal/multipart.ts
@@ -397,30 +397,36 @@ export const toPersisted = (
     const fs = yield* FileSystem.FileSystem
     const path_ = yield* Path.Path
     const dir = yield* fs.makeTempDirectoryScoped()
-    return yield* Stream.runFoldEffect(
-      stream,
-      Object.create(null) as Record<string, Array<Multipart.PersistedFile> | string>,
-      (persisted, part) => {
-        if (part._tag === "Field") {
+    const persisted: Record<string, Array<Multipart.PersistedFile> | Array<string> | string> = Object.create(null)
+    yield* Stream.runForEach(stream, (part) => {
+      if (part._tag === "Field") {
+        if (!(part.key in persisted)) {
           persisted[part.key] = part.value
-          return Effect.succeed(persisted)
+        } else if (typeof persisted[part.key] === "string") {
+          persisted[part.key] = [persisted[part.key] as string, part.value]
+        } else {
+          ;(persisted[part.key] as Array<string>).push(part.value)
         }
-        const file = part
-        const path = path_.join(dir, path_.basename(file.name).slice(-128))
-        if (!Array.isArray(persisted[part.key])) {
-          persisted[part.key] = []
-        }
-        ;(persisted[part.key] as Array<Multipart.PersistedFile>).push(
-          new PersistedFileImpl(
-            file.key,
-            file.name,
-            file.contentType,
-            path
-          )
-        )
-        return Effect.as(writeFile(path, file), persisted)
+        return Effect.void
+      } else if (part.name === "") {
+        return Effect.void
       }
-    )
+      const file = part
+      const path = path_.join(dir, path_.basename(file.name).slice(-128))
+      const filePart = new PersistedFileImpl(
+        file.key,
+        file.name,
+        file.contentType,
+        path
+      )
+      if (Array.isArray(persisted[part.key])) {
+        ;(persisted[part.key] as Array<Multipart.PersistedFile>).push(filePart)
+      } else {
+        persisted[part.key] = [filePart]
+      }
+      return writeFile(path, file)
+    })
+    return persisted
   }).pipe(
     Effect.catchTags({
       SystemError: (cause) => Effect.fail(new MultipartError({ reason: "InternalError", cause })),
